#!/usr/bin/env node
import{h as tt,k as Nh,o as at,q as Dr,d as Gt,u as K,w as ia,r as jh,s as Lh,v as ct,x as oa,y as Ss,z as kh,A as At,t as Dh,e as aa,B as ca,c as xh,L as rt,j as ua,D as Mh,E as nt,F as qh,G as Uh,n as Hh,H as Bt,I as ar,J as Rs,K as la,M as Fh,O as Vh}from"../shared/likec4.wnruN9MH.mjs";import Se,{hrtime as zh,cwd as As,exit as fa,stdout as Gh,argv as Bh}from"node:process";import{strictEqual as Wh,notStrictEqual as Kh}from"assert";import Os,{resolve as He,dirname as Cs,normalize as Yh,relative as Xh,
extname as Jh,basename as Qh}from"path";import{statSync as da,readdirSync as Zh,readFileSync as Ps,writeFile as ep}from"fs";import ha,{format as pa,inspect as tp}from"util";import{fileURLToPath as rp}from"url";import me,{resolve as ye,dirname as Ot,join as cr,relative as gt,extname as ur,isAbsolute as Is,basename as xr}from"node:path";import pe,{existsSync as Ct,copyFileSync as ma,readdirSync as np,rmSync as Ts}from"node:fs";import ga,{mkdtemp as Mr,writeFile as Pt,mkdir as ut,stat as Ns,copyFile as sp,
rm as ip}from"node:fs/promises";import lr,{tmpdir as qr}from"node:os";import{fileURLToPath as ya}from"node:url";import js from"@vitejs/plugin-react";import{C as _a,t as Ls,j as $a,e as va,N as Wt,L as ks,g as op,a as ap}from"../shared/likec4.bAyyEO3Z.mjs";import{build as fr,createServer as cp,preview as up}from"vite";import lp from"node:module";import{sortNaturalByFqn as ba,compareNatural as fp,hasAtLeast as Ds,invariant as xs,nonexhaustive as wa,delay as Ea}from"@likec4/core";import{chromium as Sa}from"playwright";
import dp from"node:net";import{setTimeout as hp}from"node:timers/promises";import{promisify as Ie,isDeepStrictEqual as pp}from"node:util";import dr from"node:crypto";import mp from"node:assert";import"tty";import"os";import"crypto";import"net";import"child_process";import"@likec4/core/types";import"events";import"buffer";import"@hpcc-js/wasm-graphviz";import"@likec4/core/compute-view";import"@likec4/core/utils";import"boxen";import"node:child_process";import"node:events";import"node:stream/promises";
import"fs/promises";import"@likec4/core/model";const gp={right:wp,center:Ep},yp=0,Ur=1,_p=2,Hr=3;class $p{constructor(e){var r;this.width=e.width,this.wrap=(r=e.wrap)!==null&&r!==void 0?r:!0,this.rows=[]}span(...e){const r=this.div(...e);r.span=!0}resetOutput(){this.rows=[]}div(...e){if(e.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...e)&&typeof e[0]=="string")return this.applyLayoutDSL(e[0]);const r=e.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),
r}shouldApplyLayoutDSL(...e){return e.length===1&&typeof e[0]=="string"&&/[\t\n]/.test(e[0])}applyLayoutDSL(e){const r=e.split(`
`).map(s=>s.split("	"));let n=0;return r.forEach(s=>{s.length>1&&ke.stringWidth(s[0])>n&&(n=Math.min(Math.floor(this.width*.5),ke.stringWidth(s[0])))}),r.forEach(s=>{this.div(...s.map((i,o)=>({text:i.trim(),padding:this.measurePadding(i),width:o===0&&s.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(e){return{text:e,padding:this.measurePadding(e)}}measurePadding(e){const r=ke.stripAnsi(e);return[0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){const e=[];return this.
rows.forEach(r=>{this.rowToString(r,e)}),e.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(e,r){return this.rasterize(e).forEach((n,s)=>{let i="";n.forEach((o,a)=>{const{width:c}=e[a],l=this.negatePadding(e[a]);let u=o;if(l>ke.stringWidth(o)&&(u+=" ".repeat(l-ke.stringWidth(o))),e[a].align&&e[a].align!=="left"&&this.wrap){const h=gp[e[a].align];u=h(u,l),ke.stringWidth(u)<l&&(u+=" ".repeat((c||0)-ke.stringWidth(u)-1))}const f=e[a].padding||[0,0,0,0];f[Hr]&&(i+=" ".repeat(f[Hr])),i+=Ra(e[a],u,"| "),i+=u,i+=Ra(e[a],u," |"),f[Ur]&&(i+=" ".repeat(f[Ur])),s===0&&r.length>0&&(i=
this.renderInline(i,r[r.length-1]))}),r.push({text:i.replace(/ +$/,""),span:e.span})}),r}renderInline(e,r){const n=e.match(/^ */),s=n?n[0].length:0,i=r.text,o=ke.stringWidth(i.trimRight());return r.span?this.wrap?s<o?e:(r.hidden=!0,i.trimRight()+" ".repeat(s-o)+e.trimLeft()):(r.hidden=!0,i+e):e}rasterize(e){const r=[],n=this.columnWidths(e);let s;return e.forEach((i,o)=>{i.width=n[o],this.wrap?s=ke.wrap(i.text,this.negatePadding(i),{hard:!0}).split(`
`):s=i.text.split(`
`),i.border&&(s.unshift("."+"-".repeat(this.negatePadding(i)+2)+"."),s.push("'"+"-".repeat(this.negatePadding(i)+2)+"'")),i.padding&&(s.unshift(...new Array(i.padding[yp]||0).fill("")),s.push(...new Array(i.padding[_p]||0).fill(""))),s.forEach((a,c)=>{r[c]||r.push([]);const l=r[c];for(let u=0;u<o;u++)l[u]===void 0&&l.push("");l.push(a)})}),r}negatePadding(e){let r=e.width||0;return e.padding&&(r-=(e.padding[Hr]||0)+(e.padding[Ur]||0)),e.border&&(r-=4),r}columnWidths(e){if(!this.wrap)return e.map(
o=>o.width||ke.stringWidth(o.text));let r=e.length,n=this.width;const s=e.map(o=>{if(o.width)return r--,n-=o.width,o.width}),i=r?Math.floor(n/r):0;return s.map((o,a)=>o===void 0?Math.max(i,vp(e[a])):o)}}function Ra(t,e,r){return t.border?/[.']-+[.']/.test(e)?"":e.trim().length!==0?r:"  ":""}function vp(t){const e=t.padding||[],r=1+(e[Hr]||0)+(e[Ur]||0);return t.border?r+4:r}function bp(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function wp(t,e){
t=t.trim();const r=ke.stringWidth(t);return r<e?" ".repeat(e-r)+t:t}function Ep(t,e){t=t.trim();const r=ke.stringWidth(t);return r>=e?t:" ".repeat(e-r>>1)+t}let ke;function Sp(t,e){return ke=e,new $p({width:t?.width||bp(),wrap:t?.wrap})}const Aa=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function Oa(t){return t.replace(Aa,"")}function Rp(t,e){const[r,n]=t.match(Aa)||["",""];t=Oa(t);let s="";for(let i=0;i<t.length;i++)i!==0&&i%e===0&&(s+=
`
`),s+=t.charAt(i);return r&&n&&(s=`${r}${s}${n}`),s}function Ap(t){return Sp(t,{stringWidth:e=>[...e].length,stripAnsi:Oa,wrap:Rp})}function Op(t,e){let r=He(".",t),n;for(da(r).isDirectory()||(r=Cs(r));;){if(n=e(r,Zh(r)),n)return He(r,n);if(r=Cs(n=r),n===r)break}}function hr(t){if(t!==t.toLowerCase()&&t!==t.toUpperCase()||(t=t.toLowerCase()),t.indexOf("-")===-1&&t.indexOf("_")===-1)return t;{let r="",n=!1;const s=t.match(/^-+/);for(let i=s?s[0].length:0;i<t.length;i++){let o=t.charAt(i);n&&(n=!1,
o=o.toUpperCase()),i!==0&&(o==="-"||o==="_")?n=!0:o!=="-"&&o!=="_"&&(r+=o)}return r}}function Ca(t,e){const r=t.toLowerCase();e=e||"-";let n="";for(let s=0;s<t.length;s++){const i=r.charAt(s),o=t.charAt(s);i!==o&&s>0?n+=`${e}${r.charAt(s)}`:n+=o}return n}function Pa(t){return t==null?!1:typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^0[^.]/.test(t)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function Cp(t){if(Array.isArray(t))return t.map(o=>typeof o!="string"?o+"":o);t=t.trim();let e=0,
r=null,n=null,s=null;const i=[];for(let o=0;o<t.length;o++){if(r=n,n=t.charAt(o),n===" "&&!s){r!==" "&&e++;continue}n===s?s=null:(n==="'"||n==='"')&&!s&&(s=n),i[e]||(i[e]=""),i[e]+=n}return i}var Be;(function(t){t.BOOLEAN="boolean",t.STRING="string",t.NUMBER="number",t.ARRAY="array"})(Be||(Be={}));let lt;class Pp{constructor(e){lt=e}parse(e,r){const n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,
envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),s=Cp(e),i=typeof e=="string",o=Ip(Object.assign(Object.create(null),n.alias)),a=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"se\
t-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),l=n.configObjects||[],u=n.envPrefix,f=a["populate--"],h=f?"--":"_",_=Object.create(null),b=Object.create(null),y=n.__||lt.format,d={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),
configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},g=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,p=new RegExp("^--"+a["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(P){const N=typeof P=="object"?P.key:P,ee=Object.keys(P).map(function(W){return{boolean:"bools",string:"strings",number:"numbers"}[W]}).filter(Boolean).pop();ee&&(d[ee][N]=!0),d.arrays[N]=!0,d.keys.push(N)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(P){
d.bools[P]=!0,d.keys.push(P)}),[].concat(n.string||[]).filter(Boolean).forEach(function(P){d.strings[P]=!0,d.keys.push(P)}),[].concat(n.number||[]).filter(Boolean).forEach(function(P){d.numbers[P]=!0,d.keys.push(P)}),[].concat(n.count||[]).filter(Boolean).forEach(function(P){d.counts[P]=!0,d.keys.push(P)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(P){d.normalize[P]=!0,d.keys.push(P)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([P,N])=>{typeof N=="number"&&(d.nargs[P]=
N,d.keys.push(P))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([P,N])=>{typeof N=="function"&&(d.coercions[P]=N,d.keys.push(P))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(P){d.configs[P]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([P,N])=>{(typeof N=="boolean"||typeof N=="function")&&(d.configs[P]=N)})),x(n.key,o,n.default,d.arrays),Object.keys(c).forEach(function(P){(d.aliases[P]||
[]).forEach(function(N){c[N]=c[P]})});let m=null;ne();let $=[];const v=Object.assign(Object.create(null),{_:[]}),w={};for(let P=0;P<s.length;P++){const N=s[P],ee=N.replace(/^-{3,}/,"---");let W,T,te,z,re,le;if(N!=="--"&&/^-/.test(N)&&Z(N))S(N);else if(ee.match(/^---+(=|$)/)){S(N);continue}else if(N.match(/^--.+=/)||!a["short-option-groups"]&&N.match(/^-.+=/))z=N.match(/^--?([^=]+)=([\s\S]*)$/),z!==null&&Array.isArray(z)&&z.length>=3&&(E(z[1],d.arrays)?P=F(P,z[1],s,z[2]):E(z[1],d.nargs)!==!1?P=I(
P,z[1],s,z[2]):B(z[1],z[2],!0));else if(N.match(p)&&a["boolean-negation"])z=N.match(p),z!==null&&Array.isArray(z)&&z.length>=2&&(T=z[1],B(T,E(T,d.arrays)?[!1]:!1));else if(N.match(/^--.+/)||!a["short-option-groups"]&&N.match(/^-[^-]+/))z=N.match(/^--?(.+)/),z!==null&&Array.isArray(z)&&z.length>=2&&(T=z[1],E(T,d.arrays)?P=F(P,T,s):E(T,d.nargs)!==!1?P=I(P,T,s):(re=s[P+1],re!==void 0&&(!re.match(/^-/)||re.match(g))&&!E(T,d.bools)&&!E(T,d.counts)||/^(true|false)$/.test(re)?(B(T,re),P++):B(T,oe(T))));else if(N.
match(/^-.\..+=/))z=N.match(/^-([^=]+)=([\s\S]*)$/),z!==null&&Array.isArray(z)&&z.length>=3&&B(z[1],z[2]);else if(N.match(/^-.\..+/)&&!N.match(g))re=s[P+1],z=N.match(/^-(.\..+)/),z!==null&&Array.isArray(z)&&z.length>=2&&(T=z[1],re!==void 0&&!re.match(/^-/)&&!E(T,d.bools)&&!E(T,d.counts)?(B(T,re),P++):B(T,oe(T)));else if(N.match(/^-[^-]+/)&&!N.match(g)){te=N.slice(1,-1).split(""),W=!1;for(let $e=0;$e<te.length;$e++){if(re=N.slice($e+2),te[$e+1]&&te[$e+1]==="="){le=N.slice($e+3),T=te[$e],E(T,d.arrays)?
P=F(P,T,s,le):E(T,d.nargs)!==!1?P=I(P,T,s,le):B(T,le),W=!0;break}if(re==="-"){B(te[$e],re);continue}if(/[A-Za-z]/.test(te[$e])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(re)&&E(re,d.bools)===!1){B(te[$e],re),W=!0;break}if(te[$e+1]&&te[$e+1].match(/\W/)){B(te[$e],re),W=!0;break}else B(te[$e],oe(te[$e]))}T=N.slice(-1)[0],!W&&T!=="-"&&(E(T,d.arrays)?P=F(P,T,s):E(T,d.nargs)!==!1?P=I(P,T,s):(re=s[P+1],re!==void 0&&(!/^(-|--)[^-]/.test(re)||re.match(g))&&!E(T,d.bools)&&!E(T,d.counts)||/^(true|false)$/.test(re)?
(B(T,re),P++):B(T,oe(T))))}else if(N.match(/^-[0-9]$/)&&N.match(g)&&E(N.slice(1),d.bools))T=N.slice(1),B(T,oe(T));else if(N==="--"){$=s.slice(P+1);break}else if(a["halt-at-non-option"]){$=s.slice(P);break}else S(N)}G(v,!0),G(v,!1),D(v),Y(),H(v,d.aliases,c,!0),J(v),a["set-placeholder-key"]&&se(v),Object.keys(d.counts).forEach(function(P){A(v,P.split("."))||B(P,0)}),f&&$.length&&(v[h]=[]),$.forEach(function(P){v[h].push(P)}),a["camel-case-expansion"]&&a["strip-dashed"]&&Object.keys(v).filter(P=>P!==
"--"&&P.includes("-")).forEach(P=>{delete v[P]}),a["strip-aliased"]&&[].concat(...Object.keys(o).map(P=>o[P])).forEach(P=>{a["camel-case-expansion"]&&P.includes("-")&&delete v[P.split(".").map(N=>hr(N)).join(".")],delete v[P]});function S(P){const N=j("_",P);(typeof N=="string"||typeof N=="number")&&v._.push(N)}function I(P,N,ee,W){let T,te=E(N,d.nargs);if(te=typeof te!="number"||isNaN(te)?1:te,te===0)return Q(W)||(m=Error(y("Argument unexpected for: %s",N))),B(N,oe(N)),P;let z=Q(W)?0:1;if(a["na\
rgs-eats-options"])ee.length-(P+1)+z<te&&(m=Error(y("Not enough arguments following: %s",N))),z=te;else{for(T=P+1;T<ee.length&&(!ee[T].match(/^-[^0-9]/)||ee[T].match(g)||Z(ee[T]));T++)z++;z<te&&(m=Error(y("Not enough arguments following: %s",N)))}let re=Math.min(z,te);for(!Q(W)&&re>0&&(B(N,W),re--),T=P+1;T<re+P+1;T++)B(N,ee[T]);return P+re}function F(P,N,ee,W){let T=[],te=W||ee[P+1];const z=E(N,d.nargs);if(E(N,d.bools)&&!/^(true|false)$/.test(te))T.push(!0);else if(Q(te)||Q(W)&&/^-/.test(te)&&!g.
test(te)&&!Z(te)){if(c[N]!==void 0){const re=c[N];T=Array.isArray(re)?re:[re]}}else{Q(W)||T.push(M(N,W,!0));for(let re=P+1;re<ee.length&&!(!a["greedy-arrays"]&&T.length>0||z&&typeof z=="number"&&T.length>=z||(te=ee[re],/^-/.test(te)&&!g.test(te)&&!Z(te)));re++)P=re,T.push(M(N,te,i))}return typeof z=="number"&&(z&&T.length<z||isNaN(z)&&T.length===0)&&(m=Error(y("Not enough arguments following: %s",N))),B(N,T),P}function B(P,N,ee=i){if(/-/.test(P)&&a["camel-case-expansion"]){const te=P.split(".").
map(function(z){return hr(z)}).join(".");k(P,te)}const W=M(P,N,ee),T=P.split(".");V(v,T,W),d.aliases[P]&&d.aliases[P].forEach(function(te){const z=te.split(".");V(v,z,W)}),T.length>1&&a["dot-notation"]&&(d.aliases[T[0]]||[]).forEach(function(te){let z=te.split(".");const re=[].concat(T);re.shift(),z=z.concat(re),(d.aliases[P]||[]).includes(z.join("."))||V(v,z,W)}),E(P,d.normalize)&&!E(P,d.arrays)&&[P].concat(d.aliases[P]||[]).forEach(function(z){Object.defineProperty(w,z,{enumerable:!0,get(){return N},
set(re){N=typeof re=="string"?lt.normalize(re):re}})})}function k(P,N){d.aliases[P]&&d.aliases[P].length||(d.aliases[P]=[N],_[N]=!0),d.aliases[N]&&d.aliases[N].length||k(N,P)}function M(P,N,ee){ee&&(N=Tp(N)),(E(P,d.bools)||E(P,d.counts))&&typeof N=="string"&&(N=N==="true");let W=Array.isArray(N)?N.map(function(T){return j(P,T)}):j(P,N);return E(P,d.counts)&&(Q(W)||typeof W=="boolean")&&(W=Ms()),E(P,d.normalize)&&E(P,d.arrays)&&(Array.isArray(N)?W=N.map(T=>lt.normalize(T)):W=lt.normalize(N)),W}function j(P,N){
return!a["parse-positional-numbers"]&&P==="_"||!E(P,d.strings)&&!E(P,d.bools)&&!Array.isArray(N)&&(Pa(N)&&a["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${N}`)))||!Q(N)&&E(P,d.numbers))&&(N=Number(N)),N}function D(P){const N=Object.create(null);H(N,d.aliases,c),Object.keys(d.configs).forEach(function(ee){const W=P[ee]||N[ee];if(W)try{let T=null;const te=lt.resolve(lt.cwd(),W),z=d.configs[ee];if(typeof z=="function"){try{T=z(te)}catch(re){T=re}if(T instanceof Error){m=T;return}}else
T=lt.require(te);U(T)}catch(T){T.name==="PermissionDenied"?m=T:P[ee]&&(m=Error(y("Invalid JSON config file: %s",W)))}})}function U(P,N){Object.keys(P).forEach(function(ee){const W=P[ee],T=N?N+"."+ee:ee;typeof W=="object"&&W!==null&&!Array.isArray(W)&&a["dot-notation"]?U(W,T):(!A(v,T.split("."))||E(T,d.arrays)&&a["combine-arrays"])&&B(T,W)})}function Y(){typeof l<"u"&&l.forEach(function(P){U(P)})}function G(P,N){if(typeof u>"u")return;const ee=typeof u=="string"?u:"",W=lt.env();Object.keys(W).forEach(
function(T){if(ee===""||T.lastIndexOf(ee,0)===0){const te=T.split("__").map(function(z,re){return re===0&&(z=z.substring(ee.length)),hr(z)});(N&&d.configs[te.join(".")]||!N)&&!A(P,te)&&B(te.join("."),W[T])}})}function J(P){let N;const ee=new Set;Object.keys(P).forEach(function(W){if(!ee.has(W)&&(N=E(W,d.coercions),typeof N=="function"))try{const T=j(W,N(P[W]));[].concat(d.aliases[W]||[],W).forEach(te=>{ee.add(te),P[te]=T})}catch(T){m=T}})}function se(P){return d.keys.forEach(N=>{~N.indexOf(".")||
typeof P[N]>"u"&&(P[N]=void 0)}),P}function H(P,N,ee,W=!1){Object.keys(ee).forEach(function(T){A(P,T.split("."))||(V(P,T.split("."),ee[T]),W&&(b[T]=!0),(N[T]||[]).forEach(function(te){A(P,te.split("."))||V(P,te.split("."),ee[T])}))})}function A(P,N){let ee=P;a["dot-notation"]||(N=[N.join(".")]),N.slice(0,-1).forEach(function(T){ee=ee[T]||{}});const W=N[N.length-1];return typeof ee!="object"?!1:W in ee}function V(P,N,ee){let W=P;a["dot-notation"]||(N=[N.join(".")]),N.slice(0,-1).forEach(function(le){
le=Ia(le),typeof W=="object"&&W[le]===void 0&&(W[le]={}),typeof W[le]!="object"||Array.isArray(W[le])?(Array.isArray(W[le])?W[le].push({}):W[le]=[W[le],{}],W=W[le][W[le].length-1]):W=W[le]});const T=Ia(N[N.length-1]),te=E(N.join("."),d.arrays),z=Array.isArray(ee);let re=a["duplicate-arguments-array"];!re&&E(T,d.nargs)&&(re=!0,(!Q(W[T])&&d.nargs[T]===1||Array.isArray(W[T])&&W[T].length===d.nargs[T])&&(W[T]=void 0)),ee===Ms()?W[T]=Ms(W[T]):Array.isArray(W[T])?re&&te&&z?W[T]=a["flatten-duplicate-ar\
rays"]?W[T].concat(ee):(Array.isArray(W[T][0])?W[T]:[W[T]]).concat([ee]):!re&&!!te==!!z?W[T]=ee:W[T]=W[T].concat([ee]):W[T]===void 0&&te?W[T]=z?ee:[ee]:re&&!(W[T]===void 0||E(T,d.counts)||E(T,d.bools))?W[T]=[W[T],ee]:W[T]=ee}function x(...P){P.forEach(function(N){Object.keys(N||{}).forEach(function(ee){d.aliases[ee]||(d.aliases[ee]=[].concat(o[ee]||[]),d.aliases[ee].concat(ee).forEach(function(W){if(/-/.test(W)&&a["camel-case-expansion"]){const T=hr(W);T!==ee&&d.aliases[ee].indexOf(T)===-1&&(d.aliases[ee].
push(T),_[T]=!0)}}),d.aliases[ee].concat(ee).forEach(function(W){if(W.length>1&&/[A-Z]/.test(W)&&a["camel-case-expansion"]){const T=Ca(W,"-");T!==ee&&d.aliases[ee].indexOf(T)===-1&&(d.aliases[ee].push(T),_[T]=!0)}}),d.aliases[ee].forEach(function(W){d.aliases[W]=[ee].concat(d.aliases[ee].filter(function(T){return W!==T}))}))})})}function E(P,N){const ee=[].concat(d.aliases[P]||[],P),W=Object.keys(N),T=ee.find(te=>W.includes(te));return T?N[T]:!1}function R(P){const N=Object.keys(d);return[].concat(
N.map(W=>d[W])).some(function(W){return Array.isArray(W)?W.includes(P):W[P]})}function C(P,...N){return[].concat(...N).some(function(W){const T=P.match(W);return T&&R(T[1])})}function X(P){if(P.match(g)||!P.match(/^-[^-]+/))return!1;let N=!0,ee;const W=P.slice(1).split("");for(let T=0;T<W.length;T++){if(ee=P.slice(T+2),!R(W[T])){N=!1;break}if(W[T+1]&&W[T+1]==="="||ee==="-"||/[A-Za-z]/.test(W[T])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(ee)||W[T+1]&&W[T+1].match(/\W/))break}return N}function Z(P){return a["\
unknown-options-as-args"]&&ie(P)}function ie(P){return P=P.replace(/^-{3,}/,"--"),P.match(g)||X(P)?!1:!C(P,/^-+([^=]+?)=[\s\S]*$/,p,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function oe(P){return!E(P,d.bools)&&!E(P,d.counts)&&`${P}`in c?c[P]:L(q(P))}function L(P){return{[Be.BOOLEAN]:!0,[Be.STRING]:"",[Be.NUMBER]:void 0,[Be.ARRAY]:[]}[P]}function q(P){let N=Be.BOOLEAN;return E(P,d.strings)?N=Be.STRING:E(P,d.numbers)?N=Be.NUMBER:E(P,d.bools)?N=Be.BOOLEAN:E(P,d.arrays)&&
(N=Be.ARRAY),N}function Q(P){return P===void 0}function ne(){Object.keys(d.counts).find(P=>E(P,d.arrays)?(m=Error(y("Invalid configuration: %s, opts.count excludes opts.array.",P)),!0):E(P,d.nargs)?(m=Error(y("Invalid configuration: %s, opts.count excludes opts.narg.",P)),!0):!1)}return{aliases:Object.assign({},d.aliases),argv:Object.assign(w,v),configuration:a,defaulted:Object.assign({},b),error:m,newAliases:Object.assign({},_)}}}function Ip(t){const e=[],r=Object.create(null);let n=!0;for(Object.
keys(t).forEach(function(s){e.push([].concat(t[s],s))});n;){n=!1;for(let s=0;s<e.length;s++)for(let i=s+1;i<e.length;i++)if(e[s].filter(function(a){return e[i].indexOf(a)!==-1}).length){e[s]=e[s].concat(e[i]),e.splice(i,1),n=!0;break}}return e.forEach(function(s){s=s.filter(function(o,a,c){return c.indexOf(o)===a});const i=s.pop();i!==void 0&&typeof i=="string"&&(r[i]=s)}),r}function Ms(t){return t!==void 0?t+1:1}function Ia(t){return t==="__proto__"?"___proto___":t}function Tp(t){return typeof t==
"string"&&(t[0]==="'"||t[0]==='"')&&t[t.length-1]===t[0]?t.substring(1,t.length-1):t}var qs,Us,Hs;const Ta=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,Na=(Us=(qs=process==null?void 0:process.versions)===null||qs===void 0?void 0:qs.node)!==null&&Us!==void 0?Us:(Hs=process==null?void 0:process.version)===null||Hs===void 0?void 0:Hs.slice(1);if(Na&&Number(Na.match(/^([^.]+)/)[1])<Ta)throw Error(`yargs parser supports a minimum Node.js versi\
on of ${Ta}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);const Np=process?process.env:{},ja=new Pp({cwd:process.cwd,env:()=>Np,format:pa,normalize:Yh,resolve:He,require:t=>{if(typeof require<"u")return require(t);if(t.match(/\.json$/))return JSON.parse(Ps(t,"utf8"));throw Error("only .json config files are supported in ESM")}}),pr=function(e,r){return ja.parse(e.slice(),r).argv};pr.detailed=function(t,e){return ja.parse(t.slice(),e)},pr.camelCase=
hr,pr.decamelize=Ca,pr.looksLikeNumber=Pa;function La(){return jp()?0:1}function jp(){return Lp()&&!process.defaultApp}function Lp(){return!!process.versions.electron}function kp(t){return t.slice(La()+1)}function Dp(){return process.argv[La()]}class Oe extends Error{constructor(e){super(e||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,Oe)}}const xp={fs:{readFileSync:Ps,writeFile:ep},format:pa,resolve:He,exists:t=>{try{return da(t).isFile()}catch{return!1}}};
let We;class Mp{constructor(e){e=e||{},this.directory=e.directory||"./locales",this.updateFiles=typeof e.updateFiles=="boolean"?e.updateFiles:!0,this.locale=e.locale||"en",this.fallbackToLanguage=typeof e.fallbackToLanguage=="boolean"?e.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...e){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);const r=e.shift();let n=function(){};return typeof e[e.length-1]=="function"&&(n=e.pop()),n=n||
function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),We.format.apply(We.format,[this.cache[this.locale][r]||r].concat(e))}__n(){const e=Array.prototype.slice.call(arguments),r=e.shift(),n=e.shift(),s=e.shift();let i=function(){};typeof e[e.length-1]=="function"&&(i=e.pop()),this.cache[this.locale]||this._readLocaleFile();let o=s===1?r:n;this.
cache[this.locale][r]&&(o=this.cache[this.locale][r][s===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:i})):i();const a=[o];return~o.indexOf("%d")&&a.push(s),We.format.apply(We.format,a.concat(e))}setLocale(e){this.locale=e}getLocale(){return this.locale}updateLocale(e){this.cache[this.locale]||this._readLocaleFile();for(const r in e)Object.prototype.hasOwnProperty.call(
e,r)&&(this.cache[this.locale][r]=e[r])}_taggedLiteral(e,...r){let n="";return e.forEach(function(s,i){const o=r[i+1];n+=s,typeof o<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(e){this.writeQueue.push(e),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){const e=this,r=this.writeQueue[0],n=r.directory,s=r.locale,i=r.cb,o=this._resolveLocaleFile(n,s),a=JSON.stringify(this.cache[s],null,2);We.fs.writeFile(o,a,"utf-8",function(c){e.writeQueue.
shift(),e.writeQueue.length>0&&e._processWriteQueue(),i(c)})}_readLocaleFile(){let e={};const r=this._resolveLocaleFile(this.directory,this.locale);try{We.fs.readFileSync&&(e=JSON.parse(We.fs.readFileSync(r,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")e={};else throw n}this.cache[this.locale]=e}_resolveLocaleFile(e,r){let n=We.resolve(e,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){const s=We.resolve(
e,"./",r.split("_")[0]+".json");this._fileExistsSync(s)&&(n=s)}return n}_fileExistsSync(e){return We.exists(e)}}function qp(t,e){We=e;const r=new Mp(t);return{__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}const Up=t=>qp(t,xp),Hp="require is not supported by ESM",ka="loading a directory of commands is not supported yet for ESM";let mr;try{mr=rp(import.meta.url)}catch{mr=process.cwd()}const Fp=mr.substring(
0,mr.lastIndexOf("node_modules")),Vp={assert:{notStrictEqual:Kh,strictEqual:Wh},cliui:Ap,findUp:Op,getEnv:t=>process.env[t],inspect:tp,getCallerFile:()=>{throw new Oe(ka)},getProcessArgvBin:Dp,mainFilename:Fp||process.cwd(),Parser:pr,path:{basename:Qh,dirname:Cs,extname:Jh,relative:Xh,resolve:He},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(t,e)=>process.emitWarning(t,e),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<
"u"?process.stdout.columns:null},readFileSync:Ps,require:()=>{throw new Oe(Hp)},requireDirectory:()=>{throw new Oe(ka)},stringWidth:t=>[...t].length,y18n:Up({directory:He(mr,"../../../locales"),updateFiles:!1})};function Ke(t,e,r,n){r.assert.notStrictEqual(t,e,n)}function Da(t,e){e.assert.strictEqual(typeof t,"string")}function Fr(t){return Object.keys(t)}function Ae(t){return!!t&&!!t.then&&typeof t.then=="function"}function gr(t){const r=t.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,
s=r.shift();if(!s)throw new Error(`No command found in: ${t}`);const i={cmd:s.replace(n,""),demanded:[],optional:[]};return r.forEach((o,a)=>{let c=!1;o=o.replace(/\s/g,""),/\.+[\]>]/.test(o)&&a===r.length-1&&(c=!0),/^\[/.test(o)?i.optional.push({cmd:o.replace(n,"").split("|"),variadic:c}):i.demanded.push({cmd:o.replace(n,"").split("|"),variadic:c})}),i}const zp=["first","second","third","fourth","fifth","sixth"];function ce(t,e,r){function n(){return typeof t=="object"?[{demanded:[],optional:[]},
t,e]:[gr(`cmd ${t}`),e,r]}try{let s=0;const[i,o,a]=n(),c=[].slice.call(o);for(;c.length&&c[c.length-1]===void 0;)c.pop();const l=a||c.length;if(l<i.demanded.length)throw new Oe(`Not enough arguments provided. Expected ${i.demanded.length} but received ${c.length}.`);const u=i.demanded.length+i.optional.length;if(l>u)throw new Oe(`Too many arguments provided. Expected max ${u} but received ${l}.`);i.demanded.forEach(f=>{const h=c.shift(),_=xa(h);f.cmd.filter(y=>y===_||y==="*").length===0&&Ma(_,f.
cmd,s),s+=1}),i.optional.forEach(f=>{if(c.length===0)return;const h=c.shift(),_=xa(h);f.cmd.filter(y=>y===_||y==="*").length===0&&Ma(_,f.cmd,s),s+=1})}catch(s){console.warn(s.stack)}}function xa(t){return Array.isArray(t)?"array":t===null?"null":typeof t}function Ma(t,e,r){throw new Oe(`Invalid ${zp[r]||"manyith"} argument. Expected ${e.join(" or ")} but received ${t}.`)}class Gp{constructor(e){this.globalMiddleware=[],this.frozens=[],this.yargs=e}addMiddleware(e,r,n=!0,s=!1){if(ce("<array|funct\
ion> [boolean] [boolean] [boolean]",[e,r,n],arguments.length),Array.isArray(e)){for(let i=0;i<e.length;i++){if(typeof e[i]!="function")throw Error("middleware must be a function");const o=e[i];o.applyBeforeValidation=r,o.global=n}Array.prototype.push.apply(this.globalMiddleware,e)}else if(typeof e=="function"){const i=e;i.applyBeforeValidation=r,i.global=n,i.mutates=s,this.globalMiddleware.push(e)}return this.yargs}addCoerceMiddleware(e,r){const n=this.yargs.getAliases();return this.globalMiddleware=
this.globalMiddleware.filter(s=>{const i=[...n[r]||[],r];return s.option?!i.includes(s.option):!0}),e.option=r,this.addMiddleware(e,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){const e=this.frozens.pop();e!==void 0&&(this.globalMiddleware=e)}reset(){this.globalMiddleware=this.globalMiddleware.filter(e=>e.global)}}function Bp(t){return t?t.map(e=>(e.applyBeforeValidation=!1,e)):[]}function yr(t,e,r,n){return r.reduce((s,i)=>{
if(i.applyBeforeValidation!==n)return s;if(i.mutates){if(i.applied)return s;i.applied=!0}if(Ae(s))return s.then(o=>Promise.all([o,i(o,e)])).then(([o,a])=>Object.assign(o,a));{const o=i(s,e);return Ae(o)?o.then(a=>Object.assign(s,a)):Object.assign(s,o)}},t)}function _r(t,e,r=n=>{throw n}){try{const n=Wp(t)?t():t;return Ae(n)?n.then(s=>e(s)):e(n)}catch(n){return r(n)}}function Wp(t){return typeof t=="function"}function Kp(t){if(typeof require>"u")return null;for(let e=0,r=Object.keys(require.cache),
n;e<r.length;e++)if(n=require.cache[r[e]],n.exports===t)return n;return null}const Kt=/(^\*)|(^\$0)/;class Yp{constructor(e,r,n,s){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=s,this.usage=e,this.globalMiddleware=n,this.validation=r}addDirectory(e,r,n,s){s=s||{},typeof s.recurse!="boolean"&&(s.recurse=!1),Array.isArray(s.extensions)||(s.extensions=["js"]);const i=typeof s.visit=="function"?s.visit:o=>o;s.visit=(o,a,c)=>{const l=i(o,a,c);if(l){if(this.requireCache.
has(a))return l;this.requireCache.add(a),this.addHandler(l)}return l},this.shim.requireDirectory({require:r,filename:n},e,s)}addHandler(e,r,n,s,i,o){let a=[];const c=Bp(i);if(s=s||(()=>{}),Array.isArray(e))if(Jp(e))[e,...a]=e;else for(const l of e)this.addHandler(l);else if(Zp(e)){let l=Array.isArray(e.command)||typeof e.command=="string"?e.command:this.moduleName(e);e.aliases&&(l=[].concat(l).concat(e.aliases)),this.addHandler(l,this.extractDesc(e),e.builder,e.handler,e.middlewares,e.deprecated);
return}else if(qa(n)){this.addHandler([e].concat(a),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof e=="string"){const l=gr(e);a=a.map(h=>gr(h).cmd);let u=!1;const f=[l.cmd].concat(a).filter(h=>Kt.test(h)?(u=!0,!1):!0);f.length===0&&u&&f.push("$0"),u&&(l.cmd=f[0],a=f.slice(1),e=e.replace(Kt,l.cmd)),a.forEach(h=>{this.aliasMap[h]=l.cmd}),r!==!1&&this.usage.command(e,r,u,a,o),this.handlers[l.cmd]={original:e,description:r,handler:s,builder:n||{},middlewares:c,deprecated:o,demanded:l.
demanded,optional:l.optional},u&&(this.defaultCommand=this.handlers[l.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(e,r,n,s,i,o){const a=this.handlers[e]||this.handlers[this.aliasMap[e]]||this.defaultCommand,c=r.getInternalMethods().getContext(),l=c.commands.slice(),u=!e;e&&(c.commands.push(e),c.fullCommands.push(a.original));const f=this.applyBuilderUpdateUsageAndParse(
u,a,r,n.aliases,l,s,i,o);return Ae(f)?f.then(h=>this.applyMiddlewareAndGetResult(u,a,h.innerArgv,c,i,h.aliases,r)):this.applyMiddlewareAndGetResult(u,a,f.innerArgv,c,i,f.aliases,r)}applyBuilderUpdateUsageAndParse(e,r,n,s,i,o,a,c){const l=r.builder;let u=n;if(Fs(l)){n.getInternalMethods().getUsageInstance().freeze();const f=l(n.getInternalMethods().reset(s),c);if(Ae(f))return f.then(h=>(u=mm(h)?h:n,this.parseAndUpdateUsage(e,r,u,i,o,a)))}else Qp(l)&&(n.getInternalMethods().getUsageInstance().freeze(),
u=n.getInternalMethods().reset(s),Object.keys(r.builder).forEach(f=>{u.option(f,l[f])}));return this.parseAndUpdateUsage(e,r,u,i,o,a)}parseAndUpdateUsage(e,r,n,s,i,o){e&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(s,r),r.description);const a=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,i,o);return Ae(a)?a.then(c=>({aliases:n.parsed.aliases,innerArgv:c})):
{aliases:n.parsed.aliases,innerArgv:a}}shouldUpdateUsage(e){return!e.getInternalMethods().getUsageInstance().getUsageDisabled()&&e.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(e,r){const n=Kt.test(r.original)?r.original.replace(Kt,"").trim():r.original,s=e.filter(i=>!Kt.test(i));return s.push(n),`$0 ${s.join(" ")}`}handleValidationAndGetResult(e,r,n,s,i,o,a,c){if(!o.getInternalMethods().getHasOutput()){const l=o.getInternalMethods().runValidation(
i,c,o.parsed.error,e);n=_r(n,u=>(l(u),u))}if(r.handler&&!o.getInternalMethods().getHasOutput()){o.getInternalMethods().setHasOutput();const l=!!o.getOptions().configuration["populate--"];o.getInternalMethods().postProcess(n,l,!1,!1),n=yr(n,o,a,!1),n=_r(n,u=>{const f=r.handler(u);return Ae(f)?f.then(()=>u):u}),e||o.getInternalMethods().getUsageInstance().cacheHelpMessage(),Ae(n)&&!o.getInternalMethods().hasParseCallback()&&n.catch(u=>{try{o.getInternalMethods().getUsageInstance().fail(null,u)}catch{}})}
return e||(s.commands.pop(),s.fullCommands.pop()),n}applyMiddlewareAndGetResult(e,r,n,s,i,o,a){let c={};if(i)return n;a.getInternalMethods().getHasOutput()||(c=this.populatePositionals(r,n,s,a));const l=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),u=yr(n,a,l,!0);return Ae(u)?u.then(f=>this.handleValidationAndGetResult(e,r,f,s,o,a,l,c)):this.handleValidationAndGetResult(e,r,u,s,o,a,l,c)}populatePositionals(e,r,n,s){r._=r._.slice(n.commands.length);const i=e.demanded.slice(
0),o=e.optional.slice(0),a={};for(this.validation.positionalCount(i.length,r._.length);i.length;){const c=i.shift();this.populatePositional(c,r,a)}for(;o.length;){const c=o.shift();this.populatePositional(c,r,a)}return r._=n.commands.concat(r._.map(c=>""+c)),this.postProcessPositionals(r,a,this.cmdToParseOptions(e.original),s),a}populatePositional(e,r,n){const s=e.cmd[0];e.variadic?n[s]=r._.splice(0).map(String):r._.length&&(n[s]=[String(r._.shift())])}cmdToParseOptions(e){const r={array:[],default:{},
alias:{},demand:{}},n=gr(e);return n.demanded.forEach(s=>{const[i,...o]=s.cmd;s.variadic&&(r.array.push(i),r.default[i]=[]),r.alias[i]=o,r.demand[i]=!0}),n.optional.forEach(s=>{const[i,...o]=s.cmd;s.variadic&&(r.array.push(i),r.default[i]=[]),r.alias[i]=o}),r}postProcessPositionals(e,r,n,s){const i=Object.assign({},s.getOptions());i.default=Object.assign(n.default,i.default);for(const l of Object.keys(n.alias))i.alias[l]=(i.alias[l]||[]).concat(n.alias[l]);i.array=i.array.concat(n.array),i.config=
{};const o=[];if(Object.keys(r).forEach(l=>{r[l].map(u=>{i.configuration["unknown-options-as-args"]&&(i.key[l]=!0),o.push(`--${l}`),o.push(u)})}),!o.length)return;const a=Object.assign({},i.configuration,{"populate--":!1}),c=this.shim.Parser.detailed(o,Object.assign({},i,{configuration:a}));if(c.error)s.getInternalMethods().getUsageInstance().fail(c.error.message,c.error);else{const l=Object.keys(r);Object.keys(r).forEach(u=>{l.push(...c.aliases[u])}),Object.keys(c.argv).forEach(u=>{l.includes(u)&&
(r[u]||(r[u]=c.argv[u]),!this.isInConfigs(s,u)&&!this.isDefaulted(s,u)&&Object.prototype.hasOwnProperty.call(e,u)&&Object.prototype.hasOwnProperty.call(c.argv,u)&&(Array.isArray(e[u])||Array.isArray(c.argv[u]))?e[u]=[].concat(e[u],c.argv[u]):e[u]=c.argv[u])})}}isDefaulted(e,r){const{default:n}=e.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(e,r){const{configObjects:n}=e.getOptions();return n.some(s=>Object.
prototype.hasOwnProperty.call(s,r))||n.some(s=>Object.prototype.hasOwnProperty.call(s,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(e){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(e)){const n=Kt.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");e.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}const r=this.defaultCommand.builder;if(Fs(r))return r(e,!0);qa(r)||Object.keys(r).forEach(
n=>{e.option(n,r[n])})}moduleName(e){const r=Kp(e);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(e)}`);return this.commandFromFilename(r.filename)}commandFromFilename(e){return this.shim.path.basename(e,this.shim.path.extname(e))}extractDesc({describe:e,description:r,desc:n}){for(const s of[e,r,n]){if(typeof s=="string"||s===!1)return s;Ke(s,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){
const e=this.frozens.pop();Ke(e,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=e}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}}function Xp(t,e,r,n){return new Yp(t,e,r,n)}function qa(t){return typeof t=="object"&&!!t.builder&&typeof t.handler=="function"}function Jp(t){return t.every(e=>typeof e=="string")}function Fs(t){return typeof t=="function"}function Qp(t){return typeof t=="\
object"}function Zp(t){return typeof t=="object"&&!Array.isArray(t)}function $r(t={},e=()=>!0){const r={};return Fr(t).forEach(n=>{e(n,t[n])&&(r[n]=t[n])}),r}function vr(t){typeof process>"u"||[process.stdout,process.stderr].forEach(e=>{const r=e;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(t)})}function em(t){return typeof t=="boolean"}function tm(t,e){const r=e.y18n.__,n={},s=[];n.failFn=function(M){s.push(M)};let i=null,o=null,a=!0;n.showHelpOnFail=function(M=!0,j){
const[D,U]=typeof M=="string"?[!0,M]:[M,j];return t.getInternalMethods().isGlobalContext()&&(o=U),i=U,a=D,n};let c=!1;n.fail=function(M,j){const D=t.getInternalMethods().getLoggerInstance();if(s.length)for(let U=s.length-1;U>=0;--U){const Y=s[U];if(em(Y)){if(j)throw j;if(M)throw Error(M)}else Y(M,j,n)}else{if(t.getExitProcess()&&vr(!0),!c){c=!0,a&&(t.showHelp("error"),D.error()),(M||j)&&D.error(M||j);const U=i||o;U&&((M||j)&&D.error(""),D.error(U))}if(j=j||new Oe(M),t.getExitProcess())return t.exit(
1);if(t.getInternalMethods().hasParseCallback())return t.exit(1,j);throw j}};let l=[],u=!1;n.usage=(k,M)=>k===null?(u=!0,l=[],n):(u=!1,l.push([k,M||""]),n),n.getUsage=()=>l,n.getUsageDisabled=()=>u,n.getPositionalGroupName=()=>r("Positionals:");let f=[];n.example=(k,M)=>{f.push([k,M||""])};let h=[];n.command=function(M,j,D,U,Y=!1){D&&(h=h.map(G=>(G[2]=!1,G))),h.push([M,j||"",D,U,Y])},n.getCommands=()=>h;let _={};n.describe=function(M,j){Array.isArray(M)?M.forEach(D=>{n.describe(D,j)}):typeof M==
"object"?Object.keys(M).forEach(D=>{n.describe(D,M[D])}):_[M]=j},n.getDescriptions=()=>_;let b=[];n.epilog=k=>{b.push(k)};let y=!1,d;n.wrap=k=>{y=!0,d=k},n.getWrap=()=>e.getEnv("YARGS_DISABLE_WRAP")?null:(y||(d=I(),y=!0),d);const g="__yargsString__:";n.deferY18nLookup=k=>g+k,n.help=function(){if($)return $;m();const M=t.customScriptName?t.$0:e.path.basename(t.$0),j=t.getDemandedOptions(),D=t.getDemandedCommands(),U=t.getDeprecatedOptions(),Y=t.getGroups(),G=t.getOptions();let J=[];J=J.concat(Object.
keys(_)),J=J.concat(Object.keys(j)),J=J.concat(Object.keys(D)),J=J.concat(Object.keys(G.default)),J=J.filter(w),J=Object.keys(J.reduce((C,X)=>(X!=="_"&&(C[X]=!0),C),{}));const se=n.getWrap(),H=e.cliui({width:se,wrap:!!se});if(!u){if(l.length)l.forEach(C=>{H.div({text:`${C[0].replace(/\$0/g,M)}`}),C[1]&&H.div({text:`${C[1]}`,padding:[1,0,0,0]})}),H.div();else if(h.length){let C=null;D._?C=`${M} <${r("command")}>
`:C=`${M} [${r("command")}]
`,H.div(`${C}`)}}if(h.length>1||h.length===1&&!h[0][2]){H.div(r("Commands:"));const C=t.getInternalMethods().getContext(),X=C.commands.length?`${C.commands.join(" ")} `:"";t.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(h=h.sort((ie,oe)=>ie[0].localeCompare(oe[0])));const Z=M?`${M} `:"";h.forEach(ie=>{const oe=`${Z}${X}${ie[0].replace(/^\$0 ?/,"")}`;H.span({text:oe,padding:[0,2,0,2],width:p(h,se,`${M}${X}`)+4},{text:ie[1]});const L=[];ie[2]&&L.push(`[${r("default")}]`),ie[3]&&
ie[3].length&&L.push(`[${r("aliases:")} ${ie[3].join(", ")}]`),ie[4]&&(typeof ie[4]=="string"?L.push(`[${r("deprecated: %s",ie[4])}]`):L.push(`[${r("deprecated")}]`)),L.length?H.div({text:L.join(" "),padding:[0,0,0,2],align:"right"}):H.div()}),H.div()}const A=(Object.keys(G.alias)||[]).concat(Object.keys(t.parsed.newAliases)||[]);J=J.filter(C=>!t.parsed.newAliases[C]&&A.every(X=>(G.alias[X]||[]).indexOf(C)===-1));const V=r("Options:");Y[V]||(Y[V]=[]),v(J,G.alias,Y,V);const x=C=>/^--/.test(Vr(C)),
E=Object.keys(Y).filter(C=>Y[C].length>0).map(C=>{const X=Y[C].filter(w).map(Z=>{if(A.includes(Z))return Z;for(let ie=0,oe;(oe=A[ie])!==void 0;ie++)if((G.alias[oe]||[]).includes(Z))return oe;return Z});return{groupName:C,normalizedKeys:X}}).filter(({normalizedKeys:C})=>C.length>0).map(({groupName:C,normalizedKeys:X})=>{const Z=X.reduce((ie,oe)=>(ie[oe]=[oe].concat(G.alias[oe]||[]).map(L=>C===n.getPositionalGroupName()?L:(/^[0-9]$/.test(L)?G.boolean.includes(oe)?"-":"--":L.length>1?"--":"-")+L).sort(
(L,q)=>x(L)===x(q)?0:x(L)?1:-1).join(", "),ie),{});return{groupName:C,normalizedKeys:X,switches:Z}});if(E.filter(({groupName:C})=>C!==n.getPositionalGroupName()).some(({normalizedKeys:C,switches:X})=>!C.every(Z=>x(X[Z])))&&E.filter(({groupName:C})=>C!==n.getPositionalGroupName()).forEach(({normalizedKeys:C,switches:X})=>{C.forEach(Z=>{x(X[Z])&&(X[Z]=rm(X[Z],4))})}),E.forEach(({groupName:C,normalizedKeys:X,switches:Z})=>{H.div(C),X.forEach(ie=>{const oe=Z[ie];let L=_[ie]||"",q=null;L.includes(g)&&
(L=r(L.substring(g.length))),G.boolean.includes(ie)&&(q=`[${r("boolean")}]`),G.count.includes(ie)&&(q=`[${r("count")}]`),G.string.includes(ie)&&(q=`[${r("string")}]`),G.normalize.includes(ie)&&(q=`[${r("string")}]`),G.array.includes(ie)&&(q=`[${r("array")}]`),G.number.includes(ie)&&(q=`[${r("number")}]`);const Q=N=>typeof N=="string"?`[${r("deprecated: %s",N)}]`:`[${r("deprecated")}]`,ne=[ie in U?Q(U[ie]):null,q,ie in j?`[${r("required")}]`:null,G.choices&&G.choices[ie]?`[${r("choices:")} ${n.stringifiedValues(
G.choices[ie])}]`:null,S(G.default[ie],G.defaultDescription[ie])].filter(Boolean).join(" ");H.span({text:Vr(oe),padding:[0,2,0,2+Ua(oe)],width:p(Z,se)+4},L);const P=t.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;ne&&!P?H.div({text:ne,padding:[0,0,0,2],align:"right"}):H.div()}),H.div()}),f.length&&(H.div(r("Examples:")),f.forEach(C=>{C[0]=C[0].replace(/\$0/g,M)}),f.forEach(C=>{C[1]===""?H.div({text:C[0],padding:[0,2,0,2]}):H.div({text:C[0],padding:[0,2,0,2],width:p(f,se)+4},{text:C[1]})}),
H.div()),b.length>0){const C=b.map(X=>X.replace(/\$0/g,M)).join(`
`);H.div(`${C}
`)}return H.toString().replace(/\s*$/,"")};function p(k,M,j){let D=0;return Array.isArray(k)||(k=Object.values(k).map(U=>[U])),k.forEach(U=>{D=Math.max(e.stringWidth(j?`${j} ${Vr(U[0])}`:Vr(U[0]))+Ua(U[0]),D)}),M&&(D=Math.min(D,parseInt((M*.5).toString(),10))),D}function m(){const k=t.getDemandedOptions(),M=t.getOptions();(Object.keys(M.alias)||[]).forEach(j=>{M.alias[j].forEach(D=>{_[D]&&n.describe(j,_[D]),D in k&&t.demandOption(j,k[D]),M.boolean.includes(D)&&t.boolean(j),M.count.includes(D)&&t.
count(j),M.string.includes(D)&&t.string(j),M.normalize.includes(D)&&t.normalize(j),M.array.includes(D)&&t.array(j),M.number.includes(D)&&t.number(j)})})}let $;n.cacheHelpMessage=function(){$=this.help()},n.clearCachedHelpMessage=function(){$=void 0},n.hasCachedHelpMessage=function(){return!!$};function v(k,M,j,D){let U=[],Y=null;return Object.keys(j).forEach(G=>{U=U.concat(j[G])}),k.forEach(G=>{Y=[G].concat(M[G]),Y.some(J=>U.indexOf(J)!==-1)||j[D].push(G)}),U}function w(k){return t.getOptions().
hiddenOptions.indexOf(k)<0||t.parsed.argv[t.getOptions().showHiddenOpt]}n.showHelp=k=>{const M=t.getInternalMethods().getLoggerInstance();k||(k="error"),(typeof k=="function"?k:M[k])(n.help())},n.functionDescription=k=>["(",k.name?e.Parser.decamelize(k.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=function(M,j){let D="";const U=j||", ",Y=[].concat(M);return!M||!Y.length||Y.forEach(G=>{D.length&&(D+=U),D+=JSON.stringify(G)}),D};function S(k,M){let j=`[${r("default:")} `;if(k===
void 0&&!M)return null;if(M)j+=M;else switch(typeof k){case"string":j+=`"${k}"`;break;case"object":j+=JSON.stringify(k);break;default:j+=k}return`${j}]`}function I(){return e.process.stdColumns?Math.min(80,e.process.stdColumns):80}let F=null;n.version=k=>{F=k},n.showVersion=k=>{const M=t.getInternalMethods().getLoggerInstance();k||(k="error"),(typeof k=="function"?k:M[k])(F)},n.reset=function(M){return i=null,c=!1,l=[],u=!1,b=[],f=[],h=[],_=$r(_,j=>!M[j]),n};const B=[];return n.freeze=function(){
B.push({failMessage:i,failureOutput:c,usages:l,usageDisabled:u,epilogs:b,examples:f,commands:h,descriptions:_})},n.unfreeze=function(M=!1){const j=B.pop();j&&(M?(_={...j.descriptions,..._},h=[...j.commands,...h],l=[...j.usages,...l],f=[...j.examples,...f],b=[...j.epilogs,...b]):{failMessage:i,failureOutput:c,usages:l,usageDisabled:u,epilogs:b,examples:f,commands:h,descriptions:_}=j)},n}function Vs(t){return typeof t=="object"}function rm(t,e){return Vs(t)?{text:t.text,indentation:t.indentation+e}:
{text:t,indentation:e}}function Ua(t){return Vs(t)?t.indentation:0}function Vr(t){return Vs(t)?t.text:t}const nm=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,sm=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;class im{constructor(e,r,n,s){var i,o,a;this.yargs=e,this.usage=r,this.command=n,this.shim=s,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(a=((i=this.shim.getEnv("SHELL"))===null||i===void 0?void 0:i.includes("zsh"))||((o=this.shim.getEnv("ZSH_NAME"))===null||o===void 0?void 0:o.includes("zsh")))!==null&&a!==void 0?a:!1}defaultCompletion(e,r,n,s){const i=this.command.getCommandHandlers();for(let a=0,c=e.
length;a<c;++a)if(i[e[a]]&&i[e[a]].builder){const l=i[e[a]].builder;if(Fs(l)){this.indexAfterLastReset=a+1;const u=this.yargs.getInternalMethods().reset();return l(u,!0),u.argv}}const o=[];this.commandCompletions(o,e,n),this.optionCompletions(o,e,r,n),this.choicesFromOptionsCompletions(o,e,r,n),this.choicesFromPositionalsCompletions(o,e,r,n),s(null,o)}commandCompletions(e,r,n){const s=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&s[s.length-1]!==n&&!this.previousArgHasChoices(
r)&&this.usage.getCommands().forEach(i=>{const o=gr(i[0]).cmd;if(r.indexOf(o)===-1)if(!this.zshShell)e.push(o);else{const a=i[1]||"";e.push(o.replace(/:/g,"\\:")+":"+a)}})}optionCompletions(e,r,n,s){if((s.match(/^-/)||s===""&&e.length===0)&&!this.previousArgHasChoices(r)){const i=this.yargs.getOptions(),o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(i.key).forEach(a=>{const c=!!i.configuration["boolean-negation"]&&i.boolean.includes(a);!o.includes(a)&&!i.hiddenOptions.
includes(a)&&!this.argsContainKey(r,a,c)&&this.completeOptionKey(a,e,s,c&&!!i.default[a])})}}choicesFromOptionsCompletions(e,r,n,s){if(this.previousArgHasChoices(r)){const i=this.getPreviousArgChoices(r);i&&i.length>0&&e.push(...i.map(o=>o.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(e,r,n,s){if(s===""&&e.length>0&&this.previousArgHasChoices(r))return;const i=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],o=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().
getContext().commands.length+1),a=i[n._.length-o-1];if(!a)return;const c=this.yargs.getOptions().choices[a]||[];for(const l of c)l.startsWith(s)&&e.push(l.replace(/:/g,"\\:"))}getPreviousArgChoices(e){if(e.length<1)return;let r=e[e.length-1],n="";if(!r.startsWith("-")&&e.length>1&&(n=r,r=e[e.length-2]),!r.startsWith("-"))return;const s=r.replace(/^-+/,""),i=this.yargs.getOptions(),o=[s,...this.yargs.getAliases()[s]||[]];let a;for(const c of o)if(Object.prototype.hasOwnProperty.call(i.key,c)&&Array.
isArray(i.choices[c])){a=i.choices[c];break}if(a)return a.filter(c=>!n||c.startsWith(n))}previousArgHasChoices(e){const r=this.getPreviousArgChoices(e);return r!==void 0&&r.length>0}argsContainKey(e,r,n){const s=i=>e.indexOf((/^[^0-9]$/.test(i)?"-":"--")+i)!==-1;if(s(r)||n&&s(`no-${r}`))return!0;if(this.aliases){for(const i of this.aliases[r])if(s(i))return!0}return!1}completeOptionKey(e,r,n,s){var i,o,a,c;let l=e;if(this.zshShell){const _=this.usage.getDescriptions(),b=(o=(i=this===null||this===
void 0?void 0:this.aliases)===null||i===void 0?void 0:i[e])===null||o===void 0?void 0:o.find(g=>{const p=_[g];return typeof p=="string"&&p.length>0}),y=b?_[b]:void 0,d=(c=(a=_[e])!==null&&a!==void 0?a:y)!==null&&c!==void 0?c:"";l=`${e.replace(/:/g,"\\:")}:${d.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}const u=_=>/^--/.test(_),f=_=>/^[^0-9]$/.test(_),h=!u(n)&&f(e)?"-":"--";r.push(h+l),s&&r.push(h+"no-"+l)}customCompletion(e,r,n,s){if(Ke(this.customCompletionFunction,null,this.
shim),am(this.customCompletionFunction)){const i=this.customCompletionFunction(n,r);return Ae(i)?i.then(o=>{this.shim.process.nextTick(()=>{s(null,o)})}).catch(o=>{this.shim.process.nextTick(()=>{s(o,void 0)})}):s(null,i)}else return cm(this.customCompletionFunction)?this.customCompletionFunction(n,r,(i=s)=>this.defaultCompletion(e,r,n,i),i=>{s(null,i)}):this.customCompletionFunction(n,r,i=>{s(null,i)})}getCompletion(e,r){const n=e.length?e[e.length-1]:"",s=this.yargs.parse(e,!0),i=this.customCompletionFunction?
o=>this.customCompletion(e,o,n,r):o=>this.defaultCompletion(e,o,n,r);return Ae(s)?s.then(i):i(s)}generateCompletionScript(e,r){let n=this.zshShell?sm:nm;const s=this.shim.path.basename(e);return e.match(/\.js$/)&&(e=`./${e}`),n=n.replace(/{{app_name}}/g,s),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,e)}registerFunction(e){this.customCompletionFunction=e}setParsed(e){this.aliases=e.aliases}}function om(t,e,r,n){return new im(t,e,r,n)}function am(t){return t.length<3}function cm(t){
return t.length>3}function um(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;const r=[];let n;for(n=0;n<=e.length;n++)r[n]=[n];let s;for(s=0;s<=t.length;s++)r[0][s]=s;for(n=1;n<=e.length;n++)for(s=1;s<=t.length;s++)e.charAt(n-1)===t.charAt(s-1)?r[n][s]=r[n-1][s-1]:n>1&&s>1&&e.charAt(n-2)===t.charAt(s-1)&&e.charAt(n-1)===t.charAt(s-2)?r[n][s]=r[n-2][s-2]+1:r[n][s]=Math.min(r[n-1][s-1]+1,Math.min(r[n][s-1]+1,r[n-1][s]+1));return r[e.length][t.length]}const Ha=["$0","--","_"];
function lm(t,e,r){const n=r.y18n.__,s=r.y18n.__n,i={};i.nonOptionCount=function(f){const h=t.getDemandedCommands(),b=f._.length+(f["--"]?f["--"].length:0)-t.getInternalMethods().getContext().commands.length;h._&&(b<h._.min||b>h._.max)&&(b<h._.min?h._.minMsg!==void 0?e.fail(h._.minMsg?h._.minMsg.replace(/\$0/g,b.toString()).replace(/\$1/,h._.min.toString()):null):e.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",b,b.toString(),
h._.min.toString())):b>h._.max&&(h._.maxMsg!==void 0?e.fail(h._.maxMsg?h._.maxMsg.replace(/\$0/g,b.toString()).replace(/\$1/,h._.max.toString()):null):e.fail(s("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",b,b.toString(),h._.max.toString()))))},i.positionalCount=function(f,h){h<f&&e.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h+"",f+""))},i.requiredArguments=
function(f,h){let _=null;for(const b of Object.keys(h))(!Object.prototype.hasOwnProperty.call(f,b)||typeof f[b]>"u")&&(_=_||{},_[b]=h[b]);if(_){const b=[];for(const d of Object.keys(_)){const g=_[d];g&&b.indexOf(g)<0&&b.push(g)}const y=b.length?`
${b.join(`
`)}`:"";e.fail(s("Missing required argument: %s","Missing required arguments: %s",Object.keys(_).length,Object.keys(_).join(", ")+y))}},i.unknownArguments=function(f,h,_,b,y=!0){var d;const g=t.getInternalMethods().getCommandInstance().getCommands(),p=[],m=t.getInternalMethods().getContext();if(Object.keys(f).forEach($=>{!Ha.includes($)&&!Object.prototype.hasOwnProperty.call(_,$)&&!Object.prototype.hasOwnProperty.call(t.getInternalMethods().getParseContext(),$)&&!i.isValidAndSomeAliasIsNotNew($,
h)&&p.push($)}),y&&(m.commands.length>0||g.length>0||b)&&f._.slice(m.commands.length).forEach($=>{g.includes(""+$)||p.push(""+$)}),y){const v=((d=t.getDemandedCommands()._)===null||d===void 0?void 0:d.max)||0,w=m.commands.length+v;w<f._.length&&f._.slice(w).forEach(S=>{S=String(S),!m.commands.includes(S)&&!p.includes(S)&&p.push(S)})}p.length&&e.fail(s("Unknown argument: %s","Unknown arguments: %s",p.length,p.map($=>$.trim()?$:`"${$}"`).join(", ")))},i.unknownCommands=function(f){const h=t.getInternalMethods().
getCommandInstance().getCommands(),_=[],b=t.getInternalMethods().getContext();return(b.commands.length>0||h.length>0)&&f._.slice(b.commands.length).forEach(y=>{h.includes(""+y)||_.push(""+y)}),_.length>0?(e.fail(s("Unknown command: %s","Unknown commands: %s",_.length,_.join(", "))),!0):!1},i.isValidAndSomeAliasIsNotNew=function(f,h){if(!Object.prototype.hasOwnProperty.call(h,f))return!1;const _=t.parsed.newAliases;return[f,...h[f]].some(b=>!Object.prototype.hasOwnProperty.call(_,b)||!_[f])},i.limitedChoices=
function(f){const h=t.getOptions(),_={};if(!Object.keys(h.choices).length)return;Object.keys(f).forEach(d=>{Ha.indexOf(d)===-1&&Object.prototype.hasOwnProperty.call(h.choices,d)&&[].concat(f[d]).forEach(g=>{h.choices[d].indexOf(g)===-1&&g!==void 0&&(_[d]=(_[d]||[]).concat(g))})});const b=Object.keys(_);if(!b.length)return;let y=n("Invalid values:");b.forEach(d=>{y+=`
  ${n("Argument: %s, Given: %s, Choices: %s",d,e.stringifiedValues(_[d]),e.stringifiedValues(h.choices[d]))}`}),e.fail(y)};let o={};i.implies=function(f,h){ce("<string|object> [array|number|string]",[f,h],arguments.length),typeof f=="object"?Object.keys(f).forEach(_=>{i.implies(_,f[_])}):(t.global(f),o[f]||(o[f]=[]),Array.isArray(h)?h.forEach(_=>i.implies(f,_)):(Ke(h,void 0,r),o[f].push(h)))},i.getImplied=function(){return o};function a(u,f){const h=Number(f);return f=isNaN(h)?f:h,typeof f=="num\
ber"?f=u._.length>=f:f.match(/^--no-.+/)?(f=f.match(/^--no-(.+)/)[1],f=!Object.prototype.hasOwnProperty.call(u,f)):f=Object.prototype.hasOwnProperty.call(u,f),f}i.implications=function(f){const h=[];if(Object.keys(o).forEach(_=>{const b=_;(o[_]||[]).forEach(y=>{let d=b;const g=y;d=a(f,d),y=a(f,y),d&&!y&&h.push(` ${b} -> ${g}`)})}),h.length){let _=`${n("Implications failed:")}
`;h.forEach(b=>{_+=b}),e.fail(_)}};let c={};i.conflicts=function(f,h){ce("<string|object> [array|string]",[f,h],arguments.length),typeof f=="object"?Object.keys(f).forEach(_=>{i.conflicts(_,f[_])}):(t.global(f),c[f]||(c[f]=[]),Array.isArray(h)?h.forEach(_=>i.conflicts(f,_)):c[f].push(h))},i.getConflicting=()=>c,i.conflicting=function(f){Object.keys(f).forEach(h=>{c[h]&&c[h].forEach(_=>{_&&f[h]!==void 0&&f[_]!==void 0&&e.fail(n("Arguments %s and %s are mutually exclusive",h,_))})}),t.getInternalMethods().
getParserConfiguration()["strip-dashed"]&&Object.keys(c).forEach(h=>{c[h].forEach(_=>{_&&f[r.Parser.camelCase(h)]!==void 0&&f[r.Parser.camelCase(_)]!==void 0&&e.fail(n("Arguments %s and %s are mutually exclusive",h,_))})})},i.recommendCommands=function(f,h){h=h.sort((d,g)=>g.length-d.length);let b=null,y=1/0;for(let d=0,g;(g=h[d])!==void 0;d++){const p=um(f,g);p<=3&&p<y&&(y=p,b=g)}b&&e.fail(n("Did you mean %s?",b))},i.reset=function(f){return o=$r(o,h=>!f[h]),c=$r(c,h=>!f[h]),i};const l=[];return i.
freeze=function(){l.push({implied:o,conflicting:c})},i.unfreeze=function(){const f=l.pop();Ke(f,void 0,r),{implied:o,conflicting:c}=f},i}let zs=[],br;function Gs(t,e,r,n){br=n;let s={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if(typeof t.extends!="string")return s;const i=/\.json|\..*rc$/.test(t.extends);let o=null;if(i)o=dm(e,t.extends);else try{o=require.resolve(t.extends)}catch{return t}fm(o),zs.push(o),s=i?JSON.parse(br.readFileSync(o,"utf8")):require(t.extends),delete t.extends,
s=Gs(s,br.path.dirname(o),r,br)}return zs=[],r?Fa(s,t):Object.assign({},s,t)}function fm(t){if(zs.indexOf(t)>-1)throw new Oe(`Circular extended configurations: '${t}'.`)}function dm(t,e){return br.path.resolve(t,e)}function Fa(t,e){const r={};function n(s){return s&&typeof s=="object"&&!Array.isArray(s)}Object.assign(r,t);for(const s of Object.keys(e))n(e[s])&&n(r[s])?r[s]=Fa(t[s],e[s]):r[s]=e[s];return r}var ae=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");
if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},O=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class d\
id not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Re,It,wr,Fe,De,zr,yt,Tt,Gr,Ve,Br,ze,st,xe,Ge,Wr,Yt,Ce,ue,Kr,Yr,Me,Nt,Xt,jt,_t,Xr,fe,Lt,kt,Dt,de,Jr,it,Ee;function hm(t){return(e=[],r=t.process.cwd(),n)=>{const s=new pm(e,r,n,t);return Object.defineProperty(s,"argv",{get:()=>s.parse(),enumerable:!0}),s.help(),s.version(),s}}const Va=Symbol("copyDoubleDash"),za=Symbol("copyDoubleDash"),Bs=Symbol("deleteFromParserHintObject"),Ga=Symbol("emitWarning"),Ba=Symbol("freeze"),Wa=Symbol(
"getDollarZero"),xt=Symbol("getParserConfiguration"),Ka=Symbol("getUsageConfiguration"),Ws=Symbol("guessLocale"),Ya=Symbol("guessVersion"),Xa=Symbol("parsePositionalNumbers"),Ks=Symbol("pkgUp"),$t=Symbol("populateParserHintArray"),Jt=Symbol("populateParserHintSingleValueDictionary"),Ys=Symbol("populateParserHintArrayDictionary"),Xs=Symbol("populateParserHintDictionary"),Js=Symbol("sanitizeKey"),Qs=Symbol("setKey"),Zs=Symbol("unfreeze"),Ja=Symbol("validateAsync"),Qa=Symbol("getCommandInstance"),Za=Symbol(
"getContext"),ec=Symbol("getHasOutput"),tc=Symbol("getLoggerInstance"),rc=Symbol("getParseContext"),nc=Symbol("getUsageInstance"),sc=Symbol("getValidationInstance"),Qr=Symbol("hasParseCallback"),ic=Symbol("isGlobalContext"),Mt=Symbol("postProcess"),oc=Symbol("rebase"),ei=Symbol("reset"),Er=Symbol("runYargsParserAndExecuteCommands"),ti=Symbol("runValidation"),ac=Symbol("setHasOutput"),qt=Symbol("kTrackManuallySetKeys");class pm{constructor(e=[],r,n,s){this.customScriptName=!1,this.parsed=!1,Re.set(
this,void 0),It.set(this,void 0),wr.set(this,{commands:[],fullCommands:[]}),Fe.set(this,null),De.set(this,null),zr.set(this,"show-hidden"),yt.set(this,null),Tt.set(this,!0),Gr.set(this,{}),Ve.set(this,!0),Br.set(this,[]),ze.set(this,void 0),st.set(this,{}),xe.set(this,!1),Ge.set(this,null),Wr.set(this,!0),Yt.set(this,void 0),Ce.set(this,""),ue.set(this,void 0),Kr.set(this,void 0),Yr.set(this,{}),Me.set(this,null),Nt.set(this,null),Xt.set(this,{}),jt.set(this,{}),_t.set(this,void 0),Xr.set(this,!1),
fe.set(this,void 0),Lt.set(this,!1),kt.set(this,!1),Dt.set(this,!1),de.set(this,void 0),Jr.set(this,{}),it.set(this,null),Ee.set(this,void 0),ae(this,fe,s,"f"),ae(this,_t,e,"f"),ae(this,It,r,"f"),ae(this,Kr,n,"f"),ae(this,ze,new Gp(this),"f"),this.$0=this[Wa](),this[ei](),ae(this,Re,O(this,Re,"f"),"f"),ae(this,de,O(this,de,"f"),"f"),ae(this,Ee,O(this,Ee,"f"),"f"),ae(this,ue,O(this,ue,"f"),"f"),O(this,ue,"f").showHiddenOpt=O(this,zr,"f"),ae(this,Yt,this[za](),"f")}addHelpOpt(e,r){const n="help";return ce(
"[string|boolean] [string]",[e,r],arguments.length),O(this,Ge,"f")&&(this[Bs](O(this,Ge,"f")),ae(this,Ge,null,"f")),e===!1&&r===void 0?this:(ae(this,Ge,typeof e=="string"?e:n,"f"),this.boolean(O(this,Ge,"f")),this.describe(O(this,Ge,"f"),r||O(this,de,"f").deferY18nLookup("Show help")),this)}help(e,r){return this.addHelpOpt(e,r)}addShowHiddenOpt(e,r){if(ce("[string|boolean] [string]",[e,r],arguments.length),e===!1&&r===void 0)return this;const n=typeof e=="string"?e:O(this,zr,"f");return this.boolean(
n),this.describe(n,r||O(this,de,"f").deferY18nLookup("Show hidden options")),O(this,ue,"f").showHiddenOpt=n,this}showHidden(e,r){return this.addShowHiddenOpt(e,r)}alias(e,r){return ce("<object|string|array> [string|array]",[e,r],arguments.length),this[Ys](this.alias.bind(this),"alias",e,r),this}array(e){return ce("<array|string>",[e],arguments.length),this[$t]("array",e),this[qt](e),this}boolean(e){return ce("<array|string>",[e],arguments.length),this[$t]("boolean",e),this[qt](e),this}check(e,r){
return ce("<function> [boolean]",[e,r],arguments.length),this.middleware((n,s)=>_r(()=>e(n,s.getOptions()),i=>(i?(typeof i=="string"||i instanceof Error)&&O(this,de,"f").fail(i.toString(),i):O(this,de,"f").fail(O(this,fe,"f").y18n.__("Argument check failed: %s",e.toString())),n),i=>(O(this,de,"f").fail(i.message?i.message:i.toString(),i),n)),!1,r),this}choices(e,r){return ce("<object|string|array> [string|array]",[e,r],arguments.length),this[Ys](this.choices.bind(this),"choices",e,r),this}coerce(e,r){
if(ce("<object|string|array> [function]",[e,r],arguments.length),Array.isArray(e)){if(!r)throw new Oe("coerce callback must be provided");for(const n of e)this.coerce(n,r);return this}else if(typeof e=="object"){for(const n of Object.keys(e))this.coerce(n,e[n]);return this}if(!r)throw new Oe("coerce callback must be provided");return O(this,ue,"f").key[e]=!0,O(this,ze,"f").addCoerceMiddleware((n,s)=>{let i;return Object.prototype.hasOwnProperty.call(n,e)?_r(()=>(i=s.getAliases(),r(n[e])),a=>{n[e]=
a;const c=s.getInternalMethods().getParserConfiguration()["strip-aliased"];if(i[e]&&c!==!0)for(const l of i[e])n[l]=a;return n},a=>{throw new Oe(a.message)}):n},e),this}conflicts(e,r){return ce("<string|object> [string|array]",[e,r],arguments.length),O(this,Ee,"f").conflicts(e,r),this}config(e="config",r,n){return ce("[object|string] [string|function] [function]",[e,r,n],arguments.length),typeof e=="object"&&!Array.isArray(e)?(e=Gs(e,O(this,It,"f"),this[xt]()["deep-merge-config"]||!1,O(this,fe,"\
f")),O(this,ue,"f").configObjects=(O(this,ue,"f").configObjects||[]).concat(e),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(e,r||O(this,de,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(s=>{O(this,ue,"f").config[s]=n||!0}),this)}completion(e,r,n){return ce("[string] [string|boolean|function] [function]",[e,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),ae(this,De,e||O(this,De,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion\
 script"),this.command(O(this,De,"f"),r),n&&O(this,Fe,"f").registerFunction(n),this}command(e,r,n,s,i,o){return ce("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[e,r,n,s,i,o],arguments.length),O(this,Re,"f").addHandler(e,r,n,s,i,o),this}commands(e,r,n,s,i,o){return this.command(e,r,n,s,i,o)}commandDir(e,r){ce("<string> [object]",[e,r],arguments.length);const n=O(this,Kr,"f")||O(this,fe,"f").require;return O(this,Re,"f").addDirectory(e,n,O(this,fe,
"f").getCallerFile(),r),this}count(e){return ce("<array|string>",[e],arguments.length),this[$t]("count",e),this[qt](e),this}default(e,r,n){return ce("<object|string|array> [*] [string]",[e,r,n],arguments.length),n&&(Da(e,O(this,fe,"f")),O(this,ue,"f").defaultDescription[e]=n),typeof r=="function"&&(Da(e,O(this,fe,"f")),O(this,ue,"f").defaultDescription[e]||(O(this,ue,"f").defaultDescription[e]=O(this,de,"f").functionDescription(r)),r=r.call()),this[Jt](this.default.bind(this),"default",e,r),this}defaults(e,r,n){
return this.default(e,r,n)}demandCommand(e=1,r,n,s){return ce("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,r,n,s],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),O(this,ue,"f").demandedCommands._={min:e,max:r,minMsg:n,maxMsg:s},this}demand(e,r,n){return Array.isArray(r)?(r.forEach(s=>{Ke(n,!0,O(this,fe,"f")),this.demandOption(s,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof e=="number"?(Ke(n,!0,O(this,fe,"f")),this.demandCommand(e,r,n,n)):
Array.isArray(e)?e.forEach(s=>{Ke(n,!0,O(this,fe,"f")),this.demandOption(s,n)}):typeof n=="string"?this.demandOption(e,n):(n===!0||typeof n>"u")&&this.demandOption(e),this}demandOption(e,r){return ce("<object|string|array> [string]",[e,r],arguments.length),this[Jt](this.demandOption.bind(this),"demandedOptions",e,r),this}deprecateOption(e,r){return ce("<string> [string|boolean]",[e,r],arguments.length),O(this,ue,"f").deprecatedOptions[e]=r,this}describe(e,r){return ce("<object|string|array> [str\
ing]",[e,r],arguments.length),this[Qs](e,!0),O(this,de,"f").describe(e,r),this}detectLocale(e){return ce("<boolean>",[e],arguments.length),ae(this,Tt,e,"f"),this}env(e){return ce("[string|boolean]",[e],arguments.length),e===!1?delete O(this,ue,"f").envPrefix:O(this,ue,"f").envPrefix=e||"",this}epilogue(e){return ce("<string>",[e],arguments.length),O(this,de,"f").epilog(e),this}epilog(e){return this.epilogue(e)}example(e,r){return ce("<string|array> [string]",[e,r],arguments.length),Array.isArray(
e)?e.forEach(n=>this.example(...n)):O(this,de,"f").example(e,r),this}exit(e,r){ae(this,xe,!0,"f"),ae(this,yt,r,"f"),O(this,Ve,"f")&&O(this,fe,"f").process.exit(e)}exitProcess(e=!0){return ce("[boolean]",[e],arguments.length),ae(this,Ve,e,"f"),this}fail(e){if(ce("<function|boolean>",[e],arguments.length),typeof e=="boolean"&&e!==!1)throw new Oe("Invalid first argument. Expected function or boolean 'false'");return O(this,de,"f").failFn(e),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(e,r){
return ce("<array> [function]",[e,r],arguments.length),r?O(this,Fe,"f").getCompletion(e,r):new Promise((n,s)=>{O(this,Fe,"f").getCompletion(e,(i,o)=>{i?s(i):n(o)})})}getDemandedOptions(){return ce([],0),O(this,ue,"f").demandedOptions}getDemandedCommands(){return ce([],0),O(this,ue,"f").demandedCommands}getDeprecatedOptions(){return ce([],0),O(this,ue,"f").deprecatedOptions}getDetectLocale(){return O(this,Tt,"f")}getExitProcess(){return O(this,Ve,"f")}getGroups(){return Object.assign({},O(this,st,
"f"),O(this,jt,"f"))}getHelp(){if(ae(this,xe,!0,"f"),!O(this,de,"f").hasCachedHelpMessage()){if(!this.parsed){const r=this[Er](O(this,_t,"f"),void 0,void 0,0,!0);if(Ae(r))return r.then(()=>O(this,de,"f").help())}const e=O(this,Re,"f").runDefaultBuilderOn(this);if(Ae(e))return e.then(()=>O(this,de,"f").help())}return Promise.resolve(O(this,de,"f").help())}getOptions(){return O(this,ue,"f")}getStrict(){return O(this,Lt,"f")}getStrictCommands(){return O(this,kt,"f")}getStrictOptions(){return O(this,
Dt,"f")}global(e,r){return ce("<string|array> [boolean]",[e,r],arguments.length),e=[].concat(e),r!==!1?O(this,ue,"f").local=O(this,ue,"f").local.filter(n=>e.indexOf(n)===-1):e.forEach(n=>{O(this,ue,"f").local.includes(n)||O(this,ue,"f").local.push(n)}),this}group(e,r){ce("<string|array> <string>",[e,r],arguments.length);const n=O(this,jt,"f")[r]||O(this,st,"f")[r];O(this,jt,"f")[r]&&delete O(this,jt,"f")[r];const s={};return O(this,st,"f")[r]=(n||[]).concat(e).filter(i=>s[i]?!1:s[i]=!0),this}hide(e){
return ce("<string>",[e],arguments.length),O(this,ue,"f").hiddenOptions.push(e),this}implies(e,r){return ce("<string|object> [number|string|array]",[e,r],arguments.length),O(this,Ee,"f").implies(e,r),this}locale(e){return ce("[string]",[e],arguments.length),e===void 0?(this[Ws](),O(this,fe,"f").y18n.getLocale()):(ae(this,Tt,!1,"f"),O(this,fe,"f").y18n.setLocale(e),this)}middleware(e,r,n){return O(this,ze,"f").addMiddleware(e,!!r,n)}nargs(e,r){return ce("<string|object|array> [number]",[e,r],arguments.
length),this[Jt](this.nargs.bind(this),"narg",e,r),this}normalize(e){return ce("<array|string>",[e],arguments.length),this[$t]("normalize",e),this}number(e){return ce("<array|string>",[e],arguments.length),this[$t]("number",e),this[qt](e),this}option(e,r){if(ce("<string|object> [object]",[e,r],arguments.length),typeof e=="object")Object.keys(e).forEach(n=>{this.options(n,e[n])});else{typeof r!="object"&&(r={}),this[qt](e),O(this,it,"f")&&(e==="version"||r?.alias==="version")&&this[Ga](['"version\
" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),O(this,ue,"f").key[e]=!0,r.alias&&this.alias(e,r.alias);const n=r.deprecate||r.deprecated;n&&this.deprecateOption(e,n);const s=r.demand||r.required||r.require;s&&this.demand(e,s),r.demandOption&&this.demandOption(e,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(e,r.conflicts),"default"in r&&this.default(e,r.default),r.implies!==void 0&&this.implies(e,r.implies),r.nargs!==void 0&&this.nargs(e,r.nargs),r.config&&this.config(e,r.configParser),
r.normalize&&this.normalize(e),r.choices&&this.choices(e,r.choices),r.coerce&&this.coerce(e,r.coerce),r.group&&this.group(e,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(e),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(e),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(e),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(e),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(e),typeof r.global==
"boolean"&&this.global(e,r.global),r.defaultDescription&&(O(this,ue,"f").defaultDescription[e]=r.defaultDescription),r.skipValidation&&this.skipValidation(e);const i=r.describe||r.description||r.desc,o=O(this,de,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(o,e)||typeof i=="string")&&this.describe(e,i),r.hidden&&this.hide(e),r.requiresArg&&this.requiresArg(e)}return this}options(e,r){return this.option(e,r)}parse(e,r,n){ce("[string|array] [function|boolean|object] [function]",[e,
r,n],arguments.length),this[Ba](),typeof e>"u"&&(e=O(this,_t,"f")),typeof r=="object"&&(ae(this,Nt,r,"f"),r=n),typeof r=="function"&&(ae(this,Me,r,"f"),r=!1),r||ae(this,_t,e,"f"),O(this,Me,"f")&&ae(this,Ve,!1,"f");const s=this[Er](e,!!r),i=this.parsed;return O(this,Fe,"f").setParsed(this.parsed),Ae(s)?s.then(o=>(O(this,Me,"f")&&O(this,Me,"f").call(this,O(this,yt,"f"),o,O(this,Ce,"f")),o)).catch(o=>{throw O(this,Me,"f")&&O(this,Me,"f")(o,this.parsed.argv,O(this,Ce,"f")),o}).finally(()=>{this[Zs](),
this.parsed=i}):(O(this,Me,"f")&&O(this,Me,"f").call(this,O(this,yt,"f"),s,O(this,Ce,"f")),this[Zs](),this.parsed=i,s)}parseAsync(e,r,n){const s=this.parse(e,r,n);return Ae(s)?s:Promise.resolve(s)}parseSync(e,r,n){const s=this.parse(e,r,n);if(Ae(s))throw new Oe(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return s}parserConfiguration(e){return ce("<object>",[e],arguments.length),ae(this,Yr,e,"f"),this}pkgConf(e,r){ce("<string> [string]",[e,r],arguments.length);
let n=null;const s=this[Ks](r||O(this,It,"f"));return s[e]&&typeof s[e]=="object"&&(n=Gs(s[e],r||O(this,It,"f"),this[xt]()["deep-merge-config"]||!1,O(this,fe,"f")),O(this,ue,"f").configObjects=(O(this,ue,"f").configObjects||[]).concat(n)),this}positional(e,r){ce("<string> <object>",[e,r],arguments.length);const n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=$r(r,(o,a)=>o==="type"&&!["string","number","boole\
an"].includes(a)?!1:n.includes(o));const s=O(this,wr,"f").fullCommands[O(this,wr,"f").fullCommands.length-1],i=s?O(this,Re,"f").cmdToParseOptions(s):{array:[],alias:{},default:{},demand:{}};return Fr(i).forEach(o=>{const a=i[o];Array.isArray(a)?a.indexOf(e)!==-1&&(r[o]=!0):a[e]&&!(o in r)&&(r[o]=a[e])}),this.group(e,O(this,de,"f").getPositionalGroupName()),this.option(e,r)}recommendCommands(e=!0){return ce("[boolean]",[e],arguments.length),ae(this,Xr,e,"f"),this}required(e,r,n){return this.demand(
e,r,n)}require(e,r,n){return this.demand(e,r,n)}requiresArg(e){return ce("<array|string|object> [number]",[e],arguments.length),typeof e=="string"&&O(this,ue,"f").narg[e]?this:(this[Jt](this.requiresArg.bind(this),"narg",e,NaN),this)}showCompletionScript(e,r){return ce("[string] [string]",[e,r],arguments.length),e=e||this.$0,O(this,Yt,"f").log(O(this,Fe,"f").generateCompletionScript(e,r||O(this,De,"f")||"completion")),this}showHelp(e){if(ce("[string|function]",[e],arguments.length),ae(this,xe,!0,
"f"),!O(this,de,"f").hasCachedHelpMessage()){if(!this.parsed){const n=this[Er](O(this,_t,"f"),void 0,void 0,0,!0);if(Ae(n))return n.then(()=>{O(this,de,"f").showHelp(e)}),this}const r=O(this,Re,"f").runDefaultBuilderOn(this);if(Ae(r))return r.then(()=>{O(this,de,"f").showHelp(e)}),this}return O(this,de,"f").showHelp(e),this}scriptName(e){return this.customScriptName=!0,this.$0=e,this}showHelpOnFail(e,r){return ce("[boolean|string] [string]",[e,r],arguments.length),O(this,de,"f").showHelpOnFail(e,
r),this}showVersion(e){return ce("[string|function]",[e],arguments.length),O(this,de,"f").showVersion(e),this}skipValidation(e){return ce("<array|string>",[e],arguments.length),this[$t]("skipValidation",e),this}strict(e){return ce("[boolean]",[e],arguments.length),ae(this,Lt,e!==!1,"f"),this}strictCommands(e){return ce("[boolean]",[e],arguments.length),ae(this,kt,e!==!1,"f"),this}strictOptions(e){return ce("[boolean]",[e],arguments.length),ae(this,Dt,e!==!1,"f"),this}string(e){return ce("<array|\
string>",[e],arguments.length),this[$t]("string",e),this[qt](e),this}terminalWidth(){return ce([],0),O(this,fe,"f").process.stdColumns}updateLocale(e){return this.updateStrings(e)}updateStrings(e){return ce("<object>",[e],arguments.length),ae(this,Tt,!1,"f"),O(this,fe,"f").y18n.updateLocale(e),this}usage(e,r,n,s){if(ce("<string|null|undefined> [string|boolean] [function|object] [function]",[e,r,n,s],arguments.length),r!==void 0){if(Ke(e,null,O(this,fe,"f")),(e||"").match(/^\$0( |$)/))return this.
command(e,r,n,s);throw new Oe(".usage() description must start with $0 if being used as alias for .command()")}else return O(this,de,"f").usage(e),this}usageConfiguration(e){return ce("<object>",[e],arguments.length),ae(this,Jr,e,"f"),this}version(e,r,n){const s="version";if(ce("[boolean|string] [string] [string]",[e,r,n],arguments.length),O(this,it,"f")&&(this[Bs](O(this,it,"f")),O(this,de,"f").version(void 0),ae(this,it,null,"f")),arguments.length===0)n=this[Ya](),e=s;else if(arguments.length===
1){if(e===!1)return this;n=e,e=s}else arguments.length===2&&(n=r,r=void 0);return ae(this,it,typeof e=="string"?e:s,"f"),r=r||O(this,de,"f").deferY18nLookup("Show version number"),O(this,de,"f").version(n||void 0),this.boolean(O(this,it,"f")),this.describe(O(this,it,"f"),r),this}wrap(e){return ce("<number|null|undefined>",[e],arguments.length),O(this,de,"f").wrap(e),this}[(Re=new WeakMap,It=new WeakMap,wr=new WeakMap,Fe=new WeakMap,De=new WeakMap,zr=new WeakMap,yt=new WeakMap,Tt=new WeakMap,Gr=new WeakMap,
Ve=new WeakMap,Br=new WeakMap,ze=new WeakMap,st=new WeakMap,xe=new WeakMap,Ge=new WeakMap,Wr=new WeakMap,Yt=new WeakMap,Ce=new WeakMap,ue=new WeakMap,Kr=new WeakMap,Yr=new WeakMap,Me=new WeakMap,Nt=new WeakMap,Xt=new WeakMap,jt=new WeakMap,_t=new WeakMap,Xr=new WeakMap,fe=new WeakMap,Lt=new WeakMap,kt=new WeakMap,Dt=new WeakMap,de=new WeakMap,Jr=new WeakMap,it=new WeakMap,Ee=new WeakMap,Va)](e){if(!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch{}return e}[za](){return{
log:(...e)=>{this[Qr]()||console.log(...e),ae(this,xe,!0,"f"),O(this,Ce,"f").length&&ae(this,Ce,O(this,Ce,"f")+`
`,"f"),ae(this,Ce,O(this,Ce,"f")+e.join(" "),"f")},error:(...e)=>{this[Qr]()||console.error(...e),ae(this,xe,!0,"f"),O(this,Ce,"f").length&&ae(this,Ce,O(this,Ce,"f")+`
`,"f"),ae(this,Ce,O(this,Ce,"f")+e.join(" "),"f")}}}[Bs](e){Fr(O(this,ue,"f")).forEach(r=>{if((s=>s==="configObjects")(r))return;const n=O(this,ue,"f")[r];Array.isArray(n)?n.includes(e)&&n.splice(n.indexOf(e),1):typeof n=="object"&&delete n[e]}),delete O(this,de,"f").getDescriptions()[e]}[Ga](e,r,n){O(this,Gr,"f")[n]||(O(this,fe,"f").process.emitWarning(e,r),O(this,Gr,"f")[n]=!0)}[Ba](){O(this,Br,"f").push({options:O(this,ue,"f"),configObjects:O(this,ue,"f").configObjects.slice(0),exitProcess:O(
this,Ve,"f"),groups:O(this,st,"f"),strict:O(this,Lt,"f"),strictCommands:O(this,kt,"f"),strictOptions:O(this,Dt,"f"),completionCommand:O(this,De,"f"),output:O(this,Ce,"f"),exitError:O(this,yt,"f"),hasOutput:O(this,xe,"f"),parsed:this.parsed,parseFn:O(this,Me,"f"),parseContext:O(this,Nt,"f")}),O(this,de,"f").freeze(),O(this,Ee,"f").freeze(),O(this,Re,"f").freeze(),O(this,ze,"f").freeze()}[Wa](){let e="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(O(this,fe,"f").process.argv()[0])?r=O(this,fe,"f").
process.argv().slice(1,2):r=O(this,fe,"f").process.argv().slice(0,1),e=r.map(n=>{const s=this[oc](O(this,It,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&s.length<n.length?s:n}).join(" ").trim(),O(this,fe,"f").getEnv("_")&&O(this,fe,"f").getProcessArgvBin()===O(this,fe,"f").getEnv("_")&&(e=O(this,fe,"f").getEnv("_").replace(`${O(this,fe,"f").path.dirname(O(this,fe,"f").process.execPath())}/`,"")),e}[xt](){return O(this,Yr,"f")}[Ka](){return O(this,Jr,"f")}[Ws](){if(!O(this,Tt,"f"))return;const e=O(
this,fe,"f").getEnv("LC_ALL")||O(this,fe,"f").getEnv("LC_MESSAGES")||O(this,fe,"f").getEnv("LANG")||O(this,fe,"f").getEnv("LANGUAGE")||"en_US";this.locale(e.replace(/[.:].*/,""))}[Ya](){return this[Ks]().version||"unknown"}[Xa](e){const r=e["--"]?e["--"]:e._;for(let n=0,s;(s=r[n])!==void 0;n++)O(this,fe,"f").Parser.looksLikeNumber(s)&&Number.isSafeInteger(Math.floor(parseFloat(`${s}`)))&&(r[n]=Number(s));return e}[Ks](e){const r=e||"*";if(O(this,Xt,"f")[r])return O(this,Xt,"f")[r];let n={};try{let s=e||
O(this,fe,"f").mainFilename;!e&&O(this,fe,"f").path.extname(s)&&(s=O(this,fe,"f").path.dirname(s));const i=O(this,fe,"f").findUp(s,(o,a)=>{if(a.includes("package.json"))return"package.json"});Ke(i,void 0,O(this,fe,"f")),n=JSON.parse(O(this,fe,"f").readFileSync(i,"utf8"))}catch{}return O(this,Xt,"f")[r]=n||{},O(this,Xt,"f")[r]}[$t](e,r){r=[].concat(r),r.forEach(n=>{n=this[Js](n),O(this,ue,"f")[e].push(n)})}[Jt](e,r,n,s){this[Xs](e,r,n,s,(i,o,a)=>{O(this,ue,"f")[i][o]=a})}[Ys](e,r,n,s){this[Xs](e,
r,n,s,(i,o,a)=>{O(this,ue,"f")[i][o]=(O(this,ue,"f")[i][o]||[]).concat(a)})}[Xs](e,r,n,s,i){if(Array.isArray(n))n.forEach(o=>{e(o,s)});else if((o=>typeof o=="object")(n))for(const o of Fr(n))e(o,n[o]);else i(r,this[Js](n),s)}[Js](e){return e==="__proto__"?"___proto___":e}[Qs](e,r){return this[Jt](this[Qs].bind(this),"key",e,r),this}[Zs](){var e,r,n,s,i,o,a,c,l,u,f,h;const _=O(this,Br,"f").pop();Ke(_,void 0,O(this,fe,"f"));let b;e=this,r=this,n=this,s=this,i=this,o=this,a=this,c=this,l=this,u=this,
f=this,h=this,{options:{set value(y){ae(e,ue,y,"f")}}.value,configObjects:b,exitProcess:{set value(y){ae(r,Ve,y,"f")}}.value,groups:{set value(y){ae(n,st,y,"f")}}.value,output:{set value(y){ae(s,Ce,y,"f")}}.value,exitError:{set value(y){ae(i,yt,y,"f")}}.value,hasOutput:{set value(y){ae(o,xe,y,"f")}}.value,parsed:this.parsed,strict:{set value(y){ae(a,Lt,y,"f")}}.value,strictCommands:{set value(y){ae(c,kt,y,"f")}}.value,strictOptions:{set value(y){ae(l,Dt,y,"f")}}.value,completionCommand:{set value(y){
ae(u,De,y,"f")}}.value,parseFn:{set value(y){ae(f,Me,y,"f")}}.value,parseContext:{set value(y){ae(h,Nt,y,"f")}}.value}=_,O(this,ue,"f").configObjects=b,O(this,de,"f").unfreeze(),O(this,Ee,"f").unfreeze(),O(this,Re,"f").unfreeze(),O(this,ze,"f").unfreeze()}[Ja](e,r){return _r(r,n=>(e(n),n))}getInternalMethods(){return{getCommandInstance:this[Qa].bind(this),getContext:this[Za].bind(this),getHasOutput:this[ec].bind(this),getLoggerInstance:this[tc].bind(this),getParseContext:this[rc].bind(this),getParserConfiguration:this[xt].
bind(this),getUsageConfiguration:this[Ka].bind(this),getUsageInstance:this[nc].bind(this),getValidationInstance:this[sc].bind(this),hasParseCallback:this[Qr].bind(this),isGlobalContext:this[ic].bind(this),postProcess:this[Mt].bind(this),reset:this[ei].bind(this),runValidation:this[ti].bind(this),runYargsParserAndExecuteCommands:this[Er].bind(this),setHasOutput:this[ac].bind(this)}}[Qa](){return O(this,Re,"f")}[Za](){return O(this,wr,"f")}[ec](){return O(this,xe,"f")}[tc](){return O(this,Yt,"f")}[rc](){
return O(this,Nt,"f")||{}}[nc](){return O(this,de,"f")}[sc](){return O(this,Ee,"f")}[Qr](){return!!O(this,Me,"f")}[ic](){return O(this,Wr,"f")}[Mt](e,r,n,s){return n||Ae(e)||(r||(e=this[Va](e)),(this[xt]()["parse-positional-numbers"]||this[xt]()["parse-positional-numbers"]===void 0)&&(e=this[Xa](e)),s&&(e=yr(e,this,O(this,ze,"f").getMiddleware(),!1))),e}[ei](e={}){ae(this,ue,O(this,ue,"f")||{},"f");const r={};r.local=O(this,ue,"f").local||[],r.configObjects=O(this,ue,"f").configObjects||[];const n={};
r.local.forEach(o=>{n[o]=!0,(e[o]||[]).forEach(a=>{n[a]=!0})}),Object.assign(O(this,jt,"f"),Object.keys(O(this,st,"f")).reduce((o,a)=>{const c=O(this,st,"f")[a].filter(l=>!(l in n));return c.length>0&&(o[a]=c),o},{})),ae(this,st,{},"f");const s=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],i=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return s.forEach(o=>{r[o]=(O(this,
ue,"f")[o]||[]).filter(a=>!n[a])}),i.forEach(o=>{r[o]=$r(O(this,ue,"f")[o],a=>!n[a])}),r.envPrefix=O(this,ue,"f").envPrefix,ae(this,ue,r,"f"),ae(this,de,O(this,de,"f")?O(this,de,"f").reset(n):tm(this,O(this,fe,"f")),"f"),ae(this,Ee,O(this,Ee,"f")?O(this,Ee,"f").reset(n):lm(this,O(this,de,"f"),O(this,fe,"f")),"f"),ae(this,Re,O(this,Re,"f")?O(this,Re,"f").reset():Xp(O(this,de,"f"),O(this,Ee,"f"),O(this,ze,"f"),O(this,fe,"f")),"f"),O(this,Fe,"f")||ae(this,Fe,om(this,O(this,de,"f"),O(this,Re,"f"),O(
this,fe,"f")),"f"),O(this,ze,"f").reset(),ae(this,De,null,"f"),ae(this,Ce,"","f"),ae(this,yt,null,"f"),ae(this,xe,!1,"f"),this.parsed=!1,this}[oc](e,r){return O(this,fe,"f").path.relative(e,r)}[Er](e,r,n,s=0,i=!1){let o=!!n||i;e=e||O(this,_t,"f"),O(this,ue,"f").__=O(this,fe,"f").y18n.__,O(this,ue,"f").configuration=this[xt]();const a=!!O(this,ue,"f").configuration["populate--"],c=Object.assign({},O(this,ue,"f").configuration,{"populate--":!0}),l=O(this,fe,"f").Parser.detailed(e,Object.assign({},
O(this,ue,"f"),{configuration:{"parse-positional-numbers":!1,...c}})),u=Object.assign(l.argv,O(this,Nt,"f"));let f;const h=l.aliases;let _=!1,b=!1;Object.keys(u).forEach(y=>{y===O(this,Ge,"f")&&u[y]?_=!0:y===O(this,it,"f")&&u[y]&&(b=!0)}),u.$0=this.$0,this.parsed=l,s===0&&O(this,de,"f").clearCachedHelpMessage();try{if(this[Ws](),r)return this[Mt](u,a,!!n,!1);O(this,Ge,"f")&&[O(this,Ge,"f")].concat(h[O(this,Ge,"f")]||[]).filter(m=>m.length>1).includes(""+u._[u._.length-1])&&(u._.pop(),_=!0),ae(this,
Wr,!1,"f");const y=O(this,Re,"f").getCommands(),d=O(this,Fe,"f").completionKey in u,g=_||d||i;if(u._.length){if(y.length){let p;for(let m=s||0,$;u._[m]!==void 0;m++)if($=String(u._[m]),y.includes($)&&$!==O(this,De,"f")){const v=O(this,Re,"f").runCommand($,this,l,m+1,i,_||b||i);return this[Mt](v,a,!!n,!1)}else if(!p&&$!==O(this,De,"f")){p=$;break}!O(this,Re,"f").hasDefaultCommand()&&O(this,Xr,"f")&&p&&!g&&O(this,Ee,"f").recommendCommands(p,y)}O(this,De,"f")&&u._.includes(O(this,De,"f"))&&!d&&(O(this,
Ve,"f")&&vr(!0),this.showCompletionScript(),this.exit(0))}if(O(this,Re,"f").hasDefaultCommand()&&!g){const p=O(this,Re,"f").runCommand(null,this,l,0,i,_||b||i);return this[Mt](p,a,!!n,!1)}if(d){O(this,Ve,"f")&&vr(!0),e=[].concat(e);const p=e.slice(e.indexOf(`--${O(this,Fe,"f").completionKey}`)+1);return O(this,Fe,"f").getCompletion(p,(m,$)=>{if(m)throw new Oe(m.message);($||[]).forEach(v=>{O(this,Yt,"f").log(v)}),this.exit(0)}),this[Mt](u,!a,!!n,!1)}if(O(this,xe,"f")||(_?(O(this,Ve,"f")&&vr(!0),
o=!0,this.showHelp("log"),this.exit(0)):b&&(O(this,Ve,"f")&&vr(!0),o=!0,O(this,de,"f").showVersion("log"),this.exit(0))),!o&&O(this,ue,"f").skipValidation.length>0&&(o=Object.keys(u).some(p=>O(this,ue,"f").skipValidation.indexOf(p)>=0&&u[p]===!0)),!o){if(l.error)throw new Oe(l.error.message);if(!d){const p=this[ti](h,{},l.error);n||(f=yr(u,this,O(this,ze,"f").getMiddleware(),!0)),f=this[Ja](p,f??u),Ae(f)&&!n&&(f=f.then(()=>yr(u,this,O(this,ze,"f").getMiddleware(),!1)))}}}catch(y){if(y instanceof
Oe)O(this,de,"f").fail(y.message,y);else throw y}return this[Mt](f??u,a,!!n,!0)}[ti](e,r,n,s){const i={...this.getDemandedOptions()};return o=>{if(n)throw new Oe(n.message);O(this,Ee,"f").nonOptionCount(o),O(this,Ee,"f").requiredArguments(o,i);let a=!1;O(this,kt,"f")&&(a=O(this,Ee,"f").unknownCommands(o)),O(this,Lt,"f")&&!a?O(this,Ee,"f").unknownArguments(o,e,r,!!s):O(this,Dt,"f")&&O(this,Ee,"f").unknownArguments(o,e,{},!1,!1),O(this,Ee,"f").limitedChoices(o),O(this,Ee,"f").implications(o),O(this,
Ee,"f").conflicting(o)}}[ac](){ae(this,xe,!0,"f")}[qt](e){if(typeof e=="string")O(this,ue,"f").key[e]=!0;else for(const r of e)O(this,ue,"f").key[r]=!0}}function mm(t){return!!t&&typeof t.getInternalMethods=="function"}const gm=hm(Vp),Sr={type:"string",desc:"<directory> with LikeC4 sources (default is current directory)",normalize:!0,default:".",coerce:ye},Ye={alias:"use-dot-bin",boolean:!0,type:"boolean",desc:'use graphviz binaries ("dot" should be on PATH)',default:!1},cc={boolean:!0,type:"boo\
lean",desc:'use hash history for navigation, e.g. "/#/view" instead of "/view"'},Zr={alias:"o",type:"string",desc:"<directory> output directory",normalize:!0,coerce:ye},ri={alias:"w",type:"string",desc:'prefix for Webcomponents, e.g "c4" generates <c4-view ../>',default:"likec4"},uc={alias:["base-url"],type:"string",desc:'base url the app is being served from, e.g. "/" or "/pages/"'},lc={boolean:!0,type:"boolean",desc:"overview all diagrams as graph [experimental]",default:!1},ym={boolean:!0,type:"\
boolean",desc:"outputs a single self-contained HTML file with all required resources inlined"},_m={alias:"l",type:"string",desc:"ip address of the network interface to listen on",default:"localhost"},fc=t=>t instanceof URL?ya(t):t;function $m(t,{cwd:e=Se.cwd(),type:r="file",stopAt:n}={}){let s=me.resolve(fc(e)??"");const{root:i}=me.parse(s);for(n=me.resolve(s,fc(n)??i);s&&s!==n&&s!==i;){const o=me.isAbsolute(t)?t:me.join(s,t);try{const a=pe.statSync(o,{throwIfNoEntry:!1});if(r==="file"&&a?.isFile()||
r==="directory"&&a?.isDirectory())return o}catch{}s=me.dirname(s)}}function vm({cwd:t=Se.cwd()}={}){return $m("package.json",{cwd:t})}const ni=tt("vite"),en=Ot(ya(import.meta.url)),bm=`
/* prettier-ignore-start */
/* eslint-disable */

/******************************************************************************
 * This file was generated
 * DO NOT EDIT MANUALLY!
 ******************************************************************************/

`.trimStart(),wm=`

/* prettier-ignore-end */
`,si={banner:bm,footer:wm};function dc(){const t=vm({cwd:en});if(!t)throw new Error("likec4 package folder not found");return Ot(t)}function ii(){const t=dc(),e=[ye(t,"__app__"),ye(en,"../__app__"),ye(en,"../../__app__"),ye(en,"../../dist/__app__")],r=Nh(e,Ct);if(!r)throw at.error(`likec4 app root does not exist, tried:
${e.join(`
`)}`),new Error("likec4 app root does not exist");return r}async function oi(){const t=await Mr(cr(qr(),".likec4-public-"));return await Pt(cr(t,"likec4-views.js"),`// generated by likec4
`),t}const ai=1e4;function ci(){const t=dc();return{"likec4/icons":ye(t,"icons"),"likec4/react":ye(t,"react"),"likec4/model":ye(t,"dist/model")}}var ui={},hc;function li(){return hc||(hc=1,function(t){t.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1,t.find=(e,r)=>e.nodes.find(n=>n.type===r),t.exceedsLimit=(e,r,n=1,s)=>s===!1||!t.isInteger(e)||!t.isInteger(r)?!1:(Number(r)-Number(e))/Number(n)>=s,t.escapeNode=(e,r=0,n)=>{const s=e.
nodes[r];s&&(n&&s.type===n||s.type==="open"||s.type==="close")&&s.escaped!==!0&&(s.value="\\"+s.value,s.escaped=!0)},t.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1,t.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1,t.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0,t.reduce=e=>e.reduce((r,n)=>(n.type==="text"&&r.push(n.value),n.type===
"range"&&(n.type="text"),r),[]),t.flatten=(...e)=>{const r=[],n=s=>{for(let i=0;i<s.length;i++){const o=s[i];if(Array.isArray(o)){n(o);continue}o!==void 0&&r.push(o)}return r};return n(e),r}}(ui)),ui}var fi,pc;function di(){if(pc)return fi;pc=1;const t=li();return fi=(e,r={})=>{const n=(s,i={})=>{const o=r.escapeInvalid&&t.isInvalidBrace(i),a=s.invalid===!0&&r.escapeInvalid===!0;let c="";if(s.value)return(o||a)&&t.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(const l of s.
nodes)c+=n(l);return c};return n(e)},fi}var hi,mc;function Em(){return mc||(mc=1,hi=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}),hi}var pi,gc;function Sm(){if(gc)return pi;gc=1;const t=Em(),e=(d,g,p)=>{if(t(d)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(g===void 0||d===g)return String(d);if(t(g)===!1)throw new TypeError("toRegexRange: expected the second argument t\
o be a number.");let m={relaxZeros:!0,...p};typeof m.strictZeros=="boolean"&&(m.relaxZeros=m.strictZeros===!1);let $=String(m.relaxZeros),v=String(m.shorthand),w=String(m.capture),S=String(m.wrap),I=d+":"+g+"="+$+v+w+S;if(e.cache.hasOwnProperty(I))return e.cache[I].result;let F=Math.min(d,g),B=Math.max(d,g);if(Math.abs(F-B)===1){let U=d+"|"+g;return m.capture?`(${U})`:m.wrap===!1?U:`(?:${U})`}let k=b(d)||b(g),M={min:d,max:g,a:F,b:B},j=[],D=[];if(k&&(M.isPadded=k,M.maxLen=String(M.max).length),F<
0){let U=B<0?Math.abs(B):1;D=i(U,Math.abs(F),M,m),F=M.a=0}return B>=0&&(j=i(F,B,M,m)),M.negatives=D,M.positives=j,M.result=r(D,j),m.capture===!0?M.result=`(${M.result})`:m.wrap!==!1&&j.length+D.length>1&&(M.result=`(?:${M.result})`),e.cache[I]=M,M.result};function r(d,g,p){let m=o(d,g,"-",!1)||[],$=o(g,d,"",!1)||[],v=o(d,g,"-?",!0)||[];return m.concat(v).concat($).join("|")}function n(d,g){let p=1,m=1,$=u(d,p),v=new Set([g]);for(;d<=$&&$<=g;)v.add($),p+=1,$=u(d,p);for($=f(g+1,m)-1;d<$&&$<=g;)v.add(
$),m+=1,$=f(g+1,m)-1;return v=[...v],v.sort(c),v}function s(d,g,p){if(d===g)return{pattern:d,count:[],digits:0};let m=a(d,g),$=m.length,v="",w=0;for(let S=0;S<$;S++){let[I,F]=m[S];I===F?v+=I:I!=="0"||F!=="9"?v+=_(I,F):w++}return w&&(v+=p.shorthand===!0?"\\d":"[0-9]"),{pattern:v,count:[w],digits:$}}function i(d,g,p,m){let $=n(d,g),v=[],w=d,S;for(let I=0;I<$.length;I++){let F=$[I],B=s(String(w),String(F),m),k="";if(!p.isPadded&&S&&S.pattern===B.pattern){S.count.length>1&&S.count.pop(),S.count.push(
B.count[0]),S.string=S.pattern+h(S.count),w=F+1;continue}p.isPadded&&(k=y(F,p,m)),B.string=k+B.pattern+h(B.count),v.push(B),w=F+1,S=B}return v}function o(d,g,p,m,$){let v=[];for(let w of d){let{string:S}=w;!m&&!l(g,"string",S)&&v.push(p+S),m&&l(g,"string",S)&&v.push(p+S)}return v}function a(d,g){let p=[];for(let m=0;m<d.length;m++)p.push([d[m],g[m]]);return p}function c(d,g){return d>g?1:g>d?-1:0}function l(d,g,p){return d.some(m=>m[g]===p)}function u(d,g){return Number(String(d).slice(0,-g)+"9".
repeat(g))}function f(d,g){return d-d%Math.pow(10,g)}function h(d){let[g=0,p=""]=d;return p||g>1?`{${g+(p?","+p:"")}}`:""}function _(d,g,p){return`[${d}${g-d===1?"":"-"}${g}]`}function b(d){return/^-?(0+)\d/.test(d)}function y(d,g,p){if(!g.isPadded)return d;let m=Math.abs(g.maxLen-String(d).length),$=p.relaxZeros!==!1;switch(m){case 0:return"";case 1:return $?"0?":"0";case 2:return $?"0{0,2}":"00";default:return $?`0{0,${m}}`:`0{${m}}`}}return e.cache={},e.clearCache=()=>e.cache={},pi=e,pi}var mi,
yc;function _c(){if(yc)return mi;yc=1;const t=ha,e=Sm(),r=m=>m!==null&&typeof m=="object"&&!Array.isArray(m),n=m=>$=>m===!0?Number($):String($),s=m=>typeof m=="number"||typeof m=="string"&&m!=="",i=m=>Number.isInteger(+m),o=m=>{let $=`${m}`,v=-1;if($[0]==="-"&&($=$.slice(1)),$==="0")return!1;for(;$[++v]==="0";);return v>0},a=(m,$,v)=>typeof m=="string"||typeof $=="string"?!0:v.stringify===!0,c=(m,$,v)=>{if($>0){let w=m[0]==="-"?"-":"";w&&(m=m.slice(1)),m=w+m.padStart(w?$-1:$,"0")}return v===!1?String(
m):m},l=(m,$)=>{let v=m[0]==="-"?"-":"";for(v&&(m=m.slice(1),$--);m.length<$;)m="0"+m;return v?"-"+m:m},u=(m,$,v)=>{m.negatives.sort((B,k)=>B<k?-1:B>k?1:0),m.positives.sort((B,k)=>B<k?-1:B>k?1:0);let w=$.capture?"":"?:",S="",I="",F;return m.positives.length&&(S=m.positives.map(B=>l(String(B),v)).join("|")),m.negatives.length&&(I=`-(${w}${m.negatives.map(B=>l(String(B),v)).join("|")})`),S&&I?F=`${S}|${I}`:F=S||I,$.wrap?`(${w}${F})`:F},f=(m,$,v,w)=>{if(v)return e(m,$,{wrap:!1,...w});let S=String.fromCharCode(
m);if(m===$)return S;let I=String.fromCharCode($);return`[${S}-${I}]`},h=(m,$,v)=>{if(Array.isArray(m)){let w=v.wrap===!0,S=v.capture?"":"?:";return w?`(${S}${m.join("|")})`:m.join("|")}return e(m,$,v)},_=(...m)=>new RangeError("Invalid range arguments: "+t.inspect(...m)),b=(m,$,v)=>{if(v.strictRanges===!0)throw _([m,$]);return[]},y=(m,$)=>{if($.strictRanges===!0)throw new TypeError(`Expected step "${m}" to be a number`);return[]},d=(m,$,v=1,w={})=>{let S=Number(m),I=Number($);if(!Number.isInteger(
S)||!Number.isInteger(I)){if(w.strictRanges===!0)throw _([m,$]);return[]}S===0&&(S=0),I===0&&(I=0);let F=S>I,B=String(m),k=String($),M=String(v);v=Math.max(Math.abs(v),1);let j=o(B)||o(k)||o(M),D=j?Math.max(B.length,k.length,M.length):0,U=j===!1&&a(m,$,w)===!1,Y=w.transform||n(U);if(w.toRegex&&v===1)return f(l(m,D),l($,D),!0,w);let G={negatives:[],positives:[]},J=A=>G[A<0?"negatives":"positives"].push(Math.abs(A)),se=[],H=0;for(;F?S>=I:S<=I;)w.toRegex===!0&&v>1?J(S):se.push(c(Y(S,H),D,U)),S=F?S-
v:S+v,H++;return w.toRegex===!0?v>1?u(G,w,D):h(se,null,{wrap:!1,...w}):se},g=(m,$,v=1,w={})=>{if(!i(m)&&m.length>1||!i($)&&$.length>1)return b(m,$,w);let S=w.transform||(U=>String.fromCharCode(U)),I=`${m}`.charCodeAt(0),F=`${$}`.charCodeAt(0),B=I>F,k=Math.min(I,F),M=Math.max(I,F);if(w.toRegex&&v===1)return f(k,M,!1,w);let j=[],D=0;for(;B?I>=F:I<=F;)j.push(S(I,D)),I=B?I-v:I+v,D++;return w.toRegex===!0?h(j,null,{wrap:!1,options:w}):j},p=(m,$,v,w={})=>{if($==null&&s(m))return[m];if(!s(m)||!s($))return b(
m,$,w);if(typeof v=="function")return p(m,$,1,{transform:v});if(r(v))return p(m,$,0,v);let S={...w};return S.capture===!0&&(S.wrap=!0),v=v||S.step||1,i(v)?i(m)&&i($)?d(m,$,v,S):g(m,$,Math.max(Math.abs(v),1),S):v!=null&&!r(v)?y(v,S):p(m,$,1,v)};return mi=p,mi}var gi,$c;function Rm(){if($c)return gi;$c=1;const t=_c(),e=li();return gi=(n,s={})=>{const i=(o,a={})=>{const c=e.isInvalidBrace(a),l=o.invalid===!0&&s.escapeInvalid===!0,u=c===!0||l===!0,f=s.escapeInvalid===!0?"\\":"";let h="";if(o.isOpen===
!0)return f+o.value;if(o.isClose===!0)return console.log("node.isClose",f,o.value),f+o.value;if(o.type==="open")return u?f+o.value:"(";if(o.type==="close")return u?f+o.value:")";if(o.type==="comma")return o.prev.type==="comma"?"":u?o.value:"|";if(o.value)return o.value;if(o.nodes&&o.ranges>0){const _=e.reduce(o.nodes),b=t(..._,{...s,wrap:!1,toRegex:!0,strictZeros:!0});if(b.length!==0)return _.length>1&&b.length>1?`(${b})`:b}if(o.nodes)for(const _ of o.nodes)h+=i(_,o);return h};return i(n)},gi}var yi,
vc;function Am(){if(vc)return yi;vc=1;const t=_c(),e=di(),r=li(),n=(i="",o="",a=!1)=>{const c=[];if(i=[].concat(i),o=[].concat(o),!o.length)return i;if(!i.length)return a?r.flatten(o).map(l=>`{${l}}`):o;for(const l of i)if(Array.isArray(l))for(const u of l)c.push(n(u,o,a));else for(let u of o)a===!0&&typeof u=="string"&&(u=`{${u}}`),c.push(Array.isArray(u)?n(l,u,a):l+u);return r.flatten(c)};return yi=(i,o={})=>{const a=o.rangeLimit===void 0?1e3:o.rangeLimit,c=(l,u={})=>{l.queue=[];let f=u,h=u.queue;
for(;f.type!=="brace"&&f.type!=="root"&&f.parent;)f=f.parent,h=f.queue;if(l.invalid||l.dollar){h.push(n(h.pop(),e(l,o)));return}if(l.type==="brace"&&l.invalid!==!0&&l.nodes.length===2){h.push(n(h.pop(),["{}"]));return}if(l.nodes&&l.ranges>0){const d=r.reduce(l.nodes);if(r.exceedsLimit(...d,o.step,a))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let g=t(...d,o);g.length===0&&(g=e(l,o)),h.push(n(h.pop(),g)),l.nodes=[];return}
const _=r.encloseBrace(l);let b=l.queue,y=l;for(;y.type!=="brace"&&y.type!=="root"&&y.parent;)y=y.parent,b=y.queue;for(let d=0;d<l.nodes.length;d++){const g=l.nodes[d];if(g.type==="comma"&&l.type==="brace"){d===1&&b.push(""),b.push("");continue}if(g.type==="close"){h.push(n(h.pop(),b,_));continue}if(g.value&&g.type!=="open"){b.push(n(b.pop(),g.value));continue}g.nodes&&c(g,l)}return b};return r.flatten(c(i))},yi}var _i,bc;function Om(){return bc||(bc=1,_i={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"\
A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"\
{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}),_i}var $i,wc;function Cm(){if(wc)return $i;wc=1;const t=di(),{MAX_LENGTH:e,CHAR_BACKSLASH:r,CHAR_BACKTICK:n,CHAR_COMMA:s,CHAR_DOT:i,CHAR_LEFT_PARENTHESES:o,CHAR_RIGHT_PARENTHESES:a,
CHAR_LEFT_CURLY_BRACE:c,CHAR_RIGHT_CURLY_BRACE:l,CHAR_LEFT_SQUARE_BRACKET:u,CHAR_RIGHT_SQUARE_BRACKET:f,CHAR_DOUBLE_QUOTE:h,CHAR_SINGLE_QUOTE:_,CHAR_NO_BREAK_SPACE:b,CHAR_ZERO_WIDTH_NOBREAK_SPACE:y}=Om();return $i=(g,p={})=>{if(typeof g!="string")throw new TypeError("Expected a string");const m=p||{},$=typeof m.maxLength=="number"?Math.min(e,m.maxLength):e;if(g.length>$)throw new SyntaxError(`Input length (${g.length}), exceeds max characters (${$})`);const v={type:"root",input:g,nodes:[]},w=[v];
let S=v,I=v,F=0;const B=g.length;let k=0,M=0,j;const D=()=>g[k++],U=Y=>{if(Y.type==="text"&&I.type==="dot"&&(I.type="text"),I&&I.type==="text"&&Y.type==="text"){I.value+=Y.value;return}return S.nodes.push(Y),Y.parent=S,Y.prev=I,I=Y,Y};for(U({type:"bos"});k<B;)if(S=w[w.length-1],j=D(),!(j===y||j===b)){if(j===r){U({type:"text",value:(p.keepEscaping?j:"")+D()});continue}if(j===f){U({type:"text",value:"\\"+j});continue}if(j===u){F++;let Y;for(;k<B&&(Y=D());){if(j+=Y,Y===u){F++;continue}if(Y===r){j+=
D();continue}if(Y===f&&(F--,F===0))break}U({type:"text",value:j});continue}if(j===o){S=U({type:"paren",nodes:[]}),w.push(S),U({type:"text",value:j});continue}if(j===a){if(S.type!=="paren"){U({type:"text",value:j});continue}S=w.pop(),U({type:"text",value:j}),S=w[w.length-1];continue}if(j===h||j===_||j===n){const Y=j;let G;for(p.keepQuotes!==!0&&(j="");k<B&&(G=D());){if(G===r){j+=G+D();continue}if(G===Y){p.keepQuotes===!0&&(j+=G);break}j+=G}U({type:"text",value:j});continue}if(j===c){M++;const G={
type:"brace",open:!0,close:!1,dollar:I.value&&I.value.slice(-1)==="$"||S.dollar===!0,depth:M,commas:0,ranges:0,nodes:[]};S=U(G),w.push(S),U({type:"open",value:j});continue}if(j===l){if(S.type!=="brace"){U({type:"text",value:j});continue}const Y="close";S=w.pop(),S.close=!0,U({type:Y,value:j}),M--,S=w[w.length-1];continue}if(j===s&&M>0){if(S.ranges>0){S.ranges=0;const Y=S.nodes.shift();S.nodes=[Y,{type:"text",value:t(S)}]}U({type:"comma",value:j}),S.commas++;continue}if(j===i&&M>0&&S.commas===0){
const Y=S.nodes;if(M===0||Y.length===0){U({type:"text",value:j});continue}if(I.type==="dot"){if(S.range=[],I.value+=j,I.type="range",S.nodes.length!==3&&S.nodes.length!==5){S.invalid=!0,S.ranges=0,I.type="text";continue}S.ranges++,S.args=[];continue}if(I.type==="range"){Y.pop();const G=Y[Y.length-1];G.value+=I.value+j,I=G,S.ranges--;continue}U({type:"dot",value:j});continue}U({type:"text",value:j})}do if(S=w.pop(),S.type!=="root"){S.nodes.forEach(J=>{J.nodes||(J.type==="open"&&(J.isOpen=!0),J.type===
"close"&&(J.isClose=!0),J.nodes||(J.type="text"),J.invalid=!0)});const Y=w[w.length-1],G=Y.nodes.indexOf(S);Y.nodes.splice(G,1,...S.nodes)}while(w.length>0);return U({type:"eos"}),v},$i}var vi,Ec;function Pm(){if(Ec)return vi;Ec=1;const t=di(),e=Rm(),r=Am(),n=Cm(),s=(i,o={})=>{let a=[];if(Array.isArray(i))for(const c of i){const l=s.create(c,o);Array.isArray(l)?a.push(...l):a.push(l)}else a=[].concat(s.create(i,o));return o&&o.expand===!0&&o.nodupes===!0&&(a=[...new Set(a)]),a};return s.parse=(i,o={})=>n(
i,o),s.stringify=(i,o={})=>t(typeof i=="string"?s.parse(i,o):i,o),s.compile=(i,o={})=>(typeof i=="string"&&(i=s.parse(i,o)),e(i,o)),s.expand=(i,o={})=>{typeof i=="string"&&(i=s.parse(i,o));let a=r(i,o);return o.noempty===!0&&(a=a.filter(Boolean)),o.nodupes===!0&&(a=[...new Set(a)]),a},s.create=(i,o={})=>i===""||i.length<3?[i]:o.expand!==!0?s.compile(i,o):s.expand(i,o),vi=s,vi}var bi={},wi,Sc;function tn(){if(Sc)return wi;Sc=1;const t=Os,e="\\\\/",r=`[^${e}]`,n="\\.",s="\\+",i="\\?",o="\\/",a="(?\
=.)",c="[^/]",l=`(?:${o}|$)`,u=`(?:^|${o})`,f=`${n}{1,2}${l}`,h=`(?!${n})`,_=`(?!${u}${f})`,b=`(?!${n}{0,1}${l})`,y=`(?!${f})`,d=`[^.${o}]`,g=`${c}*?`,p={DOT_LITERAL:n,PLUS_LITERAL:s,QMARK_LITERAL:i,SLASH_LITERAL:o,ONE_CHAR:a,QMARK:c,END_ANCHOR:l,DOTS_SLASH:f,NO_DOT:h,NO_DOTS:_,NO_DOT_SLASH:b,NO_DOTS_SLASH:y,QMARK_NO_DOT:d,STAR:g,START_ANCHOR:u},m={...p,SLASH_LITERAL:`[${e}]`,QMARK:r,STAR:`${r}*?`,DOTS_SLASH:`${n}{1,2}(?:[${e}]|$)`,NO_DOT:`(?!${n})`,NO_DOTS:`(?!(?:^|[${e}])${n}{1,2}(?:[${e}]|$))`,
NO_DOT_SLASH:`(?!${n}{0,1}(?:[${e}]|$))`,NO_DOTS_SLASH:`(?!${n}{1,2}(?:[${e}]|$))`,QMARK_NO_DOT:`[^.${e}]`,START_ANCHOR:`(?:^|[${e}])`,END_ANCHOR:`(?:[${e}]|$)`},$={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};return wi={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:$,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,
REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,
CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,
CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:t.sep,extglobChars(v){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${v.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(v){return v===!0?m:p}},wi}var Rc;function rn(){return Rc||(Rc=1,function(t){const e=Os,r=process.
platform==="win32",{REGEX_BACKSLASH:n,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:o}=tn();t.isObject=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t.hasRegexChars=a=>i.test(a),t.isRegexChar=a=>a.length===1&&t.hasRegexChars(a),t.escapeRegex=a=>a.replace(o,"\\$1"),t.toPosixSlashes=a=>a.replace(n,"/"),t.removeBackslashes=a=>a.replace(s,c=>c==="\\"?"":c),t.supportsLookbehinds=()=>{const a=process.version.slice(1).split(".").map(Number);return a.length===3&&a[0]>=9||
a[0]===8&&a[1]>=10},t.isWindows=a=>a&&typeof a.windows=="boolean"?a.windows:r===!0||e.sep==="\\",t.escapeLast=(a,c,l)=>{const u=a.lastIndexOf(c,l);return u===-1?a:a[u-1]==="\\"?t.escapeLast(a,c,u-1):`${a.slice(0,u)}\\${a.slice(u)}`},t.removePrefix=(a,c={})=>{let l=a;return l.startsWith("./")&&(l=l.slice(2),c.prefix="./"),l},t.wrapOutput=(a,c={},l={})=>{const u=l.contains?"":"^",f=l.contains?"":"$";let h=`${u}(?:${a})${f}`;return c.negated===!0&&(h=`(?:^(?!${h}).*$)`),h}}(bi)),bi}var Ei,Ac;function Im(){
if(Ac)return Ei;Ac=1;const t=rn(),{CHAR_ASTERISK:e,CHAR_AT:r,CHAR_BACKWARD_SLASH:n,CHAR_COMMA:s,CHAR_DOT:i,CHAR_EXCLAMATION_MARK:o,CHAR_FORWARD_SLASH:a,CHAR_LEFT_CURLY_BRACE:c,CHAR_LEFT_PARENTHESES:l,CHAR_LEFT_SQUARE_BRACKET:u,CHAR_PLUS:f,CHAR_QUESTION_MARK:h,CHAR_RIGHT_CURLY_BRACE:_,CHAR_RIGHT_PARENTHESES:b,CHAR_RIGHT_SQUARE_BRACKET:y}=tn(),d=m=>m===a||m===n,g=m=>{m.isPrefix!==!0&&(m.depth=m.isGlobstar?1/0:1)};return Ei=(m,$)=>{const v=$||{},w=m.length-1,S=v.parts===!0||v.scanToEnd===!0,I=[],F=[],
B=[];let k=m,M=-1,j=0,D=0,U=!1,Y=!1,G=!1,J=!1,se=!1,H=!1,A=!1,V=!1,x=!1,E=!1,R=0,C,X,Z={value:"",depth:0,isGlob:!1};const ie=()=>M>=w,oe=()=>k.charCodeAt(M+1),L=()=>(C=X,k.charCodeAt(++M));for(;M<w;){X=L();let N;if(X===n){A=Z.backslashes=!0,X=L(),X===c&&(H=!0);continue}if(H===!0||X===c){for(R++;ie()!==!0&&(X=L());){if(X===n){A=Z.backslashes=!0,L();continue}if(X===c){R++;continue}if(H!==!0&&X===i&&(X=L())===i){if(U=Z.isBrace=!0,G=Z.isGlob=!0,E=!0,S===!0)continue;break}if(H!==!0&&X===s){if(U=Z.isBrace=
!0,G=Z.isGlob=!0,E=!0,S===!0)continue;break}if(X===_&&(R--,R===0)){H=!1,U=Z.isBrace=!0,E=!0;break}}if(S===!0)continue;break}if(X===a){if(I.push(M),F.push(Z),Z={value:"",depth:0,isGlob:!1},E===!0)continue;if(C===i&&M===j+1){j+=2;continue}D=M+1;continue}if(v.noext!==!0&&(X===f||X===r||X===e||X===h||X===o)===!0&&oe()===l){if(G=Z.isGlob=!0,J=Z.isExtglob=!0,E=!0,X===o&&M===j&&(x=!0),S===!0){for(;ie()!==!0&&(X=L());){if(X===n){A=Z.backslashes=!0,X=L();continue}if(X===b){G=Z.isGlob=!0,E=!0;break}}continue}
break}if(X===e){if(C===e&&(se=Z.isGlobstar=!0),G=Z.isGlob=!0,E=!0,S===!0)continue;break}if(X===h){if(G=Z.isGlob=!0,E=!0,S===!0)continue;break}if(X===u){for(;ie()!==!0&&(N=L());){if(N===n){A=Z.backslashes=!0,L();continue}if(N===y){Y=Z.isBracket=!0,G=Z.isGlob=!0,E=!0;break}}if(S===!0)continue;break}if(v.nonegate!==!0&&X===o&&M===j){V=Z.negated=!0,j++;continue}if(v.noparen!==!0&&X===l){if(G=Z.isGlob=!0,S===!0){for(;ie()!==!0&&(X=L());){if(X===l){A=Z.backslashes=!0,X=L();continue}if(X===b){E=!0;break}}
continue}break}if(G===!0){if(E=!0,S===!0)continue;break}}v.noext===!0&&(J=!1,G=!1);let q=k,Q="",ne="";j>0&&(Q=k.slice(0,j),k=k.slice(j),D-=j),q&&G===!0&&D>0?(q=k.slice(0,D),ne=k.slice(D)):G===!0?(q="",ne=k):q=k,q&&q!==""&&q!=="/"&&q!==k&&d(q.charCodeAt(q.length-1))&&(q=q.slice(0,-1)),v.unescape===!0&&(ne&&(ne=t.removeBackslashes(ne)),q&&A===!0&&(q=t.removeBackslashes(q)));const P={prefix:Q,input:m,start:j,base:q,glob:ne,isBrace:U,isBracket:Y,isGlob:G,isExtglob:J,isGlobstar:se,negated:V,negatedExtglob:x};
if(v.tokens===!0&&(P.maxDepth=0,d(X)||F.push(Z),P.tokens=F),v.parts===!0||v.tokens===!0){let N;for(let ee=0;ee<I.length;ee++){const W=N?N+1:j,T=I[ee],te=m.slice(W,T);v.tokens&&(ee===0&&j!==0?(F[ee].isPrefix=!0,F[ee].value=Q):F[ee].value=te,g(F[ee]),P.maxDepth+=F[ee].depth),(ee!==0||te!=="")&&B.push(te),N=T}if(N&&N+1<m.length){const ee=m.slice(N+1);B.push(ee),v.tokens&&(F[F.length-1].value=ee,g(F[F.length-1]),P.maxDepth+=F[F.length-1].depth)}P.slashes=I,P.parts=B}return P},Ei}var Si,Oc;function Tm(){
if(Oc)return Si;Oc=1;const t=tn(),e=rn(),{MAX_LENGTH:r,POSIX_REGEX_SOURCE:n,REGEX_NON_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_BACKREF:i,REPLACEMENTS:o}=t,a=(u,f)=>{if(typeof f.expandRange=="function")return f.expandRange(...u,f);u.sort();const h=`[${u.join("-")}]`;try{new RegExp(h)}catch{return u.map(b=>e.escapeRegex(b)).join("..")}return h},c=(u,f)=>`Missing ${u}: "${f}" - use "\\\\${f}" to match literal characters`,l=(u,f)=>{if(typeof u!="string")throw new TypeError("Expected a string");u=o[u]||u;
const h={...f},_=typeof h.maxLength=="number"?Math.min(r,h.maxLength):r;let b=u.length;if(b>_)throw new SyntaxError(`Input length: ${b}, exceeds maximum allowed length: ${_}`);const y={type:"bos",value:"",output:h.prepend||""},d=[y],g=h.capture?"":"?:",p=e.isWindows(f),m=t.globChars(p),$=t.extglobChars(m),{DOT_LITERAL:v,PLUS_LITERAL:w,SLASH_LITERAL:S,ONE_CHAR:I,DOTS_SLASH:F,NO_DOT:B,NO_DOT_SLASH:k,NO_DOTS_SLASH:M,QMARK:j,QMARK_NO_DOT:D,STAR:U,START_ANCHOR:Y}=m,G=T=>`(${g}(?:(?!${Y}${T.dot?F:v}).\
)*?)`,J=h.dot?"":B,se=h.dot?j:D;let H=h.bash===!0?G(h):U;h.capture&&(H=`(${H})`),typeof h.noext=="boolean"&&(h.noextglob=h.noext);const A={input:u,index:-1,start:0,dot:h.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:d};u=e.removePrefix(u,A),b=u.length;const V=[],x=[],E=[];let R=y,C;const X=()=>A.index===b-1,Z=A.peek=(T=1)=>u[A.index+T],ie=A.advance=()=>u[++A.index]||"",oe=()=>u.slice(A.index+1),L=(T="",te=0)=>{A.consumed+=
T,A.index+=te},q=T=>{A.output+=T.output!=null?T.output:T.value,L(T.value)},Q=()=>{let T=1;for(;Z()==="!"&&(Z(2)!=="("||Z(3)==="?");)ie(),A.start++,T++;return T%2===0?!1:(A.negated=!0,A.start++,!0)},ne=T=>{A[T]++,E.push(T)},P=T=>{A[T]--,E.pop()},N=T=>{if(R.type==="globstar"){const te=A.braces>0&&(T.type==="comma"||T.type==="brace"),z=T.extglob===!0||V.length&&(T.type==="pipe"||T.type==="paren");T.type!=="slash"&&T.type!=="paren"&&!te&&!z&&(A.output=A.output.slice(0,-R.output.length),R.type="star",
R.value="*",R.output=H,A.output+=R.output)}if(V.length&&T.type!=="paren"&&(V[V.length-1].inner+=T.value),(T.value||T.output)&&q(T),R&&R.type==="text"&&T.type==="text"){R.value+=T.value,R.output=(R.output||"")+T.value;return}T.prev=R,d.push(T),R=T},ee=(T,te)=>{const z={...$[te],conditions:1,inner:""};z.prev=R,z.parens=A.parens,z.output=A.output;const re=(h.capture?"(":"")+z.open;ne("parens"),N({type:T,value:te,output:A.output?"":I}),N({type:"paren",extglob:!0,value:ie(),output:re}),V.push(z)},W=T=>{
let te=T.close+(h.capture?")":""),z;if(T.type==="negate"){let re=H;if(T.inner&&T.inner.length>1&&T.inner.includes("/")&&(re=G(h)),(re!==H||X()||/^\)+$/.test(oe()))&&(te=T.close=`)$))${re}`),T.inner.includes("*")&&(z=oe())&&/^\.[^\\/.]+$/.test(z)){const le=l(z,{...f,fastpaths:!1}).output;te=T.close=`)${le})${re})`}T.prev.type==="bos"&&(A.negatedExtglob=!0)}N({type:"paren",extglob:!0,value:C,output:te}),P("parens")};if(h.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(u)){let T=!1,te=u.replace(i,(z,re,le,$e,we,ot)=>$e===
"\\"?(T=!0,z):$e==="?"?re?re+$e+(we?j.repeat(we.length):""):ot===0?se+(we?j.repeat(we.length):""):j.repeat(le.length):$e==="."?v.repeat(le.length):$e==="*"?re?re+$e+(we?H:""):H:re?z:`\\${z}`);return T===!0&&(h.unescape===!0?te=te.replace(/\\/g,""):te=te.replace(/\\+/g,z=>z.length%2===0?"\\\\":z?"\\":"")),te===u&&h.contains===!0?(A.output=u,A):(A.output=e.wrapOutput(te,A,f),A)}for(;!X();){if(C=ie(),C==="\0")continue;if(C==="\\"){const z=Z();if(z==="/"&&h.bash!==!0||z==="."||z===";")continue;if(!z){
C+="\\",N({type:"text",value:C});continue}const re=/^\\+/.exec(oe());let le=0;if(re&&re[0].length>2&&(le=re[0].length,A.index+=le,le%2!==0&&(C+="\\")),h.unescape===!0?C=ie():C+=ie(),A.brackets===0){N({type:"text",value:C});continue}}if(A.brackets>0&&(C!=="]"||R.value==="["||R.value==="[^")){if(h.posix!==!1&&C===":"){const z=R.value.slice(1);if(z.includes("[")&&(R.posix=!0,z.includes(":"))){const re=R.value.lastIndexOf("["),le=R.value.slice(0,re),$e=R.value.slice(re+2),we=n[$e];if(we){R.value=le+
we,A.backtrack=!0,ie(),!y.output&&d.indexOf(R)===1&&(y.output=I);continue}}}(C==="["&&Z()!==":"||C==="-"&&Z()==="]")&&(C=`\\${C}`),C==="]"&&(R.value==="["||R.value==="[^")&&(C=`\\${C}`),h.posix===!0&&C==="!"&&R.value==="["&&(C="^"),R.value+=C,q({value:C});continue}if(A.quotes===1&&C!=='"'){C=e.escapeRegex(C),R.value+=C,q({value:C});continue}if(C==='"'){A.quotes=A.quotes===1?0:1,h.keepQuotes===!0&&N({type:"text",value:C});continue}if(C==="("){ne("parens"),N({type:"paren",value:C});continue}if(C===
")"){if(A.parens===0&&h.strictBrackets===!0)throw new SyntaxError(c("opening","("));const z=V[V.length-1];if(z&&A.parens===z.parens+1){W(V.pop());continue}N({type:"paren",value:C,output:A.parens?")":"\\)"}),P("parens");continue}if(C==="["){if(h.nobracket===!0||!oe().includes("]")){if(h.nobracket!==!0&&h.strictBrackets===!0)throw new SyntaxError(c("closing","]"));C=`\\${C}`}else ne("brackets");N({type:"bracket",value:C});continue}if(C==="]"){if(h.nobracket===!0||R&&R.type==="bracket"&&R.value.length===
1){N({type:"text",value:C,output:`\\${C}`});continue}if(A.brackets===0){if(h.strictBrackets===!0)throw new SyntaxError(c("opening","["));N({type:"text",value:C,output:`\\${C}`});continue}P("brackets");const z=R.value.slice(1);if(R.posix!==!0&&z[0]==="^"&&!z.includes("/")&&(C=`/${C}`),R.value+=C,q({value:C}),h.literalBrackets===!1||e.hasRegexChars(z))continue;const re=e.escapeRegex(R.value);if(A.output=A.output.slice(0,-R.value.length),h.literalBrackets===!0){A.output+=re,R.value=re;continue}R.value=
`(${g}${re}|${R.value})`,A.output+=R.value;continue}if(C==="{"&&h.nobrace!==!0){ne("braces");const z={type:"brace",value:C,output:"(",outputIndex:A.output.length,tokensIndex:A.tokens.length};x.push(z),N(z);continue}if(C==="}"){const z=x[x.length-1];if(h.nobrace===!0||!z){N({type:"text",value:C,output:C});continue}let re=")";if(z.dots===!0){const le=d.slice(),$e=[];for(let we=le.length-1;we>=0&&(d.pop(),le[we].type!=="brace");we--)le[we].type!=="dots"&&$e.unshift(le[we].value);re=a($e,h),A.backtrack=
!0}if(z.comma!==!0&&z.dots!==!0){const le=A.output.slice(0,z.outputIndex),$e=A.tokens.slice(z.tokensIndex);z.value=z.output="\\{",C=re="\\}",A.output=le;for(const we of $e)A.output+=we.output||we.value}N({type:"brace",value:C,output:re}),P("braces"),x.pop();continue}if(C==="|"){V.length>0&&V[V.length-1].conditions++,N({type:"text",value:C});continue}if(C===","){let z=C;const re=x[x.length-1];re&&E[E.length-1]==="braces"&&(re.comma=!0,z="|"),N({type:"comma",value:C,output:z});continue}if(C==="/"){
if(R.type==="dot"&&A.index===A.start+1){A.start=A.index+1,A.consumed="",A.output="",d.pop(),R=y;continue}N({type:"slash",value:C,output:S});continue}if(C==="."){if(A.braces>0&&R.type==="dot"){R.value==="."&&(R.output=v);const z=x[x.length-1];R.type="dots",R.output+=C,R.value+=C,z.dots=!0;continue}if(A.braces+A.parens===0&&R.type!=="bos"&&R.type!=="slash"){N({type:"text",value:C,output:v});continue}N({type:"dot",value:C,output:v});continue}if(C==="?"){if(!(R&&R.value==="(")&&h.noextglob!==!0&&Z()===
"("&&Z(2)!=="?"){ee("qmark",C);continue}if(R&&R.type==="paren"){const re=Z();let le=C;if(re==="<"&&!e.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(R.value==="("&&!/[!=<:]/.test(re)||re==="<"&&!/<([!=]|\w+>)/.test(oe()))&&(le=`\\${C}`),N({type:"text",value:C,output:le});continue}if(h.dot!==!0&&(R.type==="slash"||R.type==="bos")){N({type:"qmark",value:C,output:D});continue}N({type:"qmark",value:C,output:j});continue}if(C==="!"){if(h.noextglob!==
!0&&Z()==="("&&(Z(2)!=="?"||!/[!=<:]/.test(Z(3)))){ee("negate",C);continue}if(h.nonegate!==!0&&A.index===0){Q();continue}}if(C==="+"){if(h.noextglob!==!0&&Z()==="("&&Z(2)!=="?"){ee("plus",C);continue}if(R&&R.value==="("||h.regex===!1){N({type:"plus",value:C,output:w});continue}if(R&&(R.type==="bracket"||R.type==="paren"||R.type==="brace")||A.parens>0){N({type:"plus",value:C});continue}N({type:"plus",value:w});continue}if(C==="@"){if(h.noextglob!==!0&&Z()==="("&&Z(2)!=="?"){N({type:"at",extglob:!0,
value:C,output:""});continue}N({type:"text",value:C});continue}if(C!=="*"){(C==="$"||C==="^")&&(C=`\\${C}`);const z=s.exec(oe());z&&(C+=z[0],A.index+=z[0].length),N({type:"text",value:C});continue}if(R&&(R.type==="globstar"||R.star===!0)){R.type="star",R.star=!0,R.value+=C,R.output=H,A.backtrack=!0,A.globstar=!0,L(C);continue}let T=oe();if(h.noextglob!==!0&&/^\([^?]/.test(T)){ee("star",C);continue}if(R.type==="star"){if(h.noglobstar===!0){L(C);continue}const z=R.prev,re=z.prev,le=z.type==="slash"||
z.type==="bos",$e=re&&(re.type==="star"||re.type==="globstar");if(h.bash===!0&&(!le||T[0]&&T[0]!=="/")){N({type:"star",value:C,output:""});continue}const we=A.braces>0&&(z.type==="comma"||z.type==="brace"),ot=V.length&&(z.type==="pipe"||z.type==="paren");if(!le&&z.type!=="paren"&&!we&&!ot){N({type:"star",value:C,output:""});continue}for(;T.slice(0,3)==="/**";){const mt=u[A.index+4];if(mt&&mt!=="/")break;T=T.slice(3),L("/**",3)}if(z.type==="bos"&&X()){R.type="globstar",R.value+=C,R.output=G(h),A.
output=R.output,A.globstar=!0,L(C);continue}if(z.type==="slash"&&z.prev.type!=="bos"&&!$e&&X()){A.output=A.output.slice(0,-(z.output+R.output).length),z.output=`(?:${z.output}`,R.type="globstar",R.output=G(h)+(h.strictSlashes?")":"|$)"),R.value+=C,A.globstar=!0,A.output+=z.output+R.output,L(C);continue}if(z.type==="slash"&&z.prev.type!=="bos"&&T[0]==="/"){const mt=T[1]!==void 0?"|$":"";A.output=A.output.slice(0,-(z.output+R.output).length),z.output=`(?:${z.output}`,R.type="globstar",R.output=`${G(
h)}${S}|${S}${mt})`,R.value+=C,A.output+=z.output+R.output,A.globstar=!0,L(C+ie()),N({type:"slash",value:"/",output:""});continue}if(z.type==="bos"&&T[0]==="/"){R.type="globstar",R.value+=C,R.output=`(?:^|${S}|${G(h)}${S})`,A.output=R.output,A.globstar=!0,L(C+ie()),N({type:"slash",value:"/",output:""});continue}A.output=A.output.slice(0,-R.output.length),R.type="globstar",R.output=G(h),R.value+=C,A.output+=R.output,A.globstar=!0,L(C);continue}const te={type:"star",value:C,output:H};if(h.bash===!0){
te.output=".*?",(R.type==="bos"||R.type==="slash")&&(te.output=J+te.output),N(te);continue}if(R&&(R.type==="bracket"||R.type==="paren")&&h.regex===!0){te.output=C,N(te);continue}(A.index===A.start||R.type==="slash"||R.type==="dot")&&(R.type==="dot"?(A.output+=k,R.output+=k):h.dot===!0?(A.output+=M,R.output+=M):(A.output+=J,R.output+=J),Z()!=="*"&&(A.output+=I,R.output+=I)),N(te)}for(;A.brackets>0;){if(h.strictBrackets===!0)throw new SyntaxError(c("closing","]"));A.output=e.escapeLast(A.output,"["),
P("brackets")}for(;A.parens>0;){if(h.strictBrackets===!0)throw new SyntaxError(c("closing",")"));A.output=e.escapeLast(A.output,"("),P("parens")}for(;A.braces>0;){if(h.strictBrackets===!0)throw new SyntaxError(c("closing","}"));A.output=e.escapeLast(A.output,"{"),P("braces")}if(h.strictSlashes!==!0&&(R.type==="star"||R.type==="bracket")&&N({type:"maybe_slash",value:"",output:`${S}?`}),A.backtrack===!0){A.output="";for(const T of A.tokens)A.output+=T.output!=null?T.output:T.value,T.suffix&&(A.output+=
T.suffix)}return A};return l.fastpaths=(u,f)=>{const h={...f},_=typeof h.maxLength=="number"?Math.min(r,h.maxLength):r,b=u.length;if(b>_)throw new SyntaxError(`Input length: ${b}, exceeds maximum allowed length: ${_}`);u=o[u]||u;const y=e.isWindows(f),{DOT_LITERAL:d,SLASH_LITERAL:g,ONE_CHAR:p,DOTS_SLASH:m,NO_DOT:$,NO_DOTS:v,NO_DOTS_SLASH:w,STAR:S,START_ANCHOR:I}=t.globChars(y),F=h.dot?v:$,B=h.dot?w:$,k=h.capture?"":"?:",M={negated:!1,prefix:""};let j=h.bash===!0?".*?":S;h.capture&&(j=`(${j})`);const D=J=>J.
noglobstar===!0?j:`(${k}(?:(?!${I}${J.dot?m:d}).)*?)`,U=J=>{switch(J){case"*":return`${F}${p}${j}`;case".*":return`${d}${p}${j}`;case"*.*":return`${F}${j}${d}${p}${j}`;case"*/*":return`${F}${j}${g}${p}${B}${j}`;case"**":return F+D(h);case"**/*":return`(?:${F}${D(h)}${g})?${B}${p}${j}`;case"**/*.*":return`(?:${F}${D(h)}${g})?${B}${j}${d}${p}${j}`;case"**/.*":return`(?:${F}${D(h)}${g})?${d}${p}${j}`;default:{const se=/^(.*?)\.(\w+)$/.exec(J);if(!se)return;const H=U(se[1]);return H?H+d+se[2]:void 0}}},
Y=e.removePrefix(u,M);let G=U(Y);return G&&h.strictSlashes!==!0&&(G+=`${g}?`),G},Si=l,Si}var Ri,Cc;function Nm(){if(Cc)return Ri;Cc=1;const t=Os,e=Im(),r=Tm(),n=rn(),s=tn(),i=a=>a&&typeof a=="object"&&!Array.isArray(a),o=(a,c,l=!1)=>{if(Array.isArray(a)){const g=a.map(m=>o(m,c,l));return m=>{for(const $ of g){const v=$(m);if(v)return v}return!1}}const u=i(a)&&a.tokens&&a.input;if(a===""||typeof a!="string"&&!u)throw new TypeError("Expected pattern to be a non-empty string");const f=c||{},h=n.isWindows(
c),_=u?o.compileRe(a,c):o.makeRe(a,c,!1,!0),b=_.state;delete _.state;let y=()=>!1;if(f.ignore){const g={...c,ignore:null,onMatch:null,onResult:null};y=o(f.ignore,g,l)}const d=(g,p=!1)=>{const{isMatch:m,match:$,output:v}=o.test(g,_,c,{glob:a,posix:h}),w={glob:a,state:b,regex:_,posix:h,input:g,output:v,match:$,isMatch:m};return typeof f.onResult=="function"&&f.onResult(w),m===!1?(w.isMatch=!1,p?w:!1):y(g)?(typeof f.onIgnore=="function"&&f.onIgnore(w),w.isMatch=!1,p?w:!1):(typeof f.onMatch=="functi\
on"&&f.onMatch(w),p?w:!0)};return l&&(d.state=b),d};return o.test=(a,c,l,{glob:u,posix:f}={})=>{if(typeof a!="string")throw new TypeError("Expected input to be a string");if(a==="")return{isMatch:!1,output:""};const h=l||{},_=h.format||(f?n.toPosixSlashes:null);let b=a===u,y=b&&_?_(a):a;return b===!1&&(y=_?_(a):a,b=y===u),(b===!1||h.capture===!0)&&(h.matchBase===!0||h.basename===!0?b=o.matchBase(a,c,l,f):b=c.exec(y)),{isMatch:!!b,match:b,output:y}},o.matchBase=(a,c,l,u=n.isWindows(l))=>(c instanceof
RegExp?c:o.makeRe(c,l)).test(t.basename(a)),o.isMatch=(a,c,l)=>o(c,l)(a),o.parse=(a,c)=>Array.isArray(a)?a.map(l=>o.parse(l,c)):r(a,{...c,fastpaths:!1}),o.scan=(a,c)=>e(a,c),o.compileRe=(a,c,l=!1,u=!1)=>{if(l===!0)return a.output;const f=c||{},h=f.contains?"":"^",_=f.contains?"":"$";let b=`${h}(?:${a.output})${_}`;a&&a.negated===!0&&(b=`^(?!${b}).*$`);const y=o.toRegex(b,c);return u===!0&&(y.state=a),y},o.makeRe=(a,c={},l=!1,u=!1)=>{if(!a||typeof a!="string")throw new TypeError("Expected a non-e\
mpty string");let f={negated:!1,fastpaths:!0};return c.fastpaths!==!1&&(a[0]==="."||a[0]==="*")&&(f.output=r.fastpaths(a,c)),f.output||(f=r(a,c)),o.compileRe(f,c,l,u)},o.toRegex=(a,c)=>{try{const l=c||{};return new RegExp(a,l.flags||(l.nocase?"i":""))}catch(l){if(c&&c.debug===!0)throw l;return/$^/}},o.constants=s,Ri=o,Ri}var Ai,Pc;function jm(){return Pc||(Pc=1,Ai=Nm()),Ai}var Oi,Ic;function Lm(){if(Ic)return Oi;Ic=1;const t=ha,e=Pm(),r=jm(),n=rn(),s=a=>a===""||a==="./",i=a=>{const c=a.indexOf("\
{");return c>-1&&a.indexOf("}",c)>-1},o=(a,c,l)=>{c=[].concat(c),a=[].concat(a);let u=new Set,f=new Set,h=new Set,_=0,b=g=>{h.add(g.output),l&&l.onResult&&l.onResult(g)};for(let g=0;g<c.length;g++){let p=r(String(c[g]),{...l,onResult:b},!0),m=p.state.negated||p.state.negatedExtglob;m&&_++;for(let $ of a){let v=p($,!0);(m?!v.isMatch:v.isMatch)&&(m?u.add(v.output):(u.delete(v.output),f.add(v.output)))}}let d=(_===c.length?[...h]:[...f]).filter(g=>!u.has(g));if(l&&d.length===0){if(l.failglob===!0)throw new Error(
`No matches found for "${c.join(", ")}"`);if(l.nonull===!0||l.nullglob===!0)return l.unescape?c.map(g=>g.replace(/\\/g,"")):c}return d};return o.match=o,o.matcher=(a,c)=>r(a,c),o.isMatch=(a,c,l)=>r(c,l)(a),o.any=o.isMatch,o.not=(a,c,l={})=>{c=[].concat(c).map(String);let u=new Set,f=[],h=b=>{l.onResult&&l.onResult(b),f.push(b.output)},_=new Set(o(a,c,{...l,onResult:h}));for(let b of f)_.has(b)||u.add(b);return[...u]},o.contains=(a,c,l)=>{if(typeof a!="string")throw new TypeError(`Expected a stri\
ng: "${t.inspect(a)}"`);if(Array.isArray(c))return c.some(u=>o.contains(a,u,l));if(typeof c=="string"){if(s(a)||s(c))return!1;if(a.includes(c)||a.startsWith("./")&&a.slice(2).includes(c))return!0}return o.isMatch(a,c,{...l,contains:!0})},o.matchKeys=(a,c,l)=>{if(!n.isObject(a))throw new TypeError("Expected the first argument to be an object");let u=o(Object.keys(a),c,l),f={};for(let h of u)f[h]=a[h];return f},o.some=(a,c,l)=>{let u=[].concat(a);for(let f of[].concat(c)){let h=r(String(f),l);if(u.
some(_=>h(_)))return!0}return!1},o.every=(a,c,l)=>{let u=[].concat(a);for(let f of[].concat(c)){let h=r(String(f),l);if(!u.every(_=>h(_)))return!1}return!0},o.all=(a,c,l)=>{if(typeof a!="string")throw new TypeError(`Expected a string: "${t.inspect(a)}"`);return[].concat(c).every(u=>r(u,l)(a))},o.capture=(a,c,l)=>{let u=n.isWindows(l),h=r.makeRe(String(a),{...l,capture:!0}).exec(u?n.toPosixSlashes(c):c);if(h)return h.slice(1).map(_=>_===void 0?"":_)},o.makeRe=(...a)=>r.makeRe(...a),o.scan=(...a)=>r.
scan(...a),o.parse=(a,c)=>{let l=[];for(let u of[].concat(a||[]))for(let f of e(String(u),c))l.push(r.parse(f,c));return l},o.braces=(a,c)=>{if(typeof a!="string")throw new TypeError("Expected a string");return c&&c.nobrace===!0||!i(a)?[a]:e(a,c)},o.braceExpand=(a,c)=>{if(typeof a!="string")throw new TypeError("Expected a string");return o.braces(a,{...c,expand:!0})},o.hasBraces=i,Oi=o,Oi}var km=Lm();const Tc=Dr(km),Dm={useRecommendedBuildConfig:!0,removeViteModuleLoader:!1,deleteInlinedFiles:!0};
function xm(t,e,r,n=!1){const s=e.replaceAll(".","\\."),i=new RegExp(`<script([^>]*?) src="(?:[^"]*?/)?${s}"([^>]*)></script>`),o=/"?__VITE_PRELOAD__"?/g,a=r.replace(o,"void 0").replace(/<(\/script>|!--)/g,"\\x3C$1"),c=t.replace(i,(l,u,f)=>`<script${u}${f}>${a.trim()}</script>`);return n?Vm(c):c}function Mm(t,e,r){const n=e.replaceAll(".","\\."),s=new RegExp(`<link([^>]*?) href="(?:[^"]*?/)?${n}"([^>]*)>`),i=r.replace('@charset "UTF-8";',"");return t.replace(s,(a,c,l)=>`<style${c}${l}>${i.trim()}\
</style>`)}const qm=/\.[mc]?js$/,Um=/\.css$/,Hm=/\.html?$/;function Fm({useRecommendedBuildConfig:t=!0,removeViteModuleLoader:e=!1,inlinePattern:r=[],deleteInlinedFiles:n=!0}=Dm){return{name:"vite:singlefile",config:t?zm:void 0,enforce:"post",generateBundle(s,i){const o=l=>this.info(`NOTE: asset not inlined: ${l}`);this.info(`
`);const a={html:[],css:[],js:[],other:[]};for(const l of Object.keys(i))Hm.test(l)?a.html.push(l):Um.test(l)?a.css.push(l):qm.test(l)?a.js.push(l):a.other.push(l);const c=[];for(const l of a.html){const u=i[l];let f=u.source;for(const h of a.js){if(r.length&&!Tc.isMatch(h,r)){o(h);continue}const _=i[h];_.code!=null&&(this.info(`Inlining: ${h}`),c.push(h),f=xm(f,_.fileName,_.code,e))}for(const h of a.css){if(r.length&&!Tc.isMatch(h,r)){o(h);continue}const _=i[h];this.info(`Inlining: ${h}`),c.push(
h),f=Mm(f,_.fileName,_.source)}u.source=f}if(n)for(const l of c)delete i[l];for(const l of a.other)o(l)}}}const Vm=t=>t.replace(/(<script type="module" crossorigin>\s*)\(function(?: polyfill)?\(\)\s*\{[\s\S]*?\}\)\(\);/,'<script type="module">'),zm=t=>{t.build||(t.build={}),t.build.assetsInlineLimit=()=>!0,t.build.chunkSizeWarningLimit=1e8,t.build.cssCodeSplit=!1,t.base="./",t.build.assetsDir="",t.build.rollupOptions||(t.build.rollupOptions={}),t.build.rollupOptions.output||(t.build.rollupOptions.
output={});const e=r=>{r.inlineDynamicImports=!0};if(Array.isArray(t.build.rollupOptions.output))for(const r of t.build.rollupOptions.output)e(r);else e(t.build.rollupOptions.output)};function Gm(t){const e=new _a;return e.appendTemplate`
    /* prettier-ignore-start */
    /* eslint-disable */

    /******************************************************************************
     * This file was generated
     * DO NOT EDIT MANUALLY!
     ******************************************************************************/

    import { LikeC4Model } from 'likec4/model'

    export const likeC4Model = LikeC4Model.fromDump(${Gt.stringify(t.$model,{space:2,quote:"'"})})

    export type LikeC4ModelTypes = typeof likeC4Model.Aux
    export type LikeC4ElementId = LikeC4ModelTypes['Fqn']
    export type LikeC4DeploymentId = LikeC4ModelTypes['Deployment']
    export type LikeC4ViewId = LikeC4ModelTypes['ViewId']

    /* prettier-ignore-end */
  `,Ls(e)}function Bm(t){return $a(t,e=>va`${Gt.stringify(e.id)}`,{separator:" | "})}function Wm(t){const e=Array.from(t),r=new _a;return r.appendTemplate`
    /******************************************************************************
     * This file was generated
     * DO NOT EDIT MANUALLY!
     ******************************************************************************/
    /* prettier-ignore-start */
    /* eslint-disable */

    // @ts-nocheck

    import type { DiagramView } from 'likec4'
    `.append(Wt,Wt),e.length===0?(r.append("export {}",Wt),Ls(r)):(r.appendTemplate`
    export type LikeC4ViewId = ${Bm(e)};
    export const LikeC4Views = {
  `.indent({indentation:2,indentedChildren(n){n.appendNewLineIf(e.length>1).append($a(e,s=>va`${Gt.stringify(s.id)}: (${Gt.stringify(s)} as unknown) as DiagramView`,{separator:",",appendNewLineIfNotEmpty:!0}))}}).append("} as const satisfies Record<LikeC4ViewId, DiagramView>",Wt,Wt).appendTemplate`
    export type LikeC4Views = typeof LikeC4Views

    export function isLikeC4ViewId(value: unknown): value is LikeC4ViewId {
      return (
        value != null &&
        typeof value === 'string' &&
        !!LikeC4Views[value]
      )
    }

    /* prettier-ignore-end */
  `.append(Wt),Ls(r))}function Rr(t){t instanceof Set&&(t=[...t].sort(fp));const e=t.map(r=>`  | ${JSON.stringify(r)}`);return e.length===0&&e.push("  never"),e.join(`
`)+";"}function Km(t){const{fqns:e,tags:r,kinds:n}=ba([...t.elements()]).reduce((o,a)=>(o.fqns.push(a.id),o.kinds.add(a.kind),o.tags.push(...a.tags),o),{fqns:[],kinds:new Set,tags:[]}),s=ba([...t.deployment.elements()]).map(o=>o.id),{viewIds:i}=[...t.views()].reduce((o,a)=>(o.viewIds.add(a.id),o.tags.push(...a.tags),o.tags.push(...a.includedTags),o),{viewIds:new Set,tags:r});return`
/* prettier-ignore-start */
/* eslint-disable */

/******************************************************************************
 * This file was generated
 * DO NOT EDIT MANUALLY!
 ******************************************************************************/

import type { PropsWithChildren } from 'react'
import type { JSX } from 'react/jsx-runtime'
import type {
  DiagramView,
  LikeC4Model as GenericLikeC4Model,
} from 'likec4/model'
import type {
  LikeC4ViewProps as GenericLikeC4ViewProps,
  ReactLikeC4Props as GenericReactLikeC4Props
} from 'likec4/react'

type LikeC4ElementId =
${Rr(e)}

type LikeC4DeploymentId =
${Rr(s)}

type LikeC4ViewId =
${Rr(i)}

type LikeC4ElementKind =
${Rr(n)}

type LikeC4Tag =
${Rr(new Set(r))}

declare function isLikeC4ViewId(value: unknown): value is LikeC4ViewId;

type Aux = GenericLikeC4Model.Typed<LikeC4ElementId, LikeC4DeploymentId, LikeC4ViewId, DiagramView<LikeC4ViewId>>;
type LikeC4Model = GenericLikeC4Model<Aux>;
type LikeC4ViewModel = GenericLikeC4Model.View<Aux>;

declare const likeC4Model: LikeC4Model;
declare function useLikeC4Model(): LikeC4Model;
declare function useLikeC4View(viewId: LikeC4ViewId): DiagramView<LikeC4ViewId>;

declare function LikeC4ModelProvider(props: PropsWithChildren): JSX.Element;

type IconRendererProps = {
  node: {
    id: string
    title: string
    icon?: string | undefined
  }
}
declare function RenderIcon(props: IconRendererProps): JSX.Element;

type LikeC4ViewProps = GenericLikeC4ViewProps<LikeC4ViewId, LikeC4Tag, LikeC4ElementKind>;
declare function LikeC4View({viewId, ...props}: LikeC4ViewProps): JSX.Element;

type ReactLikeC4Props = GenericReactLikeC4Props<LikeC4ViewId, LikeC4Tag, LikeC4ElementKind>
declare function ReactLikeC4({viewId, ...props}: ReactLikeC4Props): JSX.Element;

export {
  type LikeC4ElementId,
  type LikeC4DeploymentId,
  type LikeC4ViewId,
  type LikeC4Tag,
  type LikeC4ElementKind,
  type LikeC4ViewProps,
  type ReactLikeC4Props,
  type LikeC4Model,
  isLikeC4ViewId,
  useLikeC4Model,
  useLikeC4View,
  useLikeC4ViewModel,
  likeC4Model,
  LikeC4ModelProvider,
  LikeC4View,
  RenderIcon,
  ReactLikeC4
}
/* prettier-ignore-end */
`.trimStart()}const Ci=async({languageServices:t,likec4AssetsDir:e,...r})=>{const n=r.customLogger??ni,s=ii(),i=r?.useOverviewGraph===!0;n.info(`${K.cyan("likec4 app root")} ${K.dim(s)}`);const o=r.outputDir??ye(t.workspace,"dist");n.info(K.cyan("output")+" "+K.dim(o));let a="/";r.base&&(a=ia(r.base),!jh(a)&&a!=="./"&&(a=Lh(a))),a!=="/"&&n.info(`${K.green("app base url")} ${K.dim(a)}`);const c=r.webcomponentPrefix??"likec4";return{isDev:!1,likec4AssetsDir:e,webcomponentPrefix:c,root:s,languageServices:t,
clearScreen:!1,base:a,resolve:{conditions:["production"],dedupe:["react","react-dom","react/jsx-runtime","react/jsx-dev-runtime","react-dom/client"],alias:{...ci(),"likec4/previews":e}},configFile:!1,mode:"production",optimizeDeps:{force:!0,include:["react","react-dom","react/jsx-runtime","react/jsx-dev-runtime","react/jsx-dev-runtime","react-dom/client"]},define:{WEBCOMPONENT_PREFIX:JSON.stringify(c),__USE_OVERVIEW_GRAPH__:i?"true":"false",__USE_HASH_HISTORY__:r?.useHashHistory===!0?"true":"fal\
se","process.env.NODE_ENV":'"production"'},build:{outDir:o,modulePreload:!1,emptyOutDir:!1,sourcemap:!1,cssCodeSplit:!0,cssMinify:!0,minify:!0,copyPublicDir:!0,chunkSizeWarningLimit:ai,rollupOptions:{treeshake:{preset:"recommended"},output:{hoistTransitiveImports:!1,compact:!0}}},customLogger:n,plugins:[js(),ks({languageServices:t.languageServices,useOverviewGraph:i})].concat(r.outputSingleFile?[Fm()]:[])}};async function Pi({languageServices:t,outDir:e,base:r,webcomponentPrefix:n="likec4",filename:s="\
likec4-views.js"}){const i=ni,o=ii();return i.info(K.cyan("outDir")+" "+K.dim(e)),{root:o,clearScreen:!1,base:r,configFile:!1,publicDir:!1,mode:"production",resolve:{conditions:["production"],alias:ci()},define:{WEBCOMPONENT_PREFIX:JSON.stringify(n),"process.env.NODE_ENV":'"production"'},esbuild:{...si},build:{outDir:e,emptyOutDir:!1,sourcemap:!1,minify:!0,assetsInlineLimit:100*1024,chunkSizeWarningLimit:ai,lib:{entry:"src/webcomponent.tsx",fileName(a,c){return s},formats:["iife"],name:"LikeC4Vi\
ews"},rollupOptions:{treeshake:{preset:"recommended"},output:{format:"iife",hoistTransitiveImports:!1,compact:!0}}},customLogger:i,plugins:[js(),ks({languageServices:t.languageServices,useOverviewGraph:!1})]}}const Ym=["favicon.ico","robots.txt"],Xm=async({buildWebcomponent:t=!0,webcomponentPrefix:e="likec4",languageServices:r,likec4AssetsDir:n,outputSingleFile:s,...i})=>{n??=await Mr(cr(qr(),".likec4-assets-"));const{isDev:o,...a}=await Ci({...i,languageServices:r,likec4AssetsDir:n,webcomponentPrefix:e,
outputSingleFile:s}),c=await oi();for(const u of Ym){const f=ye(a.root,u);Ct(f)&&ma(f,ye(c,u))}const l=r.languageServices.projects();if(l.length===1){const u=await r.viewsService.computedViews(),f=await r.diagrams();if(f.length===0)throw process.exitCode=1,new Error("no views found");if(f.length===u.length?a.customLogger.info(`${K.dim("workspace:")} ${K.green("\u2713 all views layouted")}`):a.customLogger.warn(`${K.dim("workspace:")} ${K.yellow(`\u2717 layouted ${f.length} of ${u.length} views`)}`),
f.forEach(h=>{h.hasLayoutDrift&&a.customLogger.warn(K.yellow("drift detected, manual layout can not be applied, view:")+" "+K.red(h.id))}),t){const h=await Pi({webcomponentPrefix:e,languageServices:r,outDir:c,base:a.base});await fr(h)}}else for(const u of l){const f=await r.viewsService.computedViews(u.id);f.length===0?a.customLogger.warn(`${K.dim("project:")} ${u.id} ${K.yellow("\u2717 no views found")}`):a.customLogger.info(`${K.dim("project:")} ${u.id} ${K.green(`${f.length} views`)}`)}if(await fr(
{...a,publicDir:c,mode:"production"}),s)for(let u of np(ye(a.build.outDir)).filter(f=>f!=="index.html"))Ts(ye(a.build.outDir,u),{recursive:!0});else{const u=ye(a.build.outDir,"index.html");Ct(u)&&ma(u,ye(a.build.outDir,"404.html"))}};function Nc(t){return e=>e.length>1?[t,"run",e[0],"--",...e.slice(1)]:[t,"run",e[0]]}function Jm(){return t=>["deno","run",`npm:${t[0]}`,...t.slice(1)]}const Qm={agent:["npm",0],run:Nc("npm"),install:["npm","i",0],frozen:["npm","ci",0],global:["npm","i","-g",0],add:[
"npm","i",0],upgrade:["npm","update",0],"upgrade-interactive":null,execute:["npx",0],"execute-local":["npx",0],uninstall:["npm","uninstall",0],global_uninstall:["npm","uninstall","-g",0]},jc={agent:["yarn",0],run:["yarn","run",0],install:["yarn","install",0],frozen:["yarn","install","--frozen-lockfile",0],global:["yarn","global","add",0],add:["yarn","add",0],upgrade:["yarn","upgrade",0],"upgrade-interactive":["yarn","upgrade-interactive",0],execute:["npx",0],"execute-local":["yarn","exec",0],uninstall:[
"yarn","remove",0],global_uninstall:["yarn","global","remove",0]},Zm={...jc,frozen:["yarn","install","--immutable",0],upgrade:["yarn","up",0],"upgrade-interactive":["yarn","up","-i",0],execute:["yarn","dlx",0],"execute-local":["yarn","exec",0],global:["npm","i","-g",0],global_uninstall:["npm","uninstall","-g",0]},Lc={agent:["pnpm",0],run:["pnpm","run",0],install:["pnpm","i",0],frozen:["pnpm","i","--frozen-lockfile",0],global:["pnpm","add","-g",0],add:["pnpm","add",0],upgrade:["pnpm","update",0],
"upgrade-interactive":["pnpm","update","-i",0],execute:["pnpm","dlx",0],"execute-local":["pnpm","exec",0],uninstall:["pnpm","remove",0],global_uninstall:["pnpm","remove","--global",0]},eg={agent:["bun",0],run:["bun","run",0],install:["bun","install",0],frozen:["bun","install","--frozen-lockfile",0],global:["bun","add","-g",0],add:["bun","add",0],upgrade:["bun","update",0],"upgrade-interactive":["bun","update",0],execute:["bun","x",0],"execute-local":["bun","x",0],uninstall:["bun","remove",0],global_uninstall:[
"bun","remove","-g",0]},tg={agent:["deno",0],run:["deno","task",0],install:["deno","install",0],frozen:["deno","install","--frozen",0],global:["deno","install","-g",0],add:["deno","add",0],upgrade:["deno","outdated","--update",0],"upgrade-interactive":["deno","outdated","--update",0],execute:Jm(),"execute-local":["deno","task","--eval",0],uninstall:["deno","remove",0],global_uninstall:["deno","uninstall","-g",0]},rg={npm:Qm,yarn:jc,"yarn@berry":Zm,pnpm:Lc,"pnpm@6":{...Lc,run:Nc("pnpm")},bun:eg,deno:tg};
function ng(t,e,r){const n=rg[t][e];return sg(n,r)}function sg(t,e){if(t==null)return null;const r=typeof t=="function"?t(e):t.flatMap(n=>typeof n=="number"?e:[n]);return{command:r[0],args:r.slice(1)}}const ig=["npm","yarn","yarn@berry","pnpm","pnpm@6","bun","deno"],kc={"bun.lock":"bun","bun.lockb":"bun","deno.lock":"deno","pnpm-lock.yaml":"pnpm","pnpm-workspace.yaml":"pnpm","yarn.lock":"yarn","package-lock.json":"npm","npm-shrinkwrap.json":"npm"},Dc={"node_modules/.deno/":"deno","node_modules/.\
pnpm/":"pnpm","node_modules/.yarn-state.yml":"yarn","node_modules/.yarn_integrity":"yarn","node_modules/.package-lock.json":"npm",".pnp.cjs":"yarn",".pnp.js":"yarn","bun.lock":"bun","bun.lockb":"bun"};async function Ii(t,e){try{const r=await ga.stat(t);return e==="file"?r.isFile():r.isDirectory()}catch{return!1}}function*og(t=Se.cwd()){let e=me.resolve(t);const{root:r}=me.parse(e);for(;e&&e!==r;)yield e,e=me.dirname(e)}async function xc(t,e){return!t||!Ii(t,"file")?null:await ug(t,e)}async function ag(t={}){
const{cwd:e,strategies:r=["lockfile","packageManager-field","devEngines-field"],onUnknown:n}=t;for(const s of og(e))for(const i of r)switch(i){case"lockfile":{for(const o of Object.keys(kc))if(await Ii(me.join(s,o),"file")){const a=kc[o],c=await xc(me.join(s,"package.json"),n);return c||{name:a,agent:a}}break}case"packageManager-field":case"devEngines-field":{const o=await xc(me.join(s,"package.json"),n);if(o)return o;break}case"install-metadata":{for(const o of Object.keys(Dc)){const a=o.endsWith(
"/")?"dir":"file";if(await Ii(me.join(s,o),a)){const c=Dc[o],l=c==="yarn"?lg(o)?"yarn":"yarn@berry":c;return{name:c,agent:l}}}break}}return null}function cg(t){const e=r=>r?.match(/\d+(\.\d+){0,2}/)?.[0]??r;if(typeof t.packageManager=="string"){const[r,n]=t.packageManager.replace(/^\^/,"").split("@");return{name:r,ver:e(n)}}if(typeof t.devEngines?.packageManager?.name=="string")return{name:t.devEngines.packageManager.name,ver:e(t.devEngines.packageManager.version)}}async function ug(t,e){try{const r=JSON.
parse(await ga.readFile(t,"utf8"));let n;const s=cg(r);if(s){const i=s.name,o=s.ver;let a=o;return i==="yarn"&&o&&Number.parseInt(o)>1?(n="yarn@berry",a="berry",{name:i,agent:n,version:a}):i==="pnpm"&&o&&Number.parseInt(o)<7?(n="pnpm@6",{name:i,agent:n,version:a}):ig.includes(i)?(n=i,{name:i,agent:n,version:a}):e?.(r.packageManager)??null}}catch{}return null}function lg(t){return t.endsWith(".yarn_integrity")}function Mc(t){try{return!!lp.createRequire(import.meta.url).resolve(t)}catch(e){return ct.
debug(Ss(e)),!1}}async function Ar(){if(Mc("react")&&Mc("react-dom")){ct.debug("react already installed");return}ct.debug("react not installed");const t=await ag();t||(ct.error`Package manager not detected, please install dependencies manually: ${"react"} ${"react-dom"}`,process.exit(1));const e=ng(t.agent,"add",["react","react-dom"]);e||(ct.error`Please install dependencies manually: ${"react"} ${"react-dom"}`,process.exit(1));try{await oa(e.command,e.args,{stdio:"inherit"})}catch(r){ct.debug(Ss(
r)),ct.error`Please install dependencies manually: ${"react"} ${"react-dom"}`,process.exit(1)}}var fg=kh();const dg=Dr(fg);function qc(t){if(t.resolvedUrls)return aa(t.resolvedUrls.network)??aa(t.resolvedUrls.local)}function Uc(t){if(!t.resolvedUrls)throw new Error("Vite server is not ready, no resolvedUrls");At([K.green("LikeC4 served at:"),"",K.dim("Local:   ")+t.resolvedUrls.local.join(`
`+"".padEnd(9," ")),t.resolvedUrls.network.length?K.dim("Network: ")+t.resolvedUrls.network.join(`
`+"".padEnd(9," ")):void 0].filter(e=>Dh(e)).join(`
`))}class Hc extends Error{constructor(e){super(`${e} is locked`)}}const Qt={old:new Set,young:new Set},hg=1e3*15,nn=1024,sn=65535;let Or;const pg=()=>{const t=lr.networkInterfaces(),e=new Set([void 0,"0.0.0.0"]);for(const r of Object.values(t))for(const n of r)e.add(n.address);return e},Fc=t=>new Promise((e,r)=>{const n=dp.createServer();n.unref(),n.on("error",r),n.listen(t,()=>{const{port:s}=n.address();n.close(()=>{e(s)})})}),Vc=async(t,e)=>{if(t.host||t.port===0)return Fc(t);for(const r of e)
try{await Fc({port:t.port,host:r})}catch(n){if(!["EADDRNOTAVAIL","EINVAL"].includes(n.code))throw n}return t.port},mg=function*(t){t&&(yield*t),yield 0};async function Ti(t){let e,r=new Set;if(t&&(t.port&&(e=typeof t.port=="number"?[t.port]:t.port),t.exclude)){const s=t.exclude;if(typeof s[Symbol.iterator]!="function")throw new TypeError("The `exclude` option must be an iterable.");for(const i of s){if(typeof i!="number")throw new TypeError("Each item in the `exclude` option must be a number cor\
responding to the port you want excluded.");if(!Number.isSafeInteger(i))throw new TypeError(`Number ${i} in the exclude option is not a safe integer and can't be used`)}r=new Set(s)}Or===void 0&&(Or=setTimeout(()=>{Or=void 0,Qt.old=Qt.young,Qt.young=new Set},hg),Or.unref&&Or.unref());const n=pg();for(const s of mg(e))try{if(r.has(s))continue;let i=await Vc({...t,port:s},n);for(;Qt.old.has(i)||Qt.young.has(i);){if(s!==0)throw new Hc(s);i=await Vc({...t,port:s},n)}return Qt.young.add(i),i}catch(i){
if(!["EADDRINUSE","EACCES"].includes(i.code)&&!(i instanceof Hc))throw i}throw new Error("No available ports found")}function on(t,e){if(!Number.isInteger(t)||!Number.isInteger(e))throw new TypeError("`from` and `to` must be integer numbers");if(t<nn||t>sn)throw new RangeError(`'from' must be between ${nn} and ${sn}`);if(e<nn||e>sn)throw new RangeError(`'to' must be between ${nn} and ${sn}`);if(t>e)throw new RangeError("`to` must be greater than or equal to `from`");return function*(n,s){for(let i=n;i<=
s;i++)yield i}(t,e)}async function zc({buildWebcomponent:t=!0,hmr:e=!0,webcomponentPrefix:r="likec4",languageServices:n,likec4AssetsDir:s,openBrowser:i,listen:o,...a}){s??=await Mr(cr(qr(),".likec4-assets-"));const{isDev:c,...l}=await Ci({...a,languageServices:n,likec4AssetsDir:s,webcomponentPrefix:r}),u=await Ti({port:[5173,...on(61e3,61010),...on(62002,62010)]}),f=await Ti({port:on(24678,24690)}),h=await oi();let _;if(t){const y=await Pi({webcomponentPrefix:r,languageServices:n,outDir:h,base:l.
base});_=fr({...y,logLevel:"warn"}).catch(d=>(at.warn("webcomponent build failed",{err:d}),at.warn("Ignoring error and continuing"),Promise.resolve()))}const b=await cp({...l,define:Object.assign({},l.define,e&&{"process.env.NODE_ENV":'"development"'}),mode:e?"development":l.mode,publicDir:h,server:{host:o??"127.0.0.1",allowedHosts:!0,port:u,hmr:e&&{overlay:!0,port:f},fs:{strict:!1},open:i??!c}});return await b.listen(),_&&await _,b}async function gg({browserContext:t,views:e,output:r,logger:n,timeout:s,
maxAttempts:i,outputType:o,theme:a}){let c;const l=e.map(h=>({view:h,attempt:1})),u=[];let f;for(;f=l.shift();){const{view:h,attempt:_}=f,b=`export/${encodeURIComponent(h.id)}`;try{if(_>1){c&&(c.close({runBeforeUnload:!0}).catch(m=>n.error(`failed to close page: ${m}`)),c=void 0);const p=ca(_*200,{min:200,max:1e3});n.info(K.cyan(b)+K.dim(` attempt ${_} of ${i} after ${p}ms`)),await hp(p)}else h.hasLayoutDrift&&n.warn(K.yellow("Drift detected, manual layout can not be applied, view may be invalid\
: ")+K.red(h.id));let y=".";o==="relative"&&(y=h.relativePath??".",y.includes("/")?y=y.slice(0,y.lastIndexOf("/")):y=".");const d=ye(r,y,`${h.id}.png`);c??=await t.newPage();const g=16;await c.setViewportSize({width:h.bounds.width+20*2+g,height:h.bounds.height+20*2+g}),await c.goto(b+`?padding=20&theme=${a}`),n.info(K.cyan(b)+K.dim(` -> ${gt(r,d)}`)),h.nodes.some(p=>xh(p.icon)&&p.icon.toLowerCase().startsWith("http"))&&await yg(c,s),await c.waitForSelector(".react-flow.initialized"),await c.screenshot(
{animations:"disabled",path:d,omitBackground:!0}),u.push({view:h,path:d})}catch(y){c?.close({runBeforeUnload:!0}).catch(d=>n.error(`failed to close page: ${d}`)),n.error(K.red("failed "+b+`
`+y)),_<i&&(l.push({view:h,attempt:_+1}),n.info(K.dim(`retry ${b}`))),c=void 0}}return u}async function yg(t,e){let r=await t.locator("//img").all();if(!r.length)return;const n=r.map(s=>s.evaluate(i=>i.complete||new Promise((o,a)=>{i.onload=o,i.onerror=a}),{timeout:Math.max(3e4,e)}));await Promise.allSettled(n)}async function Gc({logger:t,serverUrl:e,theme:r="light",timeoutMs:n=15e3,views:s,output:i,outputType:o="relative",maxAttempts:a=3,chromiumSandbox:c=!1}){t.info(`${K.dim("output")} ${i}`),
t.info(`${K.dim("base url")} ${e}
`);const l=Sa.executablePath();t.info(K.cyan("Start chromium")+" "+K.dim(l));const u=await Sa.launch({chromiumSandbox:c,headless:!0});t.info(K.cyan("Color scheme: ")+r+`
`);const f=await u.newContext({deviceScaleFactor:2,colorScheme:r,baseURL:e,bypassCSP:!0,ignoreHTTPSErrors:!0,isMobile:!1});f.setDefaultNavigationTimeout(n),f.setDefaultTimeout(n);try{return await gg({browserContext:f,views:s,output:i,outputType:o,logger:t,maxAttempts:a,timeout:n,theme:r})}finally{t.info(K.cyan("close chromium")),await f.close(),await u.close()}}async function Bc({path:t,useDotBin:e,theme:r="light",output:n,outputType:s,serverUrl:i,ignore:o=!1,timeoutMs:a=1e4,maxAttempts:c=3,filter:l,
chromiumSandbox:u=!1}){const f=tt("export"),h=zh(),_=await rt.fromWorkspace(t,{logger:"vite",graphviz:e?"binary":"wasm"});n??=_.workspace;let b;const y=_.languageServices.projects();if(!i&&(f.info(K.cyan("start preview server")),b=await zc({languageServices:_,buildWebcomponent:!1,openBrowser:!1,useOverviewGraph:!1,hmr:!1}),i=qc(b),!i))throw f.error("Vite server is not ready, no resolvedUrls"),new Error("Vite server is not ready, no resolvedUrls");for(const d of y){y.length>1&&(f.info(K.dim("----\
-----")),f.info(`${K.dim("project:")} ${d.id}`),f.info(`${K.dim("folder:")} ${d.folder.fsPath}`));let g=await _.diagrams(d.id);if(l&&Ds(l,1)&&Ds(g,1)){const w=dg(l);f.info(`${K.cyan("filter")} ${K.dim(JSON.stringify(l))}`),g=g.filter(S=>w(S.id)?(f.info(`${K.green("include")} ${S.id} \u2705`),!0):(f.info(`${K.gray("skip")} ${K.dim(S.id)}`),!1))}if(!Ds(g,1)){f.warn("no views found");continue}let p=y.length>1?ia(ua(i,"project",d.id)):i,m=y.length>1?ua(n,d.id):n;const $=await Gc({logger:f,serverUrl:p,
theme:r,timeoutMs:a,views:g,output:m,outputType:s,maxAttempts:c,chromiumSandbox:u}),{pretty:v}=Mh(h);if($.length>0&&f.info(K.green(`exported ${$.length} views in ${v}`)+`
`),$.length!==g.length&&(o&&$.length>0?f.info(K.dim("ignore")+" "+K.red(`failed ${g.length-$.length} out of ${g.length} views`)):f.error(K.red(`failed ${g.length-$.length} out of ${g.length} views`))),$.length!==g.length&&($.length===0||!o))throw new Error(`Failed ${g.length-$.length} out of ${g.length} views`)}b&&(f.info(K.cyan("stop server")),await b.close().catch(d=>{f.error(d)}))}const{cyan:Wc,dim:Kc}=K;async function _g({path:t,useDotBin:e,useHashHistory:r,webcomponentPrefix:n,useOverview:s=!1,
output:i,outputSingleFile:o,base:a}){await Ar();const c=tt("c4:build"),l=await rt.fromWorkspace(t,{graphviz:e?"binary":"wasm",logger:"vite"}),u=i??ye(l.workspace,"dist");let f=ye(u,"assets");if(s)try{f=ye(u,"assets","previews"),await ut(f,{recursive:!0}),c.info(`${Wc("Generate previews")} ${Kc(f)}
`),await Bc({path:t,useDotBin:e,output:f,outputType:"flat",ignore:!0})}catch(h){c.error(K.red("Failed to generate previews")),c.error(h),c.warn(K.yellow("Ignore previews and continue build")),Ts(f,{recursive:!0,force:!0}),s=!1}await Xm({base:a,useHashHistory:o||r,customLogger:c,useOverviewGraph:s,webcomponentPrefix:n,languageServices:l,likec4AssetsDir:f,outputDir:i,outputSingleFile:o}),s&&(c.info(`${Wc("clean previews")} ${Kc(f)}`),Ts(f,{recursive:!0,force:!0}))}const $g={command:"build [path]",
aliases:["bundle"],describe:"Build a static website",builder:t=>t.positional("path",Sr).option("output",{alias:"o",type:"string",desc:"output directory for production build",normalize:!0,coerce:ye}).option("base",uc).option("use-hash-history",cc).option("use-dot",Ye).option("webcomponent-prefix",ri).option("use-overview",lc).option("output-single-file",ym).example(`${K.green("$0 build -o ./build ./src")}`,K.gray("Search for likec4 files in 'src' and output static site to 'build'")),handler:async t=>{
await _g({path:t.path,output:t.output,base:t.base,useHashHistory:t["use-hash-history"],useDotBin:t["use-dot"],useOverview:t["use-overview"]??!1,webcomponentPrefix:t["webcomponent-prefix"],outputSingleFile:t["output-single-file"]??!1})}},Ut=t=>{const e=typeof t;return t!==null&&(e==="object"||e==="function")},Ni=new Set(["__proto__","prototype","constructor"]),vg=new Set("0123456789");function an(t){const e=[];let r="",n="start",s=!1;for(const i of t)switch(i){case"\\":{if(n==="index")throw new Error(
"Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");s&&(r+=i),n="property",s=!s;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(s){s=!1,r+=i;break}if(Ni.has(r))return[];e.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(s){s=!1,r+=i;break}if(n==="property"){if(Ni.has(r))return[];e.push(
r),r=""}n="index";break}case"]":{if(n==="index"){e.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!vg.has(i))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),s&&(s=!1,r+="\\"),r+=i}}switch(s&&(r+="\\"),n){case"property":{if(Ni.has(r))return[];e.push(r);break}case"index":throw new Error("Index was not \
closed");case"start":{e.push("");break}}return e}function ji(t,e){if(typeof e!="number"&&Array.isArray(t)){const r=Number.parseInt(e,10);return Number.isInteger(r)&&t[r]===t[e]}return!1}function Yc(t,e){if(ji(t,e))throw new Error("Cannot use string index")}function bg(t,e,r){if(!Ut(t)||typeof e!="string")return r===void 0?t:r;const n=an(e);if(n.length===0)return r;for(let s=0;s<n.length;s++){const i=n[s];if(ji(t,i)?t=s===n.length-1?void 0:null:t=t[i],t==null){if(s!==n.length-1)return r;break}}return t===
void 0?r:t}function Xc(t,e,r){if(!Ut(t)||typeof e!="string")return t;const n=t,s=an(e);for(let i=0;i<s.length;i++){const o=s[i];Yc(t,o),i===s.length-1?t[o]=r:Ut(t[o])||(t[o]=typeof s[i+1]=="number"?[]:{}),t=t[o]}return n}function wg(t,e){if(!Ut(t)||typeof e!="string")return!1;const r=an(e);for(let n=0;n<r.length;n++){const s=r[n];if(Yc(t,s),n===r.length-1)return delete t[s],!0;if(t=t[s],!Ut(t))return!1}}function Eg(t,e){if(!Ut(t)||typeof e!="string")return!1;const r=an(e);if(r.length===0)return!1;
for(const n of r){if(!Ut(t)||!(n in t)||ji(t,n))return!1;t=t[n]}return!0}const vt=lr.homedir(),Li=lr.tmpdir(),{env:Zt}=Se,Sg=t=>{const e=me.join(vt,"Library");return{data:me.join(e,"Application Support",t),config:me.join(e,"Preferences",t),cache:me.join(e,"Caches",t),log:me.join(e,"Logs",t),temp:me.join(Li,t)}},Rg=t=>{const e=Zt.APPDATA||me.join(vt,"AppData","Roaming"),r=Zt.LOCALAPPDATA||me.join(vt,"AppData","Local");return{data:me.join(r,t,"Data"),config:me.join(e,t,"Config"),cache:me.join(r,t,
"Cache"),log:me.join(r,t,"Log"),temp:me.join(Li,t)}},Ag=t=>{const e=me.basename(vt);return{data:me.join(Zt.XDG_DATA_HOME||me.join(vt,".local","share"),t),config:me.join(Zt.XDG_CONFIG_HOME||me.join(vt,".config"),t),cache:me.join(Zt.XDG_CACHE_HOME||me.join(vt,".cache"),t),log:me.join(Zt.XDG_STATE_HOME||me.join(vt,".local","state"),t),temp:me.join(Li,e,t)}};function Og(t,{suffix:e="nodejs"}={}){if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);return e&&(t+=`-${e}`),Se.
platform==="darwin"?Sg(t):Se.platform==="win32"?Rg(t):Ag(t)}const bt=(t,e)=>function(...n){return t.apply(void 0,n).catch(e)},ft=(t,e)=>function(...n){try{return t.apply(void 0,n)}catch(s){return e(s)}},Cg=Se.getuid?!Se.getuid():!1,Pg=1e4,qe=()=>{},be={isChangeErrorOk:t=>{if(!be.isNodeError(t))return!1;const{code:e}=t;return e==="ENOSYS"||!Cg&&(e==="EINVAL"||e==="EPERM")},isNodeError:t=>t instanceof Error,isRetriableError:t=>{if(!be.isNodeError(t))return!1;const{code:e}=t;return e==="EMFILE"||e===
"ENFILE"||e==="EAGAIN"||e==="EBUSY"||e==="EACCESS"||e==="EACCES"||e==="EACCS"||e==="EPERM"},onChangeError:t=>{if(!be.isNodeError(t))throw t;if(!be.isChangeErrorOk(t))throw t}};class Ig{constructor(){this.interval=25,this.intervalId=void 0,this.limit=Pg,this.queueActive=new Set,this.queueWaiting=new Set,this.init=()=>{this.intervalId||(this.intervalId=setInterval(this.tick,this.interval))},this.reset=()=>{this.intervalId&&(clearInterval(this.intervalId),delete this.intervalId)},this.add=e=>{this.
queueWaiting.add(e),this.queueActive.size<this.limit/2?this.tick():this.init()},this.remove=e=>{this.queueWaiting.delete(e),this.queueActive.delete(e)},this.schedule=()=>new Promise(e=>{const r=()=>this.remove(n),n=()=>e(r);this.add(n)}),this.tick=()=>{if(!(this.queueActive.size>=this.limit)){if(!this.queueWaiting.size)return this.reset();for(const e of this.queueWaiting){if(this.queueActive.size>=this.limit)break;this.queueWaiting.delete(e),this.queueActive.add(e),e()}}}}}const Tg=new Ig,wt=(t,e)=>function(n){
return function s(...i){return Tg.schedule().then(o=>{const a=l=>(o(),l),c=l=>{if(o(),Date.now()>=n)throw l;if(e(l)){const u=Math.round(100*Math.random());return new Promise(h=>setTimeout(h,u)).then(()=>s.apply(void 0,i))}throw l};return t.apply(void 0,i).then(a,c)})}},Et=(t,e)=>function(n){return function s(...i){try{return t.apply(void 0,i)}catch(o){if(Date.now()>n)throw o;if(e(o))return s.apply(void 0,i);throw o}}},Te={attempt:{chmod:bt(Ie(pe.chmod),be.onChangeError),chown:bt(Ie(pe.chown),be.
onChangeError),close:bt(Ie(pe.close),qe),fsync:bt(Ie(pe.fsync),qe),mkdir:bt(Ie(pe.mkdir),qe),realpath:bt(Ie(pe.realpath),qe),stat:bt(Ie(pe.stat),qe),unlink:bt(Ie(pe.unlink),qe),chmodSync:ft(pe.chmodSync,be.onChangeError),chownSync:ft(pe.chownSync,be.onChangeError),closeSync:ft(pe.closeSync,qe),existsSync:ft(pe.existsSync,qe),fsyncSync:ft(pe.fsync,qe),mkdirSync:ft(pe.mkdirSync,qe),realpathSync:ft(pe.realpathSync,qe),statSync:ft(pe.statSync,qe),unlinkSync:ft(pe.unlinkSync,qe)},retry:{close:wt(Ie(pe.
close),be.isRetriableError),fsync:wt(Ie(pe.fsync),be.isRetriableError),open:wt(Ie(pe.open),be.isRetriableError),readFile:wt(Ie(pe.readFile),be.isRetriableError),rename:wt(Ie(pe.rename),be.isRetriableError),stat:wt(Ie(pe.stat),be.isRetriableError),write:wt(Ie(pe.write),be.isRetriableError),writeFile:wt(Ie(pe.writeFile),be.isRetriableError),closeSync:Et(pe.closeSync,be.isRetriableError),fsyncSync:Et(pe.fsyncSync,be.isRetriableError),openSync:Et(pe.openSync,be.isRetriableError),readFileSync:Et(pe.readFileSync,
be.isRetriableError),renameSync:Et(pe.renameSync,be.isRetriableError),statSync:Et(pe.statSync,be.isRetriableError),writeSync:Et(pe.writeSync,be.isRetriableError),writeFileSync:Et(pe.writeFileSync,be.isRetriableError)}},Ng="utf8",Jc=438,jg=511,Lg={},kg=lr.userInfo().uid,Dg=lr.userInfo().gid,xg=1e3,Mg=!!Se.getuid;Se.getuid&&Se.getuid();const Qc=128,qg=t=>t instanceof Error&&"code"in t,Zc=t=>typeof t=="string",ki=t=>t===void 0,Ug=Se.platform==="linux",eu=Se.platform==="win32",Di=["SIGABRT","SIGALRM",
"SIGHUP","SIGINT","SIGTERM"];eu||Di.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),Ug&&Di.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED");class Hg{constructor(){this.callbacks=new Set,this.exited=!1,this.exit=e=>{if(!this.exited){this.exited=!0;for(const r of this.callbacks)r();e&&(eu&&e!=="SIGINT"&&e!=="SIGTERM"&&e!=="SIGKILL"?Se.kill(Se.pid,"SIGTERM"):Se.kill(Se.pid,e))}},this.hook=()=>{Se.once("exit",()=>this.exit());for(const e of Di)try{Se.once(
e,()=>this.exit(e))}catch{}},this.register=e=>(this.callbacks.add(e),()=>{this.callbacks.delete(e)}),this.hook()}}const Fg=new Hg,Vg=Fg.register,Ne={store:{},create:t=>{const e=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),s=`.tmp-${Date.now().toString().slice(-10)}${e}`;return`${t}${s}`},get:(t,e,r=!0)=>{const n=Ne.truncate(e(t));return n in Ne.store?Ne.get(t,e,r):(Ne.store[n]=r,[n,()=>delete Ne.store[n]])},purge:t=>{Ne.store[t]&&(delete Ne.store[t],Te.attempt.unlink(t))},
purgeSync:t=>{Ne.store[t]&&(delete Ne.store[t],Te.attempt.unlinkSync(t))},purgeSyncAll:()=>{for(const t in Ne.store)Ne.purgeSync(t)},truncate:t=>{const e=me.basename(t);if(e.length<=Qc)return t;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(e);if(!r)return t;const n=e.length-Qc;return`${t.slice(0,-e.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};Vg(Ne.purgeSyncAll);function tu(t,e,r=Lg){if(Zc(r))return tu(t,e,{encoding:r});const n=Date.now()+((r.timeout??xg)||-1);let s=null,
i=null,o=null;try{const a=Te.attempt.realpathSync(t),c=!!a;t=a||t,[i,s]=Ne.get(t,r.tmpCreate||Ne.create,r.tmpPurge!==!1);const l=Mg&&ki(r.chown),u=ki(r.mode);if(c&&(l||u)){const f=Te.attempt.statSync(t);f&&(r={...r},l&&(r.chown={uid:f.uid,gid:f.gid}),u&&(r.mode=f.mode))}if(!c){const f=me.dirname(t);Te.attempt.mkdirSync(f,{mode:jg,recursive:!0})}o=Te.retry.openSync(n)(i,"w",r.mode||Jc),r.tmpCreated&&r.tmpCreated(i),Zc(e)?Te.retry.writeSync(n)(o,e,0,r.encoding||Ng):ki(e)||Te.retry.writeSync(n)(o,e,
0,e.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Te.retry.fsyncSync(n)(o):Te.attempt.fsync(o)),Te.retry.closeSync(n)(o),o=null,r.chown&&(r.chown.uid!==kg||r.chown.gid!==Dg)&&Te.attempt.chownSync(i,r.chown.uid,r.chown.gid),r.mode&&r.mode!==Jc&&Te.attempt.chmodSync(i,r.mode);try{Te.retry.renameSync(n)(i,t)}catch(f){if(!qg(f)||f.code!=="ENAMETOOLONG")throw f;Te.retry.renameSync(n)(i,Ne.truncate(t))}s(),i=null}finally{o&&Te.attempt.closeSync(o),i&&Ne.purge(i)}}var cn={exports:{}},xi={},dt={},Ht={},Mi={},
qi={},Ui={},ru;function un(){return ru||(ru=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(p){if(super(),!t.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){
return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((m,$)=>`${m}${$}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((m,$)=>($ instanceof r&&(m[$.str]=(m[$.str]||0)+1),m),
{})}}t._Code=n,t.nil=new n("");function s(g,...p){const m=[g[0]];let $=0;for(;$<p.length;)a(m,p[$]),m.push(g[++$]);return new n(m)}t._=s;const i=new n("+");function o(g,...p){const m=[_(g[0])];let $=0;for(;$<p.length;)m.push(i),a(m,p[$]),m.push(i,_(g[++$]));return c(m),new n(m)}t.str=o;function a(g,p){p instanceof n?g.push(...p._items):p instanceof r?g.push(p):g.push(f(p))}t.addCodeArg=a;function c(g){let p=1;for(;p<g.length-1;){if(g[p]===i){const m=l(g[p-1],g[p+1]);if(m!==void 0){g.splice(p-1,3,
m);continue}g[p++]="+"}p++}}function l(g,p){if(p==='""')return g;if(g==='""')return p;if(typeof g=="string")return p instanceof r||g[g.length-1]!=='"'?void 0:typeof p!="string"?`${g.slice(0,-1)}${p}"`:p[0]==='"'?g.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(g instanceof r))return`"${g}${p.slice(1)}`}function u(g,p){return p.emptyStr()?g:g.emptyStr()?p:o`${g}${p}`}t.strConcat=u;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:_(Array.isArray(g)?g.join(
","):g)}function h(g){return new n(_(g))}t.stringify=h;function _(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=_;function b(g){return typeof g=="string"&&t.IDENTIFIER.test(g)?new n(`.${g}`):s`[${g}]`}t.getProperty=b;function y(g){if(typeof g=="string"&&t.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}t.getEsmExportName=y;function d(g){return new n(g.toString())}t.
regexpCode=d}(Ui)),Ui}var Hi={},nu;function su(){return nu||(nu=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=un();class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};
class s{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof e.Name?l:this.name(l)}name(l){return new e.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this.
_names[l]={prefix:l,index:0}}}t.Scope=s;class i extends e.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,e._)`.${new e.Name(u)}[${f}]`}}t.ValueScopeName=i;const o=(0,e._)`\n`;class a extends s{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:e.nil}}get(){return this._scope}name(l){return new i(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed\
 in value");const h=this.toName(l),{prefix:_}=h,b=(f=u.key)!==null&&f!==void 0?f:u.ref;let y=this._values[_];if(y){const p=y.get(b);if(p)return p}else y=this._values[_]=new Map;y.set(b,h);const d=this._scope[_]||(this._scope[_]=[]),g=d.length;return d[g]=u.ref,h.setValue(u,{property:_,itemIndex:g}),h}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e.
_)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},u,f)}_reduceValues(l,u,f={},h){let _=e.nil;for(const b in l){const y=l[b];if(!y)continue;const d=f[b]=f[b]||new Map;y.forEach(g=>{if(d.has(g))return;d.set(g,n.Started);let p=u(g);if(p){const m=this.opts.es5?t.varKinds.var:t.varKinds.const;_=(0,e._)`${_}${m} ${g} = ${p};${this.opts._n}`}else if(p=h?.(g))_=(0,e._)`${_}${p}${this.
opts._n}`;else throw new r(g);d.set(g,n.Completed)})}return _}}t.ValueScope=a}(Hi)),Hi}var iu;function he(){return iu||(iu=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=un(),r=su();var n=un();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,
get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,
get:function(){return n.Name}});var s=su();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e.
_Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class i{optimizeNodes(){return this}optimizeNames(E,R){return this}}class o extends i{constructor(E,R,C){super(),this.varKind=E,this.name=R,this.rhs=C}render({es5:E,_n:R}){const C=E?r.varKinds.var:this.varKind,X=this.rhs===void 0?"":` = ${this.rhs}`;return`${C} ${this.name}${X};`+R}optimizeNames(E,R){if(E[this.name.str])return this.rhs&&(this.rhs=D(this.rhs,E,R)),this}get names(){
return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class a extends i{constructor(E,R,C){super(),this.lhs=E,this.rhs=R,this.sideEffects=C}render({_n:E}){return`${this.lhs} = ${this.rhs};`+E}optimizeNames(E,R){if(!(this.lhs instanceof e.Name&&!E[this.lhs.str]&&!this.sideEffects))return this.rhs=D(this.rhs,E,R),this}get names(){const E=this.lhs instanceof e.Name?{}:{...this.lhs.names};return j(E,this.rhs)}}class c extends a{constructor(E,R,C,X){super(E,C,X),this.op=R}render({_n:E}){return`${this.
lhs} ${this.op}= ${this.rhs};`+E}}class l extends i{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`${this.label}:`+E}}class u extends i{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`break${this.label?` ${this.label}`:""};`+E}}class f extends i{constructor(E){super(),this.error=E}render({_n:E}){return`throw ${this.error};`+E}get names(){return this.error.names}}class h extends i{constructor(E){super(),this.code=E}render({_n:E}){return`${this.code}\
;`+E}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(E,R){return this.code=D(this.code,E,R),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class _ extends i{constructor(E=[]){super(),this.nodes=E}render(E){return this.nodes.reduce((R,C)=>R+C.render(E),"")}optimizeNodes(){const{nodes:E}=this;let R=E.length;for(;R--;){const C=E[R].optimizeNodes();Array.isArray(C)?E.splice(R,1,...C):C?E[R]=C:E.splice(R,1)}return E.length>0?this:void 0}optimizeNames(E,R){
const{nodes:C}=this;let X=C.length;for(;X--;){const Z=C[X];Z.optimizeNames(E,R)||(U(E,Z.names),C.splice(X,1))}return C.length>0?this:void 0}get names(){return this.nodes.reduce((E,R)=>M(E,R.names),{})}}class b extends _{render(E){return"{"+E._n+super.render(E)+"}"+E._n}}class y extends _{}class d extends b{}d.kind="else";class g extends b{constructor(E,R){super(R),this.condition=E}render(E){let R=`if(${this.condition})`+super.render(E);return this.else&&(R+="else "+this.else.render(E)),R}optimizeNodes(){
super.optimizeNodes();const E=this.condition;if(E===!0)return this.nodes;let R=this.else;if(R){const C=R.optimizeNodes();R=this.else=Array.isArray(C)?new d(C):C}if(R)return E===!1?R instanceof g?R:R.nodes:this.nodes.length?this:new g(Y(E),R instanceof g?[R]:R.nodes);if(!(E===!1||!this.nodes.length))return this}optimizeNames(E,R){var C;if(this.else=(C=this.else)===null||C===void 0?void 0:C.optimizeNames(E,R),!!(super.optimizeNames(E,R)||this.else))return this.condition=D(this.condition,E,R),this}get names(){
const E=super.names;return j(E,this.condition),this.else&&M(E,this.else.names),E}}g.kind="if";class p extends b{}p.kind="for";class m extends p{constructor(E){super(),this.iteration=E}render(E){return`for(${this.iteration})`+super.render(E)}optimizeNames(E,R){if(super.optimizeNames(E,R))return this.iteration=D(this.iteration,E,R),this}get names(){return M(super.names,this.iteration.names)}}class $ extends p{constructor(E,R,C,X){super(),this.varKind=E,this.name=R,this.from=C,this.to=X}render(E){const R=E.
es5?r.varKinds.var:this.varKind,{name:C,from:X,to:Z}=this;return`for(${R} ${C}=${X}; ${C}<${Z}; ${C}++)`+super.render(E)}get names(){const E=j(super.names,this.from);return j(E,this.to)}}class v extends p{constructor(E,R,C,X){super(),this.loop=E,this.varKind=R,this.name=C,this.iterable=X}render(E){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(E)}optimizeNames(E,R){if(super.optimizeNames(E,R))return this.iterable=D(this.iterable,E,R),this}get names(){return M(
super.names,this.iterable.names)}}class w extends b{constructor(E,R,C){super(),this.name=E,this.args=R,this.async=C}render(E){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(E)}}w.kind="func";class S extends _{render(E){return"return "+super.render(E)}}S.kind="return";class I extends b{render(E){let R="try"+super.render(E);return this.catch&&(R+=this.catch.render(E)),this.finally&&(R+=this.finally.render(E)),R}optimizeNodes(){var E,R;return super.optimizeNodes(),
(E=this.catch)===null||E===void 0||E.optimizeNodes(),(R=this.finally)===null||R===void 0||R.optimizeNodes(),this}optimizeNames(E,R){var C,X;return super.optimizeNames(E,R),(C=this.catch)===null||C===void 0||C.optimizeNames(E,R),(X=this.finally)===null||X===void 0||X.optimizeNames(E,R),this}get names(){const E=super.names;return this.catch&&M(E,this.catch.names),this.finally&&M(E,this.finally.names),E}}class F extends b{constructor(E){super(),this.error=E}render(E){return`catch(${this.error})`+super.
render(E)}}F.kind="catch";class B extends b{render(E){return"finally"+super.render(E)}}B.kind="finally";class k{constructor(E,R={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...R,_n:R.lines?`
`:""},this._extScope=E,this._scope=new r.Scope({parent:E}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(E){return this._scope.name(E)}scopeName(E){return this._extScope.name(E)}scopeValue(E,R){const C=this._extScope.value(E,R);return(this._values[C.prefix]||(this._values[C.prefix]=new Set)).add(C),C}getScopeValue(E,R){return this._extScope.getValue(E,R)}scopeRefs(E){return this._extScope.scopeRefs(E,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(E,R,C,X){
const Z=this._scope.toName(R);return C!==void 0&&X&&(this._constants[Z.str]=C),this._leafNode(new o(E,Z,C)),Z}const(E,R,C){return this._def(r.varKinds.const,E,R,C)}let(E,R,C){return this._def(r.varKinds.let,E,R,C)}var(E,R,C){return this._def(r.varKinds.var,E,R,C)}assign(E,R,C){return this._leafNode(new a(E,R,C))}add(E,R){return this._leafNode(new c(E,t.operators.ADD,R))}code(E){return typeof E=="function"?E():E!==e.nil&&this._leafNode(new h(E)),this}object(...E){const R=["{"];for(const[C,X]of E)
R.length>1&&R.push(","),R.push(C),(C!==X||this.opts.es5)&&(R.push(":"),(0,e.addCodeArg)(R,X));return R.push("}"),new e._Code(R)}if(E,R,C){if(this._blockNode(new g(E)),R&&C)this.code(R).else().code(C).endIf();else if(R)this.code(R).endIf();else if(C)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(E){return this._elseNode(new g(E))}else(){return this._elseNode(new d)}endIf(){return this._endBlockNode(g,d)}_for(E,R){return this._blockNode(E),R&&this.code(R).endFor(),this}for(E,R){
return this._for(new m(E),R)}forRange(E,R,C,X,Z=this.opts.es5?r.varKinds.var:r.varKinds.let){const ie=this._scope.toName(E);return this._for(new $(Z,ie,R,C),()=>X(ie))}forOf(E,R,C,X=r.varKinds.const){const Z=this._scope.toName(E);if(this.opts.es5){const ie=R instanceof e.Name?R:this.var("_arr",R);return this.forRange("_i",0,(0,e._)`${ie}.length`,oe=>{this.var(Z,(0,e._)`${ie}[${oe}]`),C(Z)})}return this._for(new v("of",X,Z,R),()=>C(Z))}forIn(E,R,C,X=this.opts.es5?r.varKinds.var:r.varKinds.const){
if(this.opts.ownProperties)return this.forOf(E,(0,e._)`Object.keys(${R})`,C);const Z=this._scope.toName(E);return this._for(new v("in",X,Z,R),()=>C(Z))}endFor(){return this._endBlockNode(p)}label(E){return this._leafNode(new l(E))}break(E){return this._leafNode(new u(E))}return(E){const R=new S;if(this._blockNode(R),this.code(E),R.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(E,R,C){if(!R&&!C)throw new Error('CodeGen: "try" without "c\
atch" and "finally"');const X=new I;if(this._blockNode(X),this.code(E),R){const Z=this.name("e");this._currNode=X.catch=new F(Z),R(Z)}return C&&(this._currNode=X.finally=new B,this.code(C)),this._endBlockNode(F,B)}throw(E){return this._leafNode(new f(E))}block(E,R){return this._blockStarts.push(this._nodes.length),E&&this.code(E).endBlock(R),this}endBlock(E){const R=this._blockStarts.pop();if(R===void 0)throw new Error("CodeGen: not in self-balancing block");const C=this._nodes.length-R;if(C<0||
E!==void 0&&C!==E)throw new Error(`CodeGen: wrong number of nodes: ${C} vs ${E} expected`);return this._nodes.length=R,this}func(E,R=e.nil,C,X){return this._blockNode(new w(E,R,C)),X&&this.code(X).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(E=1){for(;E-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(E){return this._currNode.nodes.push(E),this}_blockNode(E){this._currNode.nodes.push(E),this._nodes.push(E)}_endBlockNode(E,R){
const C=this._currNode;if(C instanceof E||R&&C instanceof R)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${R?`${E.kind}/${R.kind}`:E.kind}"`)}_elseNode(E){const R=this._currNode;if(!(R instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=R.else=E,this}get _root(){return this._nodes[0]}get _currNode(){const E=this._nodes;return E[E.length-1]}set _currNode(E){const R=this._nodes;R[R.length-1]=E}}t.CodeGen=k;function M(x,E){for(const R in E)x[R]=
(x[R]||0)+(E[R]||0);return x}function j(x,E){return E instanceof e._CodeOrName?M(x,E.names):x}function D(x,E,R){if(x instanceof e.Name)return C(x);if(!X(x))return x;return new e._Code(x._items.reduce((Z,ie)=>(ie instanceof e.Name&&(ie=C(ie)),ie instanceof e._Code?Z.push(...ie._items):Z.push(ie),Z),[]));function C(Z){const ie=R[Z.str];return ie===void 0||E[Z.str]!==1?Z:(delete E[Z.str],ie)}function X(Z){return Z instanceof e._Code&&Z._items.some(ie=>ie instanceof e.Name&&E[ie.str]===1&&R[ie.str]!==
void 0)}}function U(x,E){for(const R in E)x[R]=(x[R]||0)-(E[R]||0)}function Y(x){return typeof x=="boolean"||typeof x=="number"||x===null?!x:(0,e._)`!${V(x)}`}t.not=Y;const G=A(t.operators.AND);function J(...x){return x.reduce(G)}t.and=J;const se=A(t.operators.OR);function H(...x){return x.reduce(se)}t.or=H;function A(x){return(E,R)=>E===e.nil?R:R===e.nil?E:(0,e._)`${V(E)} ${x} ${V(R)}`}function V(x){return x instanceof e.Name?x:(0,e._)`(${x})`}}(qi)),qi}var ge={},ou;function _e(){if(ou)return ge;
ou=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.checkStrictMode=ge.getErrorPath=ge.Type=ge.useFunc=ge.setEvaluated=ge.evaluatedPropsToName=ge.mergeEvaluated=ge.eachItem=ge.unescapeJsonPointer=ge.escapeJsonPointer=ge.escapeFragment=ge.unescapeFragment=ge.schemaRefOrVal=ge.schemaHasRulesButRef=ge.schemaHasRules=ge.checkUnknownRules=ge.alwaysValidSchema=ge.toHash=void 0;const t=he(),e=un();function r(v){const w={};for(const S of v)w[S]=!0;return w}ge.toHash=r;function n(v,w){return typeof w==
"boolean"?w:Object.keys(w).length===0?!0:(s(v,w),!i(w,v.self.RULES.all))}ge.alwaysValidSchema=n;function s(v,w=v.schema){const{opts:S,self:I}=v;if(!S.strictSchema||typeof w=="boolean")return;const F=I.RULES.keywords;for(const B in w)F[B]||$(v,`unknown keyword: "${B}"`)}ge.checkUnknownRules=s;function i(v,w){if(typeof v=="boolean")return!v;for(const S in v)if(w[S])return!0;return!1}ge.schemaHasRules=i;function o(v,w){if(typeof v=="boolean")return!v;for(const S in v)if(S!=="$ref"&&w.all[S])return!0;
return!1}ge.schemaHasRulesButRef=o;function a({topSchemaRef:v,schemaPath:w},S,I,F){if(!F){if(typeof S=="number"||typeof S=="boolean")return S;if(typeof S=="string")return(0,t._)`${S}`}return(0,t._)`${v}${w}${(0,t.getProperty)(I)}`}ge.schemaRefOrVal=a;function c(v){return f(decodeURIComponent(v))}ge.unescapeFragment=c;function l(v){return encodeURIComponent(u(v))}ge.escapeFragment=l;function u(v){return typeof v=="number"?`${v}`:v.replace(/~/g,"~0").replace(/\//g,"~1")}ge.escapeJsonPointer=u;function f(v){
return v.replace(/~1/g,"/").replace(/~0/g,"~")}ge.unescapeJsonPointer=f;function h(v,w){if(Array.isArray(v))for(const S of v)w(S);else w(v)}ge.eachItem=h;function _({mergeNames:v,mergeToName:w,mergeValues:S,resultToName:I}){return(F,B,k,M)=>{const j=k===void 0?B:k instanceof t.Name?(B instanceof t.Name?v(F,B,k):w(F,B,k),k):B instanceof t.Name?(w(F,k,B),B):S(B,k);return M===t.Name&&!(j instanceof t.Name)?I(F,j):j}}ge.mergeEvaluated={props:_({mergeNames:(v,w,S)=>v.if((0,t._)`${S} !== true && ${w} !== undefined`,
()=>{v.if((0,t._)`${w} === true`,()=>v.assign(S,!0),()=>v.assign(S,(0,t._)`${S} || {}`).code((0,t._)`Object.assign(${S}, ${w})`))}),mergeToName:(v,w,S)=>v.if((0,t._)`${S} !== true`,()=>{w===!0?v.assign(S,!0):(v.assign(S,(0,t._)`${S} || {}`),y(v,S,w))}),mergeValues:(v,w)=>v===!0?!0:{...v,...w},resultToName:b}),items:_({mergeNames:(v,w,S)=>v.if((0,t._)`${S} !== true && ${w} !== undefined`,()=>v.assign(S,(0,t._)`${w} === true ? true : ${S} > ${w} ? ${S} : ${w}`)),mergeToName:(v,w,S)=>v.if((0,t._)`${S} !== true`,
()=>v.assign(S,w===!0?!0:(0,t._)`${S} > ${w} ? ${S} : ${w}`)),mergeValues:(v,w)=>v===!0?!0:Math.max(v,w),resultToName:(v,w)=>v.var("items",w)})};function b(v,w){if(w===!0)return v.var("props",!0);const S=v.var("props",(0,t._)`{}`);return w!==void 0&&y(v,S,w),S}ge.evaluatedPropsToName=b;function y(v,w,S){Object.keys(S).forEach(I=>v.assign((0,t._)`${w}${(0,t.getProperty)(I)}`,!0))}ge.setEvaluated=y;const d={};function g(v,w){return v.scopeValue("func",{ref:w,code:d[w.code]||(d[w.code]=new e._Code(
w.code))})}ge.useFunc=g;var p;(function(v){v[v.Num=0]="Num",v[v.Str=1]="Str"})(p||(ge.Type=p={}));function m(v,w,S){if(v instanceof t.Name){const I=w===p.Num;return S?I?(0,t._)`"[" + ${v} + "]"`:(0,t._)`"['" + ${v} + "']"`:I?(0,t._)`"/" + ${v}`:(0,t._)`"/" + ${v}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return S?(0,t.getProperty)(v).toString():"/"+u(v)}ge.getErrorPath=m;function $(v,w,S=v.opts.strictSchema){if(S){if(w=`strict mode: ${w}`,S===!0)throw new Error(w);v.self.logger.warn(w)}}return ge.
checkStrictMode=$,ge}var ln={},au;function Xe(){if(au)return ln;au=1,Object.defineProperty(ln,"__esModule",{value:!0});const t=he(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.
Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return ln.default=e,ln}var cu;function fn(){return cu||(cu=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=he(),r=_e(),n=Xe();t.keywordError={message:({keyword:d})=>(0,e.str)`must pass "${d}" keyword validation`},t.keyword$DataError={message:({
keyword:d,schemaType:g})=>g?(0,e.str)`"${d}" keyword must be ${g} ($data)`:(0,e.str)`"${d}" keyword is invalid ($data)`};function s(d,g=t.keywordError,p,m){const{it:$}=d,{gen:v,compositeRule:w,allErrors:S}=$,I=f(d,g,p);m??(w||S)?c(v,I):l($,(0,e._)`[${I}]`)}t.reportError=s;function i(d,g=t.keywordError,p){const{it:m}=d,{gen:$,compositeRule:v,allErrors:w}=m,S=f(d,g,p);c($,S),v||w||l(m,n.default.vErrors)}t.reportExtraError=i;function o(d,g){d.assign(n.default.errors,g),d.if((0,e._)`${n.default.vErrors} !== null`,
()=>d.if(g,()=>d.assign((0,e._)`${n.default.vErrors}.length`,g),()=>d.assign(n.default.vErrors,null)))}t.resetErrorsCount=o;function a({gen:d,keyword:g,schemaValue:p,data:m,errsCount:$,it:v}){if($===void 0)throw new Error("ajv implementation error");const w=d.name("err");d.forRange("i",$,n.default.errors,S=>{d.const(w,(0,e._)`${n.default.vErrors}[${S}]`),d.if((0,e._)`${w}.instancePath === undefined`,()=>d.assign((0,e._)`${w}.instancePath`,(0,e.strConcat)(n.default.instancePath,v.errorPath))),d.assign(
(0,e._)`${w}.schemaPath`,(0,e.str)`${v.errSchemaPath}/${g}`),v.opts.verbose&&(d.assign((0,e._)`${w}.schema`,p),d.assign((0,e._)`${w}.data`,m))})}t.extendErrors=a;function c(d,g){const p=d.const("err",g);d.if((0,e._)`${n.default.vErrors} === null`,()=>d.assign(n.default.vErrors,(0,e._)`[${p}]`),(0,e._)`${n.default.vErrors}.push(${p})`),d.code((0,e._)`${n.default.errors}++`)}function l(d,g){const{gen:p,validateName:m,schemaEnv:$}=d;$.$async?p.throw((0,e._)`new ${d.ValidationError}(${g})`):(p.assign(
(0,e._)`${m}.errors`,g),p.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(d,g,p){const{createErrors:m}=d.it;return m===!1?(0,e._)`{}`:h(d,g,p)}function h(d,g,p={}){const{gen:m,it:$}=d,v=[_($,p),b(d,p)];return y(d,g,v),m.object(...v)}function _({errorPath:d},{instancePath:g}){const p=g?
(0,e.str)`${d}${(0,r.getErrorPath)(g,r.Type.Str)}`:d;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,p)]}function b({keyword:d,it:{errSchemaPath:g}},{schemaPath:p,parentSchema:m}){let $=m?g:(0,e.str)`${g}/${d}`;return p&&($=(0,e.str)`${$}${(0,r.getErrorPath)(p,r.Type.Str)}`),[u.schemaPath,$]}function y(d,{params:g,message:p},m){const{keyword:$,data:v,schemaValue:w,it:S}=d,{opts:I,propertyName:F,topSchemaRef:B,schemaPath:k}=S;m.push([u.keyword,$],[u.params,typeof g=="function"?
g(d):g||(0,e._)`{}`]),I.messages&&m.push([u.message,typeof p=="function"?p(d):p]),I.verbose&&m.push([u.schema,w],[u.parentSchema,(0,e._)`${B}${k}`],[n.default.data,v]),F&&m.push([u.propertyName,F])}}(Mi)),Mi}var uu;function zg(){if(uu)return Ht;uu=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.boolOrEmptySchema=Ht.topBoolOrEmptySchema=void 0;const t=fn(),e=he(),r=Xe(),n={message:"boolean schema is false"};function s(a){const{gen:c,schema:l,validateName:u}=a;l===!1?o(a,!1):typeof l=="obje\
ct"&&l.$async===!0?c.return(r.default.data):(c.assign((0,e._)`${u}.errors`,null),c.return(!0))}Ht.topBoolOrEmptySchema=s;function i(a,c){const{gen:l,schema:u}=a;u===!1?(l.var(c,!1),o(a)):l.var(c,!0)}Ht.boolOrEmptySchema=i;function o(a,c){const{gen:l,data:u}=a,f={gen:l,keyword:"false schema",data:u,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,t.reportError)(f,n,void 0,c)}return Ht}var Pe={},Ft={},lu;function fu(){if(lu)return Ft;lu=1,Object.defineProperty(Ft,"__esModule",{value:!0}),
Ft.getRules=Ft.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function r(s){return typeof s=="string"&&e.has(s)}Ft.isJSONType=r;function n(){const s={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...s,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},s.number,s.string,s.array,s.object],post:{rules:[]},all:{},keywords:{}}}return Ft.getRules=n,Ft}var ht={},
du;function hu(){if(du)return ht;du=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.shouldUseRule=ht.shouldUseGroup=ht.schemaHasRulesForType=void 0;function t({schema:n,self:s},i){const o=s.RULES.types[i];return o&&o!==!0&&e(n,o)}ht.schemaHasRulesForType=t;function e(n,s){return s.rules.some(i=>r(n,i))}ht.shouldUseGroup=e;function r(n,s){var i;return n[s.keyword]!==void 0||((i=s.definition.implements)===null||i===void 0?void 0:i.some(o=>n[o]!==void 0))}return ht.shouldUseRule=r,ht}var pu;
function dn(){if(pu)return Pe;pu=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.reportTypeError=Pe.checkDataTypes=Pe.checkDataType=Pe.coerceAndCheckDataType=Pe.getJSONTypes=Pe.getSchemaTypes=Pe.DataType=void 0;const t=fu(),e=hu(),r=fn(),n=he(),s=_e();var i;(function(p){p[p.Correct=0]="Correct",p[p.Wrong=1]="Wrong"})(i||(Pe.DataType=i={}));function o(p){const m=a(p.type);if(m.includes("null")){if(p.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!m.length&&
p.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');p.nullable===!0&&m.push("null")}return m}Pe.getSchemaTypes=o;function a(p){const m=Array.isArray(p)?p:p?[p]:[];if(m.every(t.isJSONType))return m;throw new Error("type must be JSONType or JSONType[]: "+m.join(","))}Pe.getJSONTypes=a;function c(p,m){const{gen:$,data:v,opts:w}=p,S=u(m,w.coerceTypes),I=m.length>0&&!(S.length===0&&m.length===1&&(0,e.schemaHasRulesForType)(p,m[0]));if(I){const F=b(m,v,w.strictNumbers,i.Wrong);
$.if(F,()=>{S.length?f(p,m,S):d(p)})}return I}Pe.coerceAndCheckDataType=c;const l=new Set(["string","number","integer","boolean","null"]);function u(p,m){return m?p.filter($=>l.has($)||m==="array"&&$==="array"):[]}function f(p,m,$){const{gen:v,data:w,opts:S}=p,I=v.let("dataType",(0,n._)`typeof ${w}`),F=v.let("coerced",(0,n._)`undefined`);S.coerceTypes==="array"&&v.if((0,n._)`${I} == 'object' && Array.isArray(${w}) && ${w}.length == 1`,()=>v.assign(w,(0,n._)`${w}[0]`).assign(I,(0,n._)`typeof ${w}`).
if(b(m,w,S.strictNumbers),()=>v.assign(F,w))),v.if((0,n._)`${F} !== undefined`);for(const k of $)(l.has(k)||k==="array"&&S.coerceTypes==="array")&&B(k);v.else(),d(p),v.endIf(),v.if((0,n._)`${F} !== undefined`,()=>{v.assign(w,F),h(p,F)});function B(k){switch(k){case"string":v.elseIf((0,n._)`${I} == "number" || ${I} == "boolean"`).assign(F,(0,n._)`"" + ${w}`).elseIf((0,n._)`${w} === null`).assign(F,(0,n._)`""`);return;case"number":v.elseIf((0,n._)`${I} == "boolean" || ${w} === null
              || (${I} == "string" && ${w} && ${w} == +${w})`).assign(F,(0,n._)`+${w}`);return;case"integer":v.elseIf((0,n._)`${I} === "boolean" || ${w} === null
              || (${I} === "string" && ${w} && ${w} == +${w} && !(${w} % 1))`).assign(F,(0,n._)`+${w}`);return;case"boolean":v.elseIf((0,n._)`${w} === "false" || ${w} === 0 || ${w} === null`).assign(F,!1).elseIf((0,n._)`${w} === "true" || ${w} === 1`).assign(F,!0);return;case"null":v.elseIf((0,n._)`${w} === "" || ${w} === 0 || ${w} === false`),v.assign(F,null);return;case"array":v.elseIf((0,n._)`${I} === "string" || ${I} === "number"
              || ${I} === "boolean" || ${w} === null`).assign(F,(0,n._)`[${w}]`)}}}function h({gen:p,parentData:m,parentDataProperty:$},v){p.if((0,n._)`${m} !== undefined`,()=>p.assign((0,n._)`${m}[${$}]`,v))}function _(p,m,$,v=i.Correct){const w=v===i.Correct?n.operators.EQ:n.operators.NEQ;let S;switch(p){case"null":return(0,n._)`${m} ${w} null`;case"array":S=(0,n._)`Array.isArray(${m})`;break;case"object":S=(0,n._)`${m} && typeof ${m} == "object" && !Array.isArray(${m})`;break;case"integer":S=
I((0,n._)`!(${m} % 1) && !isNaN(${m})`);break;case"number":S=I();break;default:return(0,n._)`typeof ${m} ${w} ${p}`}return v===i.Correct?S:(0,n.not)(S);function I(F=n.nil){return(0,n.and)((0,n._)`typeof ${m} == "number"`,F,$?(0,n._)`isFinite(${m})`:n.nil)}}Pe.checkDataType=_;function b(p,m,$,v){if(p.length===1)return _(p[0],m,$,v);let w;const S=(0,s.toHash)(p);if(S.array&&S.object){const I=(0,n._)`typeof ${m} != "object"`;w=S.null?I:(0,n._)`!${m} || ${I}`,delete S.null,delete S.array,delete S.object}else
w=n.nil;S.number&&delete S.integer;for(const I in S)w=(0,n.and)(w,_(I,m,$,v));return w}Pe.checkDataTypes=b;const y={message:({schema:p})=>`must be ${p}`,params:({schema:p,schemaValue:m})=>typeof p=="string"?(0,n._)`{type: ${p}}`:(0,n._)`{type: ${m}}`};function d(p){const m=g(p);(0,r.reportError)(m,y)}Pe.reportTypeError=d;function g(p){const{gen:m,data:$,schema:v}=p,w=(0,s.schemaRefOrVal)(p,v,"type");return{gen:m,keyword:"type",data:$,schema:v.type,schemaCode:w,schemaValue:w,parentSchema:v,params:{},
it:p}}return Pe}var Cr={},mu;function Gg(){if(mu)return Cr;mu=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.assignDefaults=void 0;const t=he(),e=_e();function r(s,i){const{properties:o,items:a}=s.schema;if(i==="object"&&o)for(const c in o)n(s,c,o[c].default);else i==="array"&&Array.isArray(a)&&a.forEach((c,l)=>n(s,l,c.default))}Cr.assignDefaults=r;function n(s,i,o){const{gen:a,compositeRule:c,data:l,opts:u}=s;if(o===void 0)return;const f=(0,t._)`${l}${(0,t.getProperty)(i)}`;if(c){(0,e.checkStrictMode)(
s,`default is ignored for: ${f}`);return}let h=(0,t._)`${f} === undefined`;u.useDefaults==="empty"&&(h=(0,t._)`${h} || ${f} === null || ${f} === ""`),a.if(h,(0,t._)`${f} = ${(0,t.stringify)(o)}`)}return Cr}var Je={},ve={},gu;function Qe(){if(gu)return ve;gu=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.validateUnion=ve.validateArray=ve.usePattern=ve.callValidateCode=ve.schemaProperties=ve.allSchemaProperties=ve.noPropertyInData=ve.propertyInData=ve.isOwnProperty=ve.hasPropFunc=ve.reportMissingProp=
ve.checkMissingProp=ve.checkReportMissingProp=void 0;const t=he(),e=_e(),r=Xe(),n=_e();function s(p,m){const{gen:$,data:v,it:w}=p;$.if(u($,v,m,w.opts.ownProperties),()=>{p.setParams({missingProperty:(0,t._)`${m}`},!0),p.error()})}ve.checkReportMissingProp=s;function i({gen:p,data:m,it:{opts:$}},v,w){return(0,t.or)(...v.map(S=>(0,t.and)(u(p,m,S,$.ownProperties),(0,t._)`${w} = ${S}`)))}ve.checkMissingProp=i;function o(p,m){p.setParams({missingProperty:m},!0),p.error()}ve.reportMissingProp=o;function a(p){
return p.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}ve.hasPropFunc=a;function c(p,m,$){return(0,t._)`${a(p)}.call(${m}, ${$})`}ve.isOwnProperty=c;function l(p,m,$,v){const w=(0,t._)`${m}${(0,t.getProperty)($)} !== undefined`;return v?(0,t._)`${w} && ${c(p,m,$)}`:w}ve.propertyInData=l;function u(p,m,$,v){const w=(0,t._)`${m}${(0,t.getProperty)($)} === undefined`;return v?(0,t.or)(w,(0,t.not)(c(p,m,$))):w}ve.noPropertyInData=u;function f(p){
return p?Object.keys(p).filter(m=>m!=="__proto__"):[]}ve.allSchemaProperties=f;function h(p,m){return f(m).filter($=>!(0,e.alwaysValidSchema)(p,m[$]))}ve.schemaProperties=h;function _({schemaCode:p,data:m,it:{gen:$,topSchemaRef:v,schemaPath:w,errorPath:S},it:I},F,B,k){const M=k?(0,t._)`${p}, ${m}, ${v}${w}`:m,j=[[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,S)],[r.default.parentData,I.parentData],[r.default.parentDataProperty,I.parentDataProperty],[r.default.rootData,r.default.rootData]];
I.opts.dynamicRef&&j.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const D=(0,t._)`${M}, ${$.object(...j)}`;return B!==t.nil?(0,t._)`${F}.call(${B}, ${D})`:(0,t._)`${F}(${D})`}ve.callValidateCode=_;const b=(0,t._)`new RegExp`;function y({gen:p,it:{opts:m}},$){const v=m.unicodeRegExp?"u":"",{regExp:w}=m.code,S=w($,v);return p.scopeValue("pattern",{key:S.toString(),ref:S,code:(0,t._)`${w.code==="new RegExp"?b:(0,n.useFunc)(p,w)}(${$}, ${v})`})}ve.usePattern=y;function d(p){const{gen:m,
data:$,keyword:v,it:w}=p,S=m.name("valid");if(w.allErrors){const F=m.let("valid",!0);return I(()=>m.assign(F,!1)),F}return m.var(S,!0),I(()=>m.break()),S;function I(F){const B=m.const("len",(0,t._)`${$}.length`);m.forRange("i",0,B,k=>{p.subschema({keyword:v,dataProp:k,dataPropType:e.Type.Num},S),m.if((0,t.not)(S),F)})}}ve.validateArray=d;function g(p){const{gen:m,schema:$,keyword:v,it:w}=p;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(B=>(0,e.alwaysValidSchema)(w,B))&&
!w.opts.unevaluated)return;const I=m.let("valid",!1),F=m.name("_valid");m.block(()=>$.forEach((B,k)=>{const M=p.subschema({keyword:v,schemaProp:k,compositeRule:!0},F);m.assign(I,(0,t._)`${I} || ${F}`),p.mergeValidEvaluated(M,F)||m.if((0,t.not)(I))})),p.result(I,()=>p.reset(),()=>p.error(!0))}return ve.validateUnion=g,ve}var yu;function Bg(){if(yu)return Je;yu=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.validateKeywordUsage=Je.validSchemaType=Je.funcKeywordCode=Je.macroKeywordCode=void 0;
const t=he(),e=Xe(),r=Qe(),n=fn();function s(h,_){const{gen:b,keyword:y,schema:d,parentSchema:g,it:p}=h,m=_.macro.call(p.self,d,g,p),$=l(b,y,m);p.opts.validateSchema!==!1&&p.self.validateSchema(m,!0);const v=b.name("valid");h.subschema({schema:m,schemaPath:t.nil,errSchemaPath:`${p.errSchemaPath}/${y}`,topSchemaRef:$,compositeRule:!0},v),h.pass(v,()=>h.error(!0))}Je.macroKeywordCode=s;function i(h,_){var b;const{gen:y,keyword:d,schema:g,parentSchema:p,$data:m,it:$}=h;c($,_);const v=!m&&_.compile?
_.compile.call($.self,g,p,$):_.validate,w=l(y,d,v),S=y.let("valid");h.block$data(S,I),h.ok((b=_.valid)!==null&&b!==void 0?b:S);function I(){if(_.errors===!1)k(),_.modifying&&o(h),M(()=>h.error());else{const j=_.async?F():B();_.modifying&&o(h),M(()=>a(h,j))}}function F(){const j=y.let("ruleErrs",null);return y.try(()=>k((0,t._)`await `),D=>y.assign(S,!1).if((0,t._)`${D} instanceof ${$.ValidationError}`,()=>y.assign(j,(0,t._)`${D}.errors`),()=>y.throw(D))),j}function B(){const j=(0,t._)`${w}.errors`;
return y.assign(j,null),k(t.nil),j}function k(j=_.async?(0,t._)`await `:t.nil){const D=$.opts.passContext?e.default.this:e.default.self,U=!("compile"in _&&!m||_.schema===!1);y.assign(S,(0,t._)`${j}${(0,r.callValidateCode)(h,w,D,U)}`,_.modifying)}function M(j){var D;y.if((0,t.not)((D=_.valid)!==null&&D!==void 0?D:S),j)}}Je.funcKeywordCode=i;function o(h){const{gen:_,data:b,it:y}=h;_.if(y.parentData,()=>_.assign(b,(0,t._)`${y.parentData}[${y.parentDataProperty}]`))}function a(h,_){const{gen:b}=h;b.
if((0,t._)`Array.isArray(${_})`,()=>{b.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${_} : ${e.default.vErrors}.concat(${_})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,n.extendErrors)(h)},()=>h.error())}function c({schemaEnv:h},_){if(_.async&&!h.$async)throw new Error("async keyword in sync schema")}function l(h,_,b){if(b===void 0)throw new Error(`keyword "${_}" failed to compile`);return h.scopeValue("keyword",typeof b=="function"?{ref:b}:{ref:b,code:(0,t.
stringify)(b)})}function u(h,_,b=!1){return!_.length||_.some(y=>y==="array"?Array.isArray(h):y==="object"?h&&typeof h=="object"&&!Array.isArray(h):typeof h==y||b&&typeof h>"u")}Je.validSchemaType=u;function f({schema:h,opts:_,self:b,errSchemaPath:y},d,g){if(Array.isArray(d.keyword)?!d.keyword.includes(g):d.keyword!==g)throw new Error("ajv implementation error");const p=d.dependencies;if(p?.some(m=>!Object.prototype.hasOwnProperty.call(h,m)))throw new Error(`parent schema must have dependencies o\
f ${g}: ${p.join(",")}`);if(d.validateSchema&&!d.validateSchema(h[g])){const $=`keyword "${g}" value is invalid at path "${y}": `+b.errorsText(d.validateSchema.errors);if(_.validateSchema==="log")b.logger.error($);else throw new Error($)}}return Je.validateKeywordUsage=f,Je}var pt={},_u;function Wg(){if(_u)return pt;_u=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.extendSubschemaMode=pt.extendSubschemaData=pt.getSubschema=void 0;const t=he(),e=_e();function r(i,{keyword:o,schemaProp:a,schema:c,
schemaPath:l,errSchemaPath:u,topSchemaRef:f}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const h=i.schema[o];return a===void 0?{schema:h,schemaPath:(0,t._)`${i.schemaPath}${(0,t.getProperty)(o)}`,errSchemaPath:`${i.errSchemaPath}/${o}`}:{schema:h[a],schemaPath:(0,t._)`${i.schemaPath}${(0,t.getProperty)(o)}${(0,t.getProperty)(a)}`,errSchemaPath:`${i.errSchemaPath}/${o}/${(0,e.escapeFragment)(a)}`}}if(c!==void 0){if(l===void 0||
u===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:l,topSchemaRef:f,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')}pt.getSubschema=r;function n(i,o,{dataProp:a,dataPropType:c,data:l,dataTypes:u,propertyName:f}){if(l!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:h}=o;if(a!==void 0){const{errorPath:b,dataPathArr:y,opts:d}=o,
g=h.let("data",(0,t._)`${o.data}${(0,t.getProperty)(a)}`,!0);_(g),i.errorPath=(0,t.str)`${b}${(0,e.getErrorPath)(a,c,d.jsPropertySyntax)}`,i.parentDataProperty=(0,t._)`${a}`,i.dataPathArr=[...y,i.parentDataProperty]}if(l!==void 0){const b=l instanceof t.Name?l:h.let("data",l,!0);_(b),f!==void 0&&(i.propertyName=f)}u&&(i.dataTypes=u);function _(b){i.data=b,i.dataLevel=o.dataLevel+1,i.dataTypes=[],o.definedProperties=new Set,i.parentData=o.data,i.dataNames=[...o.dataNames,b]}}pt.extendSubschemaData=
n;function s(i,{jtdDiscriminator:o,jtdMetadata:a,compositeRule:c,createErrors:l,allErrors:u}){c!==void 0&&(i.compositeRule=c),l!==void 0&&(i.createErrors=l),u!==void 0&&(i.allErrors=u),i.jtdDiscriminator=o,i.jtdMetadata=a}return pt.extendSubschemaMode=s,pt}var je={},Fi,$u;function vu(){return $u||($u=1,Fi=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=
n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),Fi}var Vi={
exports:{}},bu;function Kg(){if(bu)return Vi.exports;bu=1;var t=Vi.exports=function(n,s,i){typeof s=="function"&&(i=s,s={}),i=s.cb||i;var o=typeof i=="function"?i:i.pre||function(){},a=i.post||function(){};e(s,o,a,n,"",n)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords=
{default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(n,s,i,o,a,c,l,u,f,h){if(o&&typeof o=="object"&&!Array.isArray(o)){s(o,a,c,l,u,f,h);for(var _ in o){var b=o[_];if(Array.isArray(b)){if(_ in t.arrayKeywords)for(var y=0;y<b.length;y++)e(n,s,i,b[y],a+"/"+_+"/"+y,c,a,_,o,y)}else if(_ in t.propsKeywords){if(b&&
typeof b=="object")for(var d in b)e(n,s,i,b[d],a+"/"+_+"/"+r(d),c,a,_,o,d)}else(_ in t.keywords||n.allKeys&&!(_ in t.skipKeywords))&&e(n,s,i,b,a+"/"+_,c,a,_,o)}i(o,a,c,l,u,f,h)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return Vi.exports}var wu;function hn(){if(wu)return je;wu=1,Object.defineProperty(je,"__esModule",{value:!0}),je.getSchemaRefs=je.resolveUrl=je.normalizeId=je._getFullPath=je.getFullPath=je.inlineRef=void 0;const t=_e(),e=vu(),r=Kg(),n=new Set(["type","format",
"pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function s(y,d=!0){return typeof y=="boolean"?!0:d===!0?!o(y):d?a(y)<=d:!1}je.inlineRef=s;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(y){for(const d in y){if(i.has(d))return!0;const g=y[d];if(Array.isArray(g)&&g.some(o)||typeof g=="object"&&o(g))return!0}return!1}function a(y){
let d=0;for(const g in y){if(g==="$ref")return 1/0;if(d++,!n.has(g)&&(typeof y[g]=="object"&&(0,t.eachItem)(y[g],p=>d+=a(p)),d===1/0))return 1/0}return d}function c(y,d="",g){g!==!1&&(d=f(d));const p=y.parse(d);return l(y,p)}je.getFullPath=c;function l(y,d){return y.serialize(d).split("#")[0]+"#"}je._getFullPath=l;const u=/#\/?$/;function f(y){return y?y.replace(u,""):""}je.normalizeId=f;function h(y,d,g){return g=f(g),y.resolve(d,g)}je.resolveUrl=h;const _=/^[a-z_][-a-z0-9._]*$/i;function b(y,d){
if(typeof y=="boolean")return{};const{schemaId:g,uriResolver:p}=this.opts,m=f(y[g]||d),$={"":m},v=c(p,m,!1),w={},S=new Set;return r(y,{allKeys:!0},(B,k,M,j)=>{if(j===void 0)return;const D=v+k;let U=$[j];typeof B[g]=="string"&&(U=Y.call(this,B[g])),G.call(this,B.$anchor),G.call(this,B.$dynamicAnchor),$[k]=U;function Y(J){const se=this.opts.uriResolver.resolve;if(J=f(U?se(U,J):J),S.has(J))throw F(J);S.add(J);let H=this.refs[J];return typeof H=="string"&&(H=this.refs[H]),typeof H=="object"?I(B,H.schema,
J):J!==f(D)&&(J[0]==="#"?(I(B,w[J],J),w[J]=B):this.refs[J]=D),J}function G(J){if(typeof J=="string"){if(!_.test(J))throw new Error(`invalid anchor "${J}"`);Y.call(this,`#${J}`)}}}),w;function I(B,k,M){if(k!==void 0&&!e(B,k))throw F(M)}function F(B){return new Error(`reference "${B}" resolves to more than one schema`)}}return je.getSchemaRefs=b,je}var Eu;function Pr(){if(Eu)return dt;Eu=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.getData=dt.KeywordCxt=dt.validateFunctionCode=void 0;const t=zg(),
e=dn(),r=hu(),n=dn(),s=Gg(),i=Bg(),o=Wg(),a=he(),c=Xe(),l=hn(),u=_e(),f=fn();function h(L){if(v(L)&&(S(L),$(L))){d(L);return}_(L,()=>(0,t.topBoolOrEmptySchema)(L))}dt.validateFunctionCode=h;function _({gen:L,validateName:q,schema:Q,schemaEnv:ne,opts:P},N){P.code.es5?L.func(q,(0,a._)`${c.default.data}, ${c.default.valCxt}`,ne.$async,()=>{L.code((0,a._)`"use strict"; ${p(Q,P)}`),y(L,P),L.code(N)}):L.func(q,(0,a._)`${c.default.data}, ${b(P)}`,ne.$async,()=>L.code(p(Q,P)).code(N))}function b(L){return(0,a.
_)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${L.dynamicRef?(0,a._)`, ${c.default.dynamicAnchors}={}`:a.nil}}={}`}function y(L,q){L.if(c.default.valCxt,()=>{L.var(c.default.instancePath,(0,a._)`${c.default.valCxt}.${c.default.instancePath}`),L.var(c.default.parentData,(0,a._)`${c.default.valCxt}.${c.default.parentData}`),L.var(c.default.parentDataProperty,(0,a._)`${c.default.valCxt}.${c.default.parentDataProperty}`),
L.var(c.default.rootData,(0,a._)`${c.default.valCxt}.${c.default.rootData}`),q.dynamicRef&&L.var(c.default.dynamicAnchors,(0,a._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{L.var(c.default.instancePath,(0,a._)`""`),L.var(c.default.parentData,(0,a._)`undefined`),L.var(c.default.parentDataProperty,(0,a._)`undefined`),L.var(c.default.rootData,c.default.data),q.dynamicRef&&L.var(c.default.dynamicAnchors,(0,a._)`{}`)})}function d(L){const{schema:q,opts:Q,gen:ne}=L;_(L,()=>{Q.$comment&&q.
$comment&&j(L),B(L),ne.let(c.default.vErrors,null),ne.let(c.default.errors,0),Q.unevaluated&&g(L),I(L),D(L)})}function g(L){const{gen:q,validateName:Q}=L;L.evaluated=q.const("evaluated",(0,a._)`${Q}.evaluated`),q.if((0,a._)`${L.evaluated}.dynamicProps`,()=>q.assign((0,a._)`${L.evaluated}.props`,(0,a._)`undefined`)),q.if((0,a._)`${L.evaluated}.dynamicItems`,()=>q.assign((0,a._)`${L.evaluated}.items`,(0,a._)`undefined`))}function p(L,q){const Q=typeof L=="object"&&L[q.schemaId];return Q&&(q.code.source||
q.code.process)?(0,a._)`/*# sourceURL=${Q} */`:a.nil}function m(L,q){if(v(L)&&(S(L),$(L))){w(L,q);return}(0,t.boolOrEmptySchema)(L,q)}function $({schema:L,self:q}){if(typeof L=="boolean")return!L;for(const Q in L)if(q.RULES.all[Q])return!0;return!1}function v(L){return typeof L.schema!="boolean"}function w(L,q){const{schema:Q,gen:ne,opts:P}=L;P.$comment&&Q.$comment&&j(L),k(L),M(L);const N=ne.const("_errs",c.default.errors);I(L,N),ne.var(q,(0,a._)`${N} === ${c.default.errors}`)}function S(L){(0,u.
checkUnknownRules)(L),F(L)}function I(L,q){if(L.opts.jtd)return Y(L,[],!1,q);const Q=(0,e.getSchemaTypes)(L.schema),ne=(0,e.coerceAndCheckDataType)(L,Q);Y(L,Q,!ne,q)}function F(L){const{schema:q,errSchemaPath:Q,opts:ne,self:P}=L;q.$ref&&ne.ignoreKeywordsWithRef&&(0,u.schemaHasRulesButRef)(q,P.RULES)&&P.logger.warn(`$ref: keywords ignored in schema at path "${Q}"`)}function B(L){const{schema:q,opts:Q}=L;q.default!==void 0&&Q.useDefaults&&Q.strictSchema&&(0,u.checkStrictMode)(L,"default is ignored\
 in the schema root")}function k(L){const q=L.schema[L.opts.schemaId];q&&(L.baseId=(0,l.resolveUrl)(L.opts.uriResolver,L.baseId,q))}function M(L){if(L.schema.$async&&!L.schemaEnv.$async)throw new Error("async schema in sync schema")}function j({gen:L,schemaEnv:q,schema:Q,errSchemaPath:ne,opts:P}){const N=Q.$comment;if(P.$comment===!0)L.code((0,a._)`${c.default.self}.logger.log(${N})`);else if(typeof P.$comment=="function"){const ee=(0,a.str)`${ne}/$comment`,W=L.scopeValue("root",{ref:q.root});L.
code((0,a._)`${c.default.self}.opts.$comment(${N}, ${ee}, ${W}.schema)`)}}function D(L){const{gen:q,schemaEnv:Q,validateName:ne,ValidationError:P,opts:N}=L;Q.$async?q.if((0,a._)`${c.default.errors} === 0`,()=>q.return(c.default.data),()=>q.throw((0,a._)`new ${P}(${c.default.vErrors})`)):(q.assign((0,a._)`${ne}.errors`,c.default.vErrors),N.unevaluated&&U(L),q.return((0,a._)`${c.default.errors} === 0`))}function U({gen:L,evaluated:q,props:Q,items:ne}){Q instanceof a.Name&&L.assign((0,a._)`${q}.props`,
Q),ne instanceof a.Name&&L.assign((0,a._)`${q}.items`,ne)}function Y(L,q,Q,ne){const{gen:P,schema:N,data:ee,allErrors:W,opts:T,self:te}=L,{RULES:z}=te;if(N.$ref&&(T.ignoreKeywordsWithRef||!(0,u.schemaHasRulesButRef)(N,z))){P.block(()=>X(L,"$ref",z.all.$ref.definition));return}T.jtd||J(L,q),P.block(()=>{for(const le of z.rules)re(le);re(z.post)});function re(le){(0,r.shouldUseGroup)(N,le)&&(le.type?(P.if((0,n.checkDataType)(le.type,ee,T.strictNumbers)),G(L,le),q.length===1&&q[0]===le.type&&Q&&(P.
else(),(0,n.reportTypeError)(L)),P.endIf()):G(L,le),W||P.if((0,a._)`${c.default.errors} === ${ne||0}`))}}function G(L,q){const{gen:Q,schema:ne,opts:{useDefaults:P}}=L;P&&(0,s.assignDefaults)(L,q.type),Q.block(()=>{for(const N of q.rules)(0,r.shouldUseRule)(ne,N)&&X(L,N.keyword,N.definition,q.type)})}function J(L,q){L.schemaEnv.meta||!L.opts.strictTypes||(se(L,q),L.opts.allowUnionTypes||H(L,q),A(L,L.dataTypes))}function se(L,q){if(q.length){if(!L.dataTypes.length){L.dataTypes=q;return}q.forEach(Q=>{
x(L.dataTypes,Q)||R(L,`type "${Q}" not allowed by context "${L.dataTypes.join(",")}"`)}),E(L,q)}}function H(L,q){q.length>1&&!(q.length===2&&q.includes("null"))&&R(L,"use allowUnionTypes to allow union type keyword")}function A(L,q){const Q=L.self.RULES.all;for(const ne in Q){const P=Q[ne];if(typeof P=="object"&&(0,r.shouldUseRule)(L.schema,P)){const{type:N}=P.definition;N.length&&!N.some(ee=>V(q,ee))&&R(L,`missing type "${N.join(",")}" for keyword "${ne}"`)}}}function V(L,q){return L.includes(q)||
q==="number"&&L.includes("integer")}function x(L,q){return L.includes(q)||q==="integer"&&L.includes("number")}function E(L,q){const Q=[];for(const ne of L.dataTypes)x(q,ne)?Q.push(ne):q.includes("integer")&&ne==="number"&&Q.push("integer");L.dataTypes=Q}function R(L,q){const Q=L.schemaEnv.baseId+L.errSchemaPath;q+=` at "${Q}" (strictTypes)`,(0,u.checkStrictMode)(L,q,L.opts.strictTypes)}class C{constructor(q,Q,ne){if((0,i.validateKeywordUsage)(q,Q,ne),this.gen=q.gen,this.allErrors=q.allErrors,this.
keyword=ne,this.data=q.data,this.schema=q.schema[ne],this.$data=Q.$data&&q.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,u.schemaRefOrVal)(q,this.schema,ne,this.$data),this.schemaType=Q.schemaType,this.parentSchema=q.schema,this.params={},this.it=q,this.def=Q,this.$data)this.schemaCode=q.gen.const("vSchema",oe(this.$data,q));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,Q.schemaType,Q.allowUndefined))throw new Error(`${ne} value must be ${JSON.stringify(
Q.schemaType)}`);("code"in Q?Q.trackErrors:Q.errors!==!1)&&(this.errsCount=q.gen.const("_errs",c.default.errors))}result(q,Q,ne){this.failResult((0,a.not)(q),Q,ne)}failResult(q,Q,ne){this.gen.if(q),ne?ne():this.error(),Q?(this.gen.else(),Q(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(q,Q){this.failResult((0,a.not)(q),void 0,Q)}fail(q){if(q===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(q),this.error(),this.allErrors?this.gen.
endIf():this.gen.else()}fail$data(q){if(!this.$data)return this.fail(q);const{schemaCode:Q}=this;this.fail((0,a._)`${Q} !== undefined && (${(0,a.or)(this.invalid$data(),q)})`)}error(q,Q,ne){if(Q){this.setParams(Q),this._error(q,ne),this.setParams({});return}this._error(q,ne)}_error(q,Q){(q?f.reportExtraError:f.reportError)(this,this.def.error,Q)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to k\
eyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(q){this.allErrors||this.gen.if(q)}setParams(q,Q){Q?Object.assign(this.params,q):this.params=q}block$data(q,Q,ne=a.nil){this.gen.block(()=>{this.check$data(q,ne),Q()})}check$data(q=a.nil,Q=a.nil){if(!this.$data)return;const{gen:ne,schemaCode:P,schemaType:N,def:ee}=this;ne.if((0,a.or)((0,a._)`${P} === undefined`,Q)),q!==a.nil&&ne.assign(q,!0),(N.length||ee.validateSchema)&&(ne.elseIf(this.invalid$data()),this.$dataError(),q!==a.
nil&&ne.assign(q,!1)),ne.else()}invalid$data(){const{gen:q,schemaCode:Q,schemaType:ne,def:P,it:N}=this;return(0,a.or)(ee(),W());function ee(){if(ne.length){if(!(Q instanceof a.Name))throw new Error("ajv implementation error");const T=Array.isArray(ne)?ne:[ne];return(0,a._)`${(0,n.checkDataTypes)(T,Q,N.opts.strictNumbers,n.DataType.Wrong)}`}return a.nil}function W(){if(P.validateSchema){const T=q.scopeValue("validate$data",{ref:P.validateSchema});return(0,a._)`!${T}(${Q})`}return a.nil}}subschema(q,Q){
const ne=(0,o.getSubschema)(this.it,q);(0,o.extendSubschemaData)(ne,this.it,q),(0,o.extendSubschemaMode)(ne,q);const P={...this.it,...ne,items:void 0,props:void 0};return m(P,Q),P}mergeEvaluated(q,Q){const{it:ne,gen:P}=this;ne.opts.unevaluated&&(ne.props!==!0&&q.props!==void 0&&(ne.props=u.mergeEvaluated.props(P,q.props,ne.props,Q)),ne.items!==!0&&q.items!==void 0&&(ne.items=u.mergeEvaluated.items(P,q.items,ne.items,Q)))}mergeValidEvaluated(q,Q){const{it:ne,gen:P}=this;if(ne.opts.unevaluated&&(ne.
props!==!0||ne.items!==!0))return P.if(Q,()=>this.mergeEvaluated(q,a.Name)),!0}}dt.KeywordCxt=C;function X(L,q,Q,ne){const P=new C(L,Q,q);"code"in Q?Q.code(P,ne):P.$data&&Q.validate?(0,i.funcKeywordCode)(P,Q):"macro"in Q?(0,i.macroKeywordCode)(P,Q):(Q.compile||Q.validate)&&(0,i.funcKeywordCode)(P,Q)}const Z=/^\/(?:[^~]|~0|~1)*$/,ie=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function oe(L,{dataLevel:q,dataNames:Q,dataPathArr:ne}){let P,N;if(L==="")return c.default.rootData;if(L[0]==="/"){if(!Z.test(L))throw new Error(
`Invalid JSON-pointer: ${L}`);P=L,N=c.default.rootData}else{const te=ie.exec(L);if(!te)throw new Error(`Invalid JSON-pointer: ${L}`);const z=+te[1];if(P=te[2],P==="#"){if(z>=q)throw new Error(T("property/index",z));return ne[q-z]}if(z>q)throw new Error(T("data",z));if(N=Q[q-z],!P)return N}let ee=N;const W=P.split("/");for(const te of W)te&&(N=(0,a._)`${N}${(0,a.getProperty)((0,u.unescapeJsonPointer)(te))}`,ee=(0,a._)`${ee} && ${N}`);return ee;function T(te,z){return`Cannot access ${te} ${z} leve\
ls up, current level is ${q}`}}return dt.getData=oe,dt}var pn={},Su;function mn(){if(Su)return pn;Su=1,Object.defineProperty(pn,"__esModule",{value:!0});class t extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return pn.default=t,pn}var gn={},Ru;function Ir(){if(Ru)return gn;Ru=1,Object.defineProperty(gn,"__esModule",{value:!0});const t=hn();class e extends Error{constructor(n,s,i,o){super(o||`can't resolve reference ${i} from id ${s}`),this.missingRef=
(0,t.resolveUrl)(n,s,i),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}}return gn.default=e,gn}var Ue={},Au;function yn(){if(Au)return Ue;Au=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.resolveSchema=Ue.getCompilingSchema=Ue.resolveRef=Ue.compileSchema=Ue.SchemaEnv=void 0;const t=he(),e=mn(),r=Xe(),n=hn(),s=_e(),i=Pr();class o{constructor(g){var p;this.refs={},this.dynamicAnchors={};let m;typeof g.schema=="object"&&(m=g.schema),this.schema=g.schema,this.schemaId=
g.schemaId,this.root=g.root||this,this.baseId=(p=g.baseId)!==null&&p!==void 0?p:(0,n.normalizeId)(m?.[g.schemaId||"$id"]),this.schemaPath=g.schemaPath,this.localRefs=g.localRefs,this.meta=g.meta,this.$async=m?.$async,this.refs={}}}Ue.SchemaEnv=o;function a(d){const g=u.call(this,d);if(g)return g;const p=(0,n.getFullPath)(this.opts.uriResolver,d.root.baseId),{es5:m,lines:$}=this.opts.code,{ownProperties:v}=this.opts,w=new t.CodeGen(this.scope,{es5:m,lines:$,ownProperties:v});let S;d.$async&&(S=w.
scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const I=w.scopeName("validate");d.validateName=I;const F={gen:w,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:w.scopeValue("schema",this.opts.code.source===!0?{ref:d.schema,code:(0,t.stringify)(d.schema)}:
{ref:d.schema}),validateName:I,ValidationError:S,schema:d.schema,schemaEnv:d,rootId:p,baseId:d.baseId||p,schemaPath:t.nil,errSchemaPath:d.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let B;try{this._compilations.add(d),(0,i.validateFunctionCode)(F),w.optimize(this.opts.code.optimize);const k=w.toString();B=`${w.scopeRefs(r.default.scope)}return ${k}`,this.opts.code.process&&(B=this.opts.code.process(B,d));const j=new Function(`${r.default.self}`,`${r.default.
scope}`,B)(this,this.scope.get());if(this.scope.value(I,{ref:j}),j.errors=null,j.schema=d.schema,j.schemaEnv=d,d.$async&&(j.$async=!0),this.opts.code.source===!0&&(j.source={validateName:I,validateCode:k,scopeValues:w._values}),this.opts.unevaluated){const{props:D,items:U}=F;j.evaluated={props:D instanceof t.Name?void 0:D,items:U instanceof t.Name?void 0:U,dynamicProps:D instanceof t.Name,dynamicItems:U instanceof t.Name},j.source&&(j.source.evaluated=(0,t.stringify)(j.evaluated))}return d.validate=
j,d}catch(k){throw delete d.validate,delete d.validateName,B&&this.logger.error("Error compiling schema, function code:",B),k}finally{this._compilations.delete(d)}}Ue.compileSchema=a;function c(d,g,p){var m;p=(0,n.resolveUrl)(this.opts.uriResolver,g,p);const $=d.refs[p];if($)return $;let v=h.call(this,d,p);if(v===void 0){const w=(m=d.localRefs)===null||m===void 0?void 0:m[p],{schemaId:S}=this.opts;w&&(v=new o({schema:w,schemaId:S,root:d,baseId:g}))}if(v!==void 0)return d.refs[p]=l.call(this,v)}Ue.
resolveRef=c;function l(d){return(0,n.inlineRef)(d.schema,this.opts.inlineRefs)?d.schema:d.validate?d:a.call(this,d)}function u(d){for(const g of this._compilations)if(f(g,d))return g}Ue.getCompilingSchema=u;function f(d,g){return d.schema===g.schema&&d.root===g.root&&d.baseId===g.baseId}function h(d,g){let p;for(;typeof(p=this.refs[g])=="string";)g=p;return p||this.schemas[g]||_.call(this,d,g)}function _(d,g){const p=this.opts.uriResolver.parse(g),m=(0,n._getFullPath)(this.opts.uriResolver,p);let $=(0,n.
getFullPath)(this.opts.uriResolver,d.baseId,void 0);if(Object.keys(d.schema).length>0&&m===$)return y.call(this,p,d);const v=(0,n.normalizeId)(m),w=this.refs[v]||this.schemas[v];if(typeof w=="string"){const S=_.call(this,d,w);return typeof S?.schema!="object"?void 0:y.call(this,p,S)}if(typeof w?.schema=="object"){if(w.validate||a.call(this,w),v===(0,n.normalizeId)(g)){const{schema:S}=w,{schemaId:I}=this.opts,F=S[I];return F&&($=(0,n.resolveUrl)(this.opts.uriResolver,$,F)),new o({schema:S,schemaId:I,
root:d,baseId:$})}return y.call(this,p,w)}}Ue.resolveSchema=_;const b=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(d,{baseId:g,schema:p,root:m}){var $;if((($=d.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const S of d.fragment.slice(1).split("/")){if(typeof p=="boolean")return;const I=p[(0,s.unescapeFragment)(S)];if(I===void 0)return;p=I;const F=typeof p=="object"&&p[this.opts.schemaId];!b.has(S)&&F&&(g=(0,n.resolveUrl)(this.opts.uriResolver,
g,F))}let v;if(typeof p!="boolean"&&p.$ref&&!(0,s.schemaHasRulesButRef)(p,this.RULES)){const S=(0,n.resolveUrl)(this.opts.uriResolver,g,p.$ref);v=_.call(this,m,S)}const{schemaId:w}=this.opts;if(v=v||new o({schema:p,schemaId:w,root:m,baseId:g}),v.schema!==v.root.schema)return v}return Ue}const Ou="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Cu="Meta-schema for $data reference (JSON AnySchema extension proposal)",Pu="object",Iu=["$data"],Tu={$data:{type:"string",
anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Nu=!1,Yg={$id:Ou,description:Cu,type:Pu,required:Iu,properties:Tu,additionalProperties:Nu},Xg={__proto__:null,$id:Ou,additionalProperties:Nu,default:Yg,description:Cu,properties:Tu,required:Iu,type:Pu},Jg=nt(Xg);var _n={},Tr={exports:{}},zi,ju;function Qg(){return ju||(ju=1,zi={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),zi}var Gi,Lu;function Zg(){if(Lu)return Gi;Lu=
1;const{HEX:t}=Qg(),e=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function r(y){if(a(y,".")<3)return{host:y,isIPV4:!1};const d=y.match(e)||[],[g]=d;return g?{host:o(g,"."),isIPV4:!0}:{host:y,isIPV4:!1}}function n(y,d=!1){let g="",p=!0;for(const m of y){if(t[m]===void 0)return;m!=="0"&&p===!0&&(p=!1),p||(g+=m)}return d&&g.length===0&&(g="0"),g}function s(y){let d=0;const g={error:!1,address:"",zone:""},p=[],m=[];let $=!1,v=!1,w=!1;function S(){if(m.length){
if($===!1){const I=n(m);if(I!==void 0)p.push(I);else return g.error=!0,!1}m.length=0}return!0}for(let I=0;I<y.length;I++){const F=y[I];if(!(F==="["||F==="]"))if(F===":"){if(v===!0&&(w=!0),!S())break;if(d++,p.push(":"),d>7){g.error=!0;break}I-1>=0&&y[I-1]===":"&&(v=!0);continue}else if(F==="%"){if(!S())break;$=!0}else{m.push(F);continue}}return m.length&&($?g.zone=m.join(""):w?p.push(m.join("")):p.push(n(m))),g.address=p.join(""),g}function i(y){if(a(y,":")<2)return{host:y,isIPV6:!1};const d=s(y);
if(d.error)return{host:y,isIPV6:!1};{let g=d.address,p=d.address;return d.zone&&(g+="%"+d.zone,p+="%25"+d.zone),{host:g,escapedHost:p,isIPV6:!0}}}function o(y,d){let g="",p=!0;const m=y.length;for(let $=0;$<m;$++){const v=y[$];v==="0"&&p?($+1<=m&&y[$+1]===d||$+1===m)&&(g+=v,p=!1):(v===d?p=!0:p=!1,g+=v)}return g}function a(y,d){let g=0;for(let p=0;p<y.length;p++)y[p]===d&&g++;return g}const c=/^\.\.?\//u,l=/^\/\.(?:\/|$)/u,u=/^\/\.\.(?:\/|$)/u,f=/^\/?(?:.|\n)*?(?=\/|$)/u;function h(y){const d=[];
for(;y.length;)if(y.match(c))y=y.replace(c,"");else if(y.match(l))y=y.replace(l,"/");else if(y.match(u))y=y.replace(u,"/"),d.pop();else if(y==="."||y==="..")y="";else{const g=y.match(f);if(g){const p=g[0];y=y.slice(p.length),d.push(p)}else throw new Error("Unexpected dot segment condition")}return d.join("")}function _(y,d){const g=d!==!0?escape:unescape;return y.scheme!==void 0&&(y.scheme=g(y.scheme)),y.userinfo!==void 0&&(y.userinfo=g(y.userinfo)),y.host!==void 0&&(y.host=g(y.host)),y.path!==void 0&&
(y.path=g(y.path)),y.query!==void 0&&(y.query=g(y.query)),y.fragment!==void 0&&(y.fragment=g(y.fragment)),y}function b(y){const d=[];if(y.userinfo!==void 0&&(d.push(y.userinfo),d.push("@")),y.host!==void 0){let g=unescape(y.host);const p=r(g);if(p.isIPV4)g=p.host;else{const m=i(p.host);m.isIPV6===!0?g=`[${m.escapedHost}]`:g=y.host}d.push(g)}return(typeof y.port=="number"||typeof y.port=="string")&&(d.push(":"),d.push(String(y.port))),d.length?d.join(""):void 0}return Gi={recomposeAuthority:b,normalizeComponentEncoding:_,
removeDotSegments:h,normalizeIPv4:r,normalizeIPv6:i,stringArrayToHexStripped:n},Gi}var Bi,ku;function ey(){if(ku)return Bi;ku=1;const t=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(p){return typeof p.secure=="boolean"?p.secure:String(p.scheme).toLowerCase()==="wss"}function n(p){return p.host||(p.error=p.error||"HTTP URIs must have a host."),p}function s(p){const m=String(p.scheme).toLowerCase()==="\
https";return(p.port===(m?443:80)||p.port==="")&&(p.port=void 0),p.path||(p.path="/"),p}function i(p){return p.secure=r(p),p.resourceName=(p.path||"/")+(p.query?"?"+p.query:""),p.path=void 0,p.query=void 0,p}function o(p){if((p.port===(r(p)?443:80)||p.port==="")&&(p.port=void 0),typeof p.secure=="boolean"&&(p.scheme=p.secure?"wss":"ws",p.secure=void 0),p.resourceName){const[m,$]=p.resourceName.split("?");p.path=m&&m!=="/"?m:void 0,p.query=$,p.resourceName=void 0}return p.fragment=void 0,p}function a(p,m){
if(!p.path)return p.error="URN can not be parsed",p;const $=p.path.match(e);if($){const v=m.scheme||p.scheme||"urn";p.nid=$[1].toLowerCase(),p.nss=$[2];const w=`${v}:${m.nid||p.nid}`,S=g[w];p.path=void 0,S&&(p=S.parse(p,m))}else p.error=p.error||"URN can not be parsed.";return p}function c(p,m){const $=m.scheme||p.scheme||"urn",v=p.nid.toLowerCase(),w=`${$}:${m.nid||v}`,S=g[w];S&&(p=S.serialize(p,m));const I=p,F=p.nss;return I.path=`${v||m.nid}:${F}`,m.skipEscape=!0,I}function l(p,m){const $=p;return $.
uuid=$.nss,$.nss=void 0,!m.tolerant&&(!$.uuid||!t.test($.uuid))&&($.error=$.error||"UUID is not valid."),$}function u(p){const m=p;return m.nss=(p.uuid||"").toLowerCase(),m}const f={scheme:"http",domainHost:!0,parse:n,serialize:s},h={scheme:"https",domainHost:f.domainHost,parse:n,serialize:s},_={scheme:"ws",domainHost:!0,parse:i,serialize:o},b={scheme:"wss",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize},g={http:f,https:h,ws:_,wss:b,urn:{scheme:"urn",parse:a,serialize:c,skipNormalize:!0},
"urn:uuid":{scheme:"urn:uuid",parse:l,serialize:u,skipNormalize:!0}};return Bi=g,Bi}var Du;function ty(){if(Du)return Tr.exports;Du=1;const{normalizeIPv6:t,normalizeIPv4:e,removeDotSegments:r,recomposeAuthority:n,normalizeComponentEncoding:s}=Zg(),i=ey();function o(d,g){return typeof d=="string"?d=u(b(d,g),g):typeof d=="object"&&(d=b(u(d,g),g)),d}function a(d,g,p){const m=Object.assign({scheme:"null"},p),$=c(b(d,m),b(g,m),m,!0);return u($,{...m,skipEscape:!0})}function c(d,g,p,m){const $={};return m||
(d=b(u(d,p),p),g=b(u(g,p),p)),p=p||{},!p.tolerant&&g.scheme?($.scheme=g.scheme,$.userinfo=g.userinfo,$.host=g.host,$.port=g.port,$.path=r(g.path||""),$.query=g.query):(g.userinfo!==void 0||g.host!==void 0||g.port!==void 0?($.userinfo=g.userinfo,$.host=g.host,$.port=g.port,$.path=r(g.path||""),$.query=g.query):(g.path?(g.path.charAt(0)==="/"?$.path=r(g.path):((d.userinfo!==void 0||d.host!==void 0||d.port!==void 0)&&!d.path?$.path="/"+g.path:d.path?$.path=d.path.slice(0,d.path.lastIndexOf("/")+1)+
g.path:$.path=g.path,$.path=r($.path)),$.query=g.query):($.path=d.path,g.query!==void 0?$.query=g.query:$.query=d.query),$.userinfo=d.userinfo,$.host=d.host,$.port=d.port),$.scheme=d.scheme),$.fragment=g.fragment,$}function l(d,g,p){return typeof d=="string"?(d=unescape(d),d=u(s(b(d,p),!0),{...p,skipEscape:!0})):typeof d=="object"&&(d=u(s(d,!0),{...p,skipEscape:!0})),typeof g=="string"?(g=unescape(g),g=u(s(b(g,p),!0),{...p,skipEscape:!0})):typeof g=="object"&&(g=u(s(g,!0),{...p,skipEscape:!0})),
d.toLowerCase()===g.toLowerCase()}function u(d,g){const p={host:d.host,scheme:d.scheme,userinfo:d.userinfo,port:d.port,path:d.path,query:d.query,nid:d.nid,nss:d.nss,uuid:d.uuid,fragment:d.fragment,reference:d.reference,resourceName:d.resourceName,secure:d.secure,error:""},m=Object.assign({},g),$=[],v=i[(m.scheme||p.scheme||"").toLowerCase()];v&&v.serialize&&v.serialize(p,m),p.path!==void 0&&(m.skipEscape?p.path=unescape(p.path):(p.path=escape(p.path),p.scheme!==void 0&&(p.path=p.path.split("%3A").
join(":")))),m.reference!=="suffix"&&p.scheme&&$.push(p.scheme,":");const w=n(p);if(w!==void 0&&(m.reference!=="suffix"&&$.push("//"),$.push(w),p.path&&p.path.charAt(0)!=="/"&&$.push("/")),p.path!==void 0){let S=p.path;!m.absolutePath&&(!v||!v.absolutePath)&&(S=r(S)),w===void 0&&(S=S.replace(/^\/\//u,"/%2F")),$.push(S)}return p.query!==void 0&&$.push("?",p.query),p.fragment!==void 0&&$.push("#",p.fragment),$.join("")}const f=Array.from({length:127},(d,g)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.
fromCharCode(g)));function h(d){let g=0;for(let p=0,m=d.length;p<m;++p)if(g=d.charCodeAt(p),g>126||f[g])return!0;return!1}const _=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function b(d,g){const p=Object.assign({},g),m={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},$=d.indexOf("%")!==-1;let v=!1;p.reference==="suffix"&&(d=(p.scheme?p.scheme+":":"")+"//"+d);const w=d.match(
_);if(w){if(m.scheme=w[1],m.userinfo=w[3],m.host=w[4],m.port=parseInt(w[5],10),m.path=w[6]||"",m.query=w[7],m.fragment=w[8],isNaN(m.port)&&(m.port=w[5]),m.host){const I=e(m.host);if(I.isIPV4===!1){const F=t(I.host);m.host=F.host.toLowerCase(),v=F.isIPV6}else m.host=I.host,v=!0}m.scheme===void 0&&m.userinfo===void 0&&m.host===void 0&&m.port===void 0&&m.query===void 0&&!m.path?m.reference="same-document":m.scheme===void 0?m.reference="relative":m.fragment===void 0?m.reference="absolute":m.reference=
"uri",p.reference&&p.reference!=="suffix"&&p.reference!==m.reference&&(m.error=m.error||"URI is not a "+p.reference+" reference.");const S=i[(p.scheme||m.scheme||"").toLowerCase()];if(!p.unicodeSupport&&(!S||!S.unicodeSupport)&&m.host&&(p.domainHost||S&&S.domainHost)&&v===!1&&h(m.host))try{m.host=URL.domainToASCII(m.host.toLowerCase())}catch(I){m.error=m.error||"Host's domain name can not be converted to ASCII: "+I}(!S||S&&!S.skipNormalize)&&($&&m.scheme!==void 0&&(m.scheme=unescape(m.scheme)),$&&
m.host!==void 0&&(m.host=unescape(m.host)),m.path&&(m.path=escape(unescape(m.path))),m.fragment&&(m.fragment=encodeURI(decodeURIComponent(m.fragment)))),S&&S.parse&&S.parse(m,p)}else m.error=m.error||"URI can not be parsed.";return m}const y={SCHEMES:i,normalize:o,resolve:a,resolveComponents:c,equal:l,serialize:u,parse:b};return Tr.exports=y,Tr.exports.default=y,Tr.exports.fastUri=y,Tr.exports}var xu;function ry(){if(xu)return _n;xu=1,Object.defineProperty(_n,"__esModule",{value:!0});const t=ty();
return t.code='require("ajv/dist/runtime/uri").default',_n.default=t,_n}var Mu;function qu(){return Mu||(Mu=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Pr();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=he();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.
defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=mn(),s=Ir(),i=fu(),o=yn(),a=he(),c=hn(),l=dn(),u=_e(),f=Jg,h=ry(),_=(H,A)=>new RegExp(H,A);_.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],y=new Set(
["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),d={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code:\
 {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},
g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function m(H){var A,V,x,E,R,C,X,Z,ie,oe,L,q,Q,ne,P,N,ee,W,T,te,z,re,le,$e,we;const ot=H.strict,mt=(A=H.code)===null||A===void 0?void 0:A.optimize,na=mt===!0||mt===void 0?1:mt||0,sa=(x=(V=H.code)===null||V===void 0?void 0:V.regExp)!==null&&x!==void 0?x:_,Th=(E=H.uriResolver)!==null&&E!==void 0?E:h.default;return{strictSchema:(C=(R=H.strictSchema)!==null&&R!==void 0?R:
ot)!==null&&C!==void 0?C:!0,strictNumbers:(Z=(X=H.strictNumbers)!==null&&X!==void 0?X:ot)!==null&&Z!==void 0?Z:!0,strictTypes:(oe=(ie=H.strictTypes)!==null&&ie!==void 0?ie:ot)!==null&&oe!==void 0?oe:"log",strictTuples:(q=(L=H.strictTuples)!==null&&L!==void 0?L:ot)!==null&&q!==void 0?q:"log",strictRequired:(ne=(Q=H.strictRequired)!==null&&Q!==void 0?Q:ot)!==null&&ne!==void 0?ne:!1,code:H.code?{...H.code,optimize:na,regExp:sa}:{optimize:na,regExp:sa},loopRequired:(P=H.loopRequired)!==null&&P!==void 0?
P:p,loopEnum:(N=H.loopEnum)!==null&&N!==void 0?N:p,meta:(ee=H.meta)!==null&&ee!==void 0?ee:!0,messages:(W=H.messages)!==null&&W!==void 0?W:!0,inlineRefs:(T=H.inlineRefs)!==null&&T!==void 0?T:!0,schemaId:(te=H.schemaId)!==null&&te!==void 0?te:"$id",addUsedSchema:(z=H.addUsedSchema)!==null&&z!==void 0?z:!0,validateSchema:(re=H.validateSchema)!==null&&re!==void 0?re:!0,validateFormats:(le=H.validateFormats)!==null&&le!==void 0?le:!0,unicodeRegExp:($e=H.unicodeRegExp)!==null&&$e!==void 0?$e:!0,int32range:(we=
H.int32range)!==null&&we!==void 0?we:!0,uriResolver:Th}}class ${constructor(A={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,A=this.opts={...A,...m(A)};const{es5:V,lines:x}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:y,es5:V,lines:x}),this.logger=M(A.logger);const E=A.validateFormats;A.validateFormats=!1,this.RULES=(0,i.getRules)(),v.call(this,d,A,"NOT SUPPORTED"),v.call(this,g,A,"DEPRECATED","warn"),this._metaOpts=
B.call(this),A.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),A.keywords&&F.call(this,A.keywords),typeof A.meta=="object"&&this.addMetaSchema(A.meta),S.call(this),A.validateFormats=E}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:A,meta:V,schemaId:x}=this.opts;let E=f;x==="id"&&(E={...f},E.id=E.$id,delete E.$id),V&&A&&this.addMetaSchema(E,E[x],!1)}defaultMeta(){const{meta:A,schemaId:V}=this.opts;return this.opts.defaultMeta=typeof A==
"object"?A[V]||A:void 0}validate(A,V){let x;if(typeof A=="string"){if(x=this.getSchema(A),!x)throw new Error(`no schema with key or ref "${A}"`)}else x=this.compile(A);const E=x(V);return"$async"in x||(this.errors=x.errors),E}compile(A,V){const x=this._addSchema(A,V);return x.validate||this._compileSchemaEnv(x)}compileAsync(A,V){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:x}=this.opts;return E.call(this,A,V);async function E(oe,L){
await R.call(this,oe.$schema);const q=this._addSchema(oe,L);return q.validate||C.call(this,q)}async function R(oe){oe&&!this.getSchema(oe)&&await E.call(this,{$ref:oe},!0)}async function C(oe){try{return this._compileSchemaEnv(oe)}catch(L){if(!(L instanceof s.default))throw L;return X.call(this,L),await Z.call(this,L.missingSchema),C.call(this,oe)}}function X({missingSchema:oe,missingRef:L}){if(this.refs[oe])throw new Error(`AnySchema ${oe} is loaded but ${L} cannot be resolved`)}async function Z(oe){
const L=await ie.call(this,oe);this.refs[oe]||await R.call(this,L.$schema),this.refs[oe]||this.addSchema(L,oe,V)}async function ie(oe){const L=this._loading[oe];if(L)return L;try{return await(this._loading[oe]=x(oe))}finally{delete this._loading[oe]}}}addSchema(A,V,x,E=this.opts.validateSchema){if(Array.isArray(A)){for(const C of A)this.addSchema(C,void 0,x,E);return this}let R;if(typeof A=="object"){const{schemaId:C}=this.opts;if(R=A[C],R!==void 0&&typeof R!="string")throw new Error(`schema ${C}\
 must be string`)}return V=(0,c.normalizeId)(V||R),this._checkUnique(V),this.schemas[V]=this._addSchema(A,x,V,E,!0),this}addMetaSchema(A,V,x=this.opts.validateSchema){return this.addSchema(A,V,!0,x),this}validateSchema(A,V){if(typeof A=="boolean")return!0;let x;if(x=A.$schema,x!==void 0&&typeof x!="string")throw new Error("$schema must be a string");if(x=x||this.opts.defaultMeta||this.defaultMeta(),!x)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const E=this.validate(
x,A);if(!E&&V){const R="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(R);else throw new Error(R)}return E}getSchema(A){let V;for(;typeof(V=w.call(this,A))=="string";)A=V;if(V===void 0){const{schemaId:x}=this.opts,E=new o.SchemaEnv({schema:{},schemaId:x});if(V=o.resolveSchema.call(this,E,A),!V)return;this.refs[A]=V}return V.validate||this._compileSchemaEnv(V)}removeSchema(A){if(A instanceof RegExp)return this._removeAllSchemas(this.schemas,A),this._removeAllSchemas(
this.refs,A),this;switch(typeof A){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const V=w.call(this,A);return typeof V=="object"&&this._cache.delete(V.schema),delete this.schemas[A],delete this.refs[A],this}case"object":{const V=A;this._cache.delete(V);let x=A[this.opts.schemaId];return x&&(x=(0,c.normalizeId)(x),delete this.schemas[x],delete this.refs[x]),this}default:throw new Error("ajv.removeSchema: inval\
id parameter")}}addVocabulary(A){for(const V of A)this.addKeyword(V);return this}addKeyword(A,V){let x;if(typeof A=="string")x=A,typeof V=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),V.keyword=x);else if(typeof A=="object"&&V===void 0){if(V=A,x=V.keyword,Array.isArray(x)&&!x.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(D.call(this,x,V),!V)return(0,u.eachItem)(
x,R=>U.call(this,R)),this;G.call(this,V);const E={...V,type:(0,l.getJSONTypes)(V.type),schemaType:(0,l.getJSONTypes)(V.schemaType)};return(0,u.eachItem)(x,E.type.length===0?R=>U.call(this,R,E):R=>E.type.forEach(C=>U.call(this,R,E,C))),this}getKeyword(A){const V=this.RULES.all[A];return typeof V=="object"?V.definition:!!V}removeKeyword(A){const{RULES:V}=this;delete V.keywords[A],delete V.all[A];for(const x of V.rules){const E=x.rules.findIndex(R=>R.keyword===A);E>=0&&x.rules.splice(E,1)}return this}addFormat(A,V){
return typeof V=="string"&&(V=new RegExp(V)),this.formats[A]=V,this}errorsText(A=this.errors,{separator:V=", ",dataVar:x="data"}={}){return!A||A.length===0?"No errors":A.map(E=>`${x}${E.instancePath} ${E.message}`).reduce((E,R)=>E+V+R)}$dataMetaSchema(A,V){const x=this.RULES.all;A=JSON.parse(JSON.stringify(A));for(const E of V){const R=E.split("/").slice(1);let C=A;for(const X of R)C=C[X];for(const X in x){const Z=x[X];if(typeof Z!="object")continue;const{$data:ie}=Z.definition,oe=C[X];ie&&oe&&(C[X]=
se(oe))}}return A}_removeAllSchemas(A,V){for(const x in A){const E=A[x];(!V||V.test(x))&&(typeof E=="string"?delete A[x]:E&&!E.meta&&(this._cache.delete(E.schema),delete A[x]))}}_addSchema(A,V,x,E=this.opts.validateSchema,R=this.opts.addUsedSchema){let C;const{schemaId:X}=this.opts;if(typeof A=="object")C=A[X];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof A!="boolean")throw new Error("schema must be object or boolean")}let Z=this._cache.get(A);if(Z!==void 0)return Z;x=
(0,c.normalizeId)(C||x);const ie=c.getSchemaRefs.call(this,A,x);return Z=new o.SchemaEnv({schema:A,schemaId:X,meta:V,baseId:x,localRefs:ie}),this._cache.set(Z.schema,Z),R&&!x.startsWith("#")&&(x&&this._checkUnique(x),this.refs[x]=Z),E&&this.validateSchema(A,!0),Z}_checkUnique(A){if(this.schemas[A]||this.refs[A])throw new Error(`schema with key or id "${A}" already exists`)}_compileSchemaEnv(A){if(A.meta?this._compileMetaSchema(A):o.compileSchema.call(this,A),!A.validate)throw new Error("ajv impl\
ementation error");return A.validate}_compileMetaSchema(A){const V=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,A)}finally{this.opts=V}}}$.ValidationError=n.default,$.MissingRefError=s.default,t.default=$;function v(H,A,V,x="error"){for(const E in H){const R=E;R in A&&this.logger[x](`${V}: option ${E}. ${H[R]}`)}}function w(H){return H=(0,c.normalizeId)(H),this.schemas[H]||this.refs[H]}function S(){const H=this.opts.schemas;if(H)if(Array.isArray(H))this.addSchema(H);else for(const A in H)
this.addSchema(H[A],A)}function I(){for(const H in this.opts.formats){const A=this.opts.formats[H];A&&this.addFormat(H,A)}}function F(H){if(Array.isArray(H)){this.addVocabulary(H);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const A in H){const V=H[A];V.keyword||(V.keyword=A),this.addKeyword(V)}}function B(){const H={...this.opts};for(const A of b)delete H[A];return H}const k={log(){},warn(){},error(){}};function M(H){if(H===!1)return k;if(H===void 0)return console;
if(H.log&&H.warn&&H.error)return H;throw new Error("logger must implement log, warn and error methods")}const j=/^[a-z_$][a-z0-9_$:-]*$/i;function D(H,A){const{RULES:V}=this;if((0,u.eachItem)(H,x=>{if(V.keywords[x])throw new Error(`Keyword ${x} is already defined`);if(!j.test(x))throw new Error(`Keyword ${x} has invalid name`)}),!!A&&A.$data&&!("code"in A||"validate"in A))throw new Error('$data keyword must have "code" or "validate" function')}function U(H,A,V){var x;const E=A?.post;if(V&&E)throw new Error(
'keyword with "post" flag cannot have "type"');const{RULES:R}=this;let C=E?R.post:R.rules.find(({type:Z})=>Z===V);if(C||(C={type:V,rules:[]},R.rules.push(C)),R.keywords[H]=!0,!A)return;const X={keyword:H,definition:{...A,type:(0,l.getJSONTypes)(A.type),schemaType:(0,l.getJSONTypes)(A.schemaType)}};A.before?Y.call(this,C,X,A.before):C.rules.push(X),R.all[H]=X,(x=A.implements)===null||x===void 0||x.forEach(Z=>this.addKeyword(Z))}function Y(H,A,V){const x=H.rules.findIndex(E=>E.keyword===V);x>=0?H.
rules.splice(x,0,A):(H.rules.push(A),this.logger.warn(`rule ${V} is not defined`))}function G(H){let{metaSchema:A}=H;A!==void 0&&(H.$data&&this.opts.$data&&(A=se(A)),H.validateSchema=this.compile(A,!0))}const J={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function se(H){return{anyOf:[H,J]}}}(xi)),xi}var $n={},vn={},bn={},Uu;function ny(){if(Uu)return bn;Uu=1,Object.defineProperty(bn,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('\
NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return bn.default=t,bn}var St={},Hu;function Wi(){if(Hu)return St;Hu=1,Object.defineProperty(St,"__esModule",{value:!0}),St.callRef=St.getValidate=void 0;const t=Ir(),e=Qe(),r=he(),n=Xe(),s=yn(),i=_e(),o={keyword:"$ref",schemaType:"string",code(l){const{gen:u,schema:f,it:h}=l,{baseId:_,schemaEnv:b,validateName:y,opts:d,self:g}=h,{root:p}=b;if((f==="#"||f==="#/")&&_===p.baseId)return $();const m=s.resolveRef.call(g,p,_,f);if(m===void 0)throw new t.
default(h.opts.uriResolver,_,f);if(m instanceof s.SchemaEnv)return v(m);return w(m);function $(){if(b===p)return c(l,y,b,b.$async);const S=u.scopeValue("root",{ref:p});return c(l,(0,r._)`${S}.validate`,p,p.$async)}function v(S){const I=a(l,S);c(l,I,S,S.$async)}function w(S){const I=u.scopeValue("schema",d.code.source===!0?{ref:S,code:(0,r.stringify)(S)}:{ref:S}),F=u.name("valid"),B=l.subschema({schema:S,dataTypes:[],schemaPath:r.nil,topSchemaRef:I,errSchemaPath:f},F);l.mergeEvaluated(B),l.ok(F)}}};
function a(l,u){const{gen:f}=l;return u.validate?f.scopeValue("validate",{ref:u.validate}):(0,r._)`${f.scopeValue("wrapper",{ref:u})}.validate`}St.getValidate=a;function c(l,u,f,h){const{gen:_,it:b}=l,{allErrors:y,schemaEnv:d,opts:g}=b,p=g.passContext?n.default.this:r.nil;h?m():$();function m(){if(!d.$async)throw new Error("async schema referenced by sync schema");const S=_.let("valid");_.try(()=>{_.code((0,r._)`await ${(0,e.callValidateCode)(l,u,p)}`),w(u),y||_.assign(S,!0)},I=>{_.if((0,r._)`!(${I} instanceof ${b.
ValidationError})`,()=>_.throw(I)),v(I),y||_.assign(S,!1)}),l.ok(S)}function $(){l.result((0,e.callValidateCode)(l,u,p),()=>w(u),()=>v(u))}function v(S){const I=(0,r._)`${S}.errors`;_.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${I} : ${n.default.vErrors}.concat(${I})`),_.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function w(S){var I;if(!b.opts.unevaluated)return;const F=(I=f?.validate)===null||I===void 0?void 0:I.evaluated;if(b.props!==!0)if(F&&!F.dynamicProps)
F.props!==void 0&&(b.props=i.mergeEvaluated.props(_,F.props,b.props));else{const B=_.var("props",(0,r._)`${S}.evaluated.props`);b.props=i.mergeEvaluated.props(_,B,b.props,r.Name)}if(b.items!==!0)if(F&&!F.dynamicItems)F.items!==void 0&&(b.items=i.mergeEvaluated.items(_,F.items,b.items));else{const B=_.var("items",(0,r._)`${S}.evaluated.items`);b.items=i.mergeEvaluated.items(_,B,b.items,r.Name)}}}return St.callRef=c,St.default=o,St}var Fu;function Vu(){if(Fu)return vn;Fu=1,Object.defineProperty(vn,
"__esModule",{value:!0});const t=ny(),e=Wi(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return vn.default=r,vn}var wn={},En={},zu;function sy(){if(zu)return En;zu=1,Object.defineProperty(En,"__esModule",{value:!0});const t=he(),e=t.operators,r={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},n={message:({keyword:i,schemaCode:o})=>(0,t.
str)`must be ${r[i].okStr} ${o}`,params:({keyword:i,schemaCode:o})=>(0,t._)`{comparison: ${r[i].okStr}, limit: ${o}}`},s={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(i){const{keyword:o,data:a,schemaCode:c}=i;i.fail$data((0,t._)`${a} ${r[o].fail} ${c} || isNaN(${a})`)}};return En.default=s,En}var Sn={},Gu;function iy(){if(Gu)return Sn;Gu=1,Object.defineProperty(Sn,"__esModule",{value:!0});const t=he(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,
error:{message:({schemaCode:n})=>(0,t.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,t._)`{multipleOf: ${n}}`},code(n){const{gen:s,data:i,schemaCode:o,it:a}=n,c=a.opts.multipleOfPrecision,l=s.let("res"),u=c?(0,t._)`Math.abs(Math.round(${l}) - ${l}) > 1e-${c}`:(0,t._)`${l} !== parseInt(${l})`;n.fail$data((0,t._)`(${o} === 0 || (${l} = ${i}/${o}, ${u}))`)}};return Sn.default=r,Sn}var Rn={},An={},Bu;function oy(){if(Bu)return An;Bu=1,Object.defineProperty(An,"__esModule",{value:!0});function t(e){
const r=e.length;let n=0,s=0,i;for(;s<r;)n++,i=e.charCodeAt(s++),i>=55296&&i<=56319&&s<r&&(i=e.charCodeAt(s),(i&64512)===56320&&s++);return n}return An.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',An}var Wu;function ay(){if(Wu)return Rn;Wu=1,Object.defineProperty(Rn,"__esModule",{value:!0});const t=he(),e=_e(),r=oy(),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:o}){const a=i==="maxLength"?"more":"fewer";
return(0,t.str)`must NOT have ${a} than ${o} characters`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},code(i){const{keyword:o,data:a,schemaCode:c,it:l}=i,u=o==="maxLength"?t.operators.GT:t.operators.LT,f=l.opts.unicode===!1?(0,t._)`${a}.length`:(0,t._)`${(0,e.useFunc)(i.gen,r.default)}(${a})`;i.fail$data((0,t._)`${f} ${u} ${c}`)}};return Rn.default=s,Rn}var On={},Ku;function cy(){if(Ku)return On;Ku=1,Object.defineProperty(On,"__esModule",{value:!0});const t=Qe(),e=he(),n={keyword:"pattern",
type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:s})=>(0,e.str)`must match pattern "${s}"`,params:({schemaCode:s})=>(0,e._)`{pattern: ${s}}`},code(s){const{data:i,$data:o,schema:a,schemaCode:c,it:l}=s,u=l.opts.unicodeRegExp?"u":"",f=o?(0,e._)`(new RegExp(${c}, ${u}))`:(0,t.usePattern)(s,a);s.fail$data((0,e._)`!${f}.test(${i})`)}};return On.default=n,On}var Cn={},Yu;function uy(){if(Yu)return Cn;Yu=1,Object.defineProperty(Cn,"__esModule",{value:!0});const t=he(),r={keyword:[
"maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:s}){const i=n==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${i} than ${s} properties`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:s,data:i,schemaCode:o}=n,a=s==="maxProperties"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`Object.keys(${i}).length ${a} ${o}`)}};return Cn.default=r,Cn}var Pn={},Xu;function ly(){if(Xu)return Pn;Xu=1,Object.
defineProperty(Pn,"__esModule",{value:!0});const t=Qe(),e=he(),r=_e(),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>(0,e.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,e._)`{missingProperty: ${i}}`},code(i){const{gen:o,schema:a,schemaCode:c,data:l,$data:u,it:f}=i,{opts:h}=f;if(!u&&a.length===0)return;const _=a.length>=h.loopRequired;if(f.allErrors?b():y(),h.strictRequired){const p=i.parentSchema.
properties,{definedProperties:m}=i.it;for(const $ of a)if(p?.[$]===void 0&&!m.has($)){const v=f.schemaEnv.baseId+f.errSchemaPath,w=`required property "${$}" is not defined at "${v}" (strictRequired)`;(0,r.checkStrictMode)(f,w,f.opts.strictRequired)}}function b(){if(_||u)i.block$data(e.nil,d);else for(const p of a)(0,t.checkReportMissingProp)(i,p)}function y(){const p=o.let("missing");if(_||u){const m=o.let("valid",!0);i.block$data(m,()=>g(p,m)),i.ok(m)}else o.if((0,t.checkMissingProp)(i,a,p)),(0,t.
reportMissingProp)(i,p),o.else()}function d(){o.forOf("prop",c,p=>{i.setParams({missingProperty:p}),o.if((0,t.noPropertyInData)(o,l,p,h.ownProperties),()=>i.error())})}function g(p,m){i.setParams({missingProperty:p}),o.forOf(p,c,()=>{o.assign(m,(0,t.propertyInData)(o,l,p,h.ownProperties)),o.if((0,e.not)(m),()=>{i.error(),o.break()})},e.nil)}}};return Pn.default=s,Pn}var In={},Ju;function fy(){if(Ju)return In;Ju=1,Object.defineProperty(In,"__esModule",{value:!0});const t=he(),r={keyword:["maxItem\
s","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:s}){const i=n==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${i} than ${s} items`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:s,data:i,schemaCode:o}=n,a=s==="maxItems"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`${i}.length ${a} ${o}`)}};return In.default=r,In}var Tn={},Nn={},Qu;function Ki(){if(Qu)return Nn;Qu=1,Object.defineProperty(Nn,"__esModule",{value:!0});
const t=vu();return t.code='require("ajv/dist/runtime/equal").default',Nn.default=t,Nn}var Zu;function dy(){if(Zu)return Tn;Zu=1,Object.defineProperty(Tn,"__esModule",{value:!0});const t=dn(),e=he(),r=_e(),n=Ki(),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:a}})=>(0,e.str)`must NOT have duplicate items (items ## ${a} and ${o} are identical)`,params:({params:{i:o,j:a}})=>(0,e._)`{i: ${o}, j: ${a}}`},code(o){const{gen:a,data:c,$data:l,schema:u,
parentSchema:f,schemaCode:h,it:_}=o;if(!l&&!u)return;const b=a.let("valid"),y=f.items?(0,t.getSchemaTypes)(f.items):[];o.block$data(b,d,(0,e._)`${h} === false`),o.ok(b);function d(){const $=a.let("i",(0,e._)`${c}.length`),v=a.let("j");o.setParams({i:$,j:v}),a.assign(b,!0),a.if((0,e._)`${$} > 1`,()=>(g()?p:m)($,v))}function g(){return y.length>0&&!y.some($=>$==="object"||$==="array")}function p($,v){const w=a.name("item"),S=(0,t.checkDataTypes)(y,w,_.opts.strictNumbers,t.DataType.Wrong),I=a.const(
"indices",(0,e._)`{}`);a.for((0,e._)`;${$}--;`,()=>{a.let(w,(0,e._)`${c}[${$}]`),a.if(S,(0,e._)`continue`),y.length>1&&a.if((0,e._)`typeof ${w} == "string"`,(0,e._)`${w} += "_"`),a.if((0,e._)`typeof ${I}[${w}] == "number"`,()=>{a.assign(v,(0,e._)`${I}[${w}]`),o.error(),a.assign(b,!1).break()}).code((0,e._)`${I}[${w}] = ${$}`)})}function m($,v){const w=(0,r.useFunc)(a,n.default),S=a.name("outer");a.label(S).for((0,e._)`;${$}--;`,()=>a.for((0,e._)`${v} = ${$}; ${v}--;`,()=>a.if((0,e._)`${w}(${c}[${$}], ${c}[${v}])`,
()=>{o.error(),a.assign(b,!1).break(S)})))}}};return Tn.default=i,Tn}var jn={},el;function hy(){if(el)return jn;el=1,Object.defineProperty(jn,"__esModule",{value:!0});const t=he(),e=_e(),r=Ki(),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>(0,t._)`{allowedValue: ${i}}`},code(i){const{gen:o,data:a,$data:c,schemaCode:l,schema:u}=i;c||u&&typeof u=="object"?i.fail$data((0,t._)`!${(0,e.useFunc)(o,r.default)}(${a}, ${l})`):i.fail((0,t._)`${u} !== ${a}`)}};
return jn.default=s,jn}var Ln={},tl;function py(){if(tl)return Ln;tl=1,Object.defineProperty(Ln,"__esModule",{value:!0});const t=he(),e=_e(),r=Ki(),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,t._)`{allowedValues: ${i}}`},code(i){const{gen:o,data:a,$data:c,schema:l,schemaCode:u,it:f}=i;if(!c&&l.length===0)throw new Error("enum must have non-empty array");const h=l.length>=f.opts.loopEnum;let _;const b=()=>_??
(_=(0,e.useFunc)(o,r.default));let y;if(h||c)y=o.let("valid"),i.block$data(y,d);else{if(!Array.isArray(l))throw new Error("ajv implementation error");const p=o.const("vSchema",u);y=(0,t.or)(...l.map((m,$)=>g(p,$)))}i.pass(y);function d(){o.assign(y,!1),o.forOf("v",u,p=>o.if((0,t._)`${b()}(${a}, ${p})`,()=>o.assign(y,!0).break()))}function g(p,m){const $=l[m];return typeof $=="object"&&$!==null?(0,t._)`${b()}(${a}, ${p}[${m}])`:(0,t._)`${a} === ${$}`}}};return Ln.default=s,Ln}var rl;function nl(){
if(rl)return wn;rl=1,Object.defineProperty(wn,"__esModule",{value:!0});const t=sy(),e=iy(),r=ay(),n=cy(),s=uy(),i=ly(),o=fy(),a=dy(),c=hy(),l=py(),u=[t.default,e.default,r.default,n.default,s.default,i.default,o.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,l.default];return wn.default=u,wn}var kn={},er={},sl;function il(){if(sl)return er;sl=1,Object.defineProperty(er,"__esModule",{value:!0}),er.validateAdditionalItems=void 0;
const t=he(),e=_e(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,t.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,t._)`{limit: ${i}}`},code(i){const{parentSchema:o,it:a}=i,{items:c}=o;if(!Array.isArray(c)){(0,e.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}s(i,c)}};function s(i,o){const{gen:a,schema:c,data:l,keyword:u,it:f}=i;f.items=
!0;const h=a.const("len",(0,t._)`${l}.length`);if(c===!1)i.setParams({len:o.length}),i.pass((0,t._)`${h} <= ${o.length}`);else if(typeof c=="object"&&!(0,e.alwaysValidSchema)(f,c)){const b=a.var("valid",(0,t._)`${h} <= ${o.length}`);a.if((0,t.not)(b),()=>_(b)),i.ok(b)}function _(b){a.forRange("i",o.length,h,y=>{i.subschema({keyword:u,dataProp:y,dataPropType:e.Type.Num},b),f.allErrors||a.if((0,t.not)(b),()=>a.break())})}}return er.validateAdditionalItems=s,er.default=n,er}var Dn={},tr={},ol;function al(){
if(ol)return tr;ol=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.validateTuple=void 0;const t=he(),e=_e(),r=Qe(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:o,it:a}=i;if(Array.isArray(o))return s(i,"additionalItems",o);a.items=!0,!(0,e.alwaysValidSchema)(a,o)&&i.ok((0,r.validateArray)(i))}};function s(i,o,a=i.schema){const{gen:c,parentSchema:l,data:u,keyword:f,it:h}=i;y(l),h.opts.unevaluated&&a.length&&h.items!==!0&&(h.
items=e.mergeEvaluated.items(c,a.length,h.items));const _=c.name("valid"),b=c.const("len",(0,t._)`${u}.length`);a.forEach((d,g)=>{(0,e.alwaysValidSchema)(h,d)||(c.if((0,t._)`${b} > ${g}`,()=>i.subschema({keyword:f,schemaProp:g,dataProp:g},_)),i.ok(_))});function y(d){const{opts:g,errSchemaPath:p}=h,m=a.length,$=m===d.minItems&&(m===d.maxItems||d[o]===!1);if(g.strictTuples&&!$){const v=`"${f}" is ${m}-tuple, but minItems or maxItems/${o} are not specified or different at path "${p}"`;(0,e.checkStrictMode)(
h,v,g.strictTuples)}}}return tr.validateTuple=s,tr.default=n,tr}var cl;function my(){if(cl)return Dn;cl=1,Object.defineProperty(Dn,"__esModule",{value:!0});const t=al(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,t.validateTuple)(r,"items")};return Dn.default=e,Dn}var xn={},ul;function gy(){if(ul)return xn;ul=1,Object.defineProperty(xn,"__esModule",{value:!0});const t=he(),e=_e(),r=Qe(),n=il(),i={keyword:"items",type:"array",schemaType:["object","bo\
olean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,t.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,t._)`{limit: ${o}}`},code(o){const{schema:a,parentSchema:c,it:l}=o,{prefixItems:u}=c;l.items=!0,!(0,e.alwaysValidSchema)(l,a)&&(u?(0,n.validateAdditionalItems)(o,u):o.ok((0,r.validateArray)(o)))}};return xn.default=i,xn}var Mn={},ll;function yy(){if(ll)return Mn;ll=1,Object.defineProperty(Mn,"__esModule",{value:!0});const t=he(),e=_e(),n={keyword:"contains",
type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:s,max:i}})=>i===void 0?(0,t.str)`must contain at least ${s} valid item(s)`:(0,t.str)`must contain at least ${s} and no more than ${i} valid item(s)`,params:({params:{min:s,max:i}})=>i===void 0?(0,t._)`{minContains: ${s}}`:(0,t._)`{minContains: ${s}, maxContains: ${i}}`},code(s){const{gen:i,schema:o,parentSchema:a,data:c,it:l}=s;let u,f;const{minContains:h,maxContains:_}=a;l.opts.next?(u=
h===void 0?1:h,f=_):u=1;const b=i.const("len",(0,t._)`${c}.length`);if(s.setParams({min:u,max:f}),f===void 0&&u===0){(0,e.checkStrictMode)(l,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&u>f){(0,e.checkStrictMode)(l,'"minContains" > "maxContains" is always invalid'),s.fail();return}if((0,e.alwaysValidSchema)(l,o)){let m=(0,t._)`${b} >= ${u}`;f!==void 0&&(m=(0,t._)`${m} && ${b} <= ${f}`),s.pass(m);return}l.items=!0;const y=i.name("valid");f===void 0&&
u===1?g(y,()=>i.if(y,()=>i.break())):u===0?(i.let(y,!0),f!==void 0&&i.if((0,t._)`${c}.length > 0`,d)):(i.let(y,!1),d()),s.result(y,()=>s.reset());function d(){const m=i.name("_valid"),$=i.let("count",0);g(m,()=>i.if(m,()=>p($)))}function g(m,$){i.forRange("i",0,b,v=>{s.subschema({keyword:"contains",dataProp:v,dataPropType:e.Type.Num,compositeRule:!0},m),$()})}function p(m){i.code((0,t._)`${m}++`),f===void 0?i.if((0,t._)`${m} >= ${u}`,()=>i.assign(y,!0).break()):(i.if((0,t._)`${m} > ${f}`,()=>i.assign(
y,!1).break()),u===1?i.assign(y,!0):i.if((0,t._)`${m} >= ${u}`,()=>i.assign(y,!0)))}}};return Mn.default=n,Mn}var Yi={},fl;function Xi(){return fl||(fl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=he(),r=_e(),n=Qe();t.error={message:({params:{property:c,depsCount:l,deps:u}})=>{const f=l===1?"property":"properties";return(0,e.str)`must have ${f} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:l,
deps:u,missingProperty:f}})=>(0,e._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[l,u]=i(c);o(c,l),a(c,u)}};function i({schema:c}){const l={},u={};for(const f in c){if(f==="__proto__")continue;const h=Array.isArray(c[f])?l:u;h[f]=c[f]}return[l,u]}function o(c,l=c.schema){const{gen:u,data:f,it:h}=c;if(Object.keys(l).length===0)return;const _=u.let("missing");for(const b in l){const y=l[b];if(y.length===0)continue;const d=(0,n.propertyInData)(u,f,b,h.opts.ownProperties);
c.setParams({property:b,depsCount:y.length,deps:y.join(", ")}),h.allErrors?u.if(d,()=>{for(const g of y)(0,n.checkReportMissingProp)(c,g)}):(u.if((0,e._)`${d} && (${(0,n.checkMissingProp)(c,y,_)})`),(0,n.reportMissingProp)(c,_),u.else())}}t.validatePropertyDeps=o;function a(c,l=c.schema){const{gen:u,data:f,keyword:h,it:_}=c,b=u.name("valid");for(const y in l)(0,r.alwaysValidSchema)(_,l[y])||(u.if((0,n.propertyInData)(u,f,y,_.opts.ownProperties),()=>{const d=c.subschema({keyword:h,schemaProp:y},b);
c.mergeValidEvaluated(d,b)},()=>u.var(b,!0)),c.ok(b))}t.validateSchemaDeps=a,t.default=s}(Yi)),Yi}var qn={},dl;function _y(){if(dl)return qn;dl=1,Object.defineProperty(qn,"__esModule",{value:!0});const t=he(),e=_e(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:s})=>(0,t._)`{propertyName: ${s.propertyName}}`},code(s){const{gen:i,schema:o,data:a,it:c}=s;if((0,e.alwaysValidSchema)(c,o))return;const l=i.name("va\
lid");i.forIn("key",a,u=>{s.setParams({propertyName:u}),s.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},l),i.if((0,t.not)(l),()=>{s.error(!0),c.allErrors||i.break()})}),s.ok(l)}};return qn.default=n,qn}var Un={},hl;function pl(){if(hl)return Un;hl=1,Object.defineProperty(Un,"__esModule",{value:!0});const t=Qe(),e=he(),r=Xe(),n=_e(),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{
message:"must NOT have additional properties",params:({params:o})=>(0,e._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:a,schema:c,parentSchema:l,data:u,errsCount:f,it:h}=o;if(!f)throw new Error("ajv implementation error");const{allErrors:_,opts:b}=h;if(h.props=!0,b.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(h,c))return;const y=(0,t.allSchemaProperties)(l.properties),d=(0,t.allSchemaProperties)(l.patternProperties);g(),o.ok((0,e._)`${f} === ${r.default.errors}`);function g(){
a.forIn("key",u,w=>{!y.length&&!d.length?$(w):a.if(p(w),()=>$(w))})}function p(w){let S;if(y.length>8){const I=(0,n.schemaRefOrVal)(h,l.properties,"properties");S=(0,t.isOwnProperty)(a,I,w)}else y.length?S=(0,e.or)(...y.map(I=>(0,e._)`${w} === ${I}`)):S=e.nil;return d.length&&(S=(0,e.or)(S,...d.map(I=>(0,e._)`${(0,t.usePattern)(o,I)}.test(${w})`))),(0,e.not)(S)}function m(w){a.code((0,e._)`delete ${u}[${w}]`)}function $(w){if(b.removeAdditional==="all"||b.removeAdditional&&c===!1){m(w);return}if(c===
!1){o.setParams({additionalProperty:w}),o.error(),_||a.break();return}if(typeof c=="object"&&!(0,n.alwaysValidSchema)(h,c)){const S=a.name("valid");b.removeAdditional==="failing"?(v(w,S,!1),a.if((0,e.not)(S),()=>{o.reset(),m(w)})):(v(w,S),_||a.if((0,e.not)(S),()=>a.break()))}}function v(w,S,I){const F={keyword:"additionalProperties",dataProp:w,dataPropType:n.Type.Str};I===!1&&Object.assign(F,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(F,S)}}};return Un.default=i,Un}var Hn={},ml;
function $y(){if(ml)return Hn;ml=1,Object.defineProperty(Hn,"__esModule",{value:!0});const t=Pr(),e=Qe(),r=_e(),n=pl(),s={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:o,schema:a,parentSchema:c,data:l,it:u}=i;u.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&n.default.code(new t.KeywordCxt(u,n.default,"additionalProperties"));const f=(0,e.allSchemaProperties)(a);for(const d of f)u.definedProperties.add(d);u.opts.unevaluated&&f.length&&u.props!==!0&&(u.props=
r.mergeEvaluated.props(o,(0,r.toHash)(f),u.props));const h=f.filter(d=>!(0,r.alwaysValidSchema)(u,a[d]));if(h.length===0)return;const _=o.name("valid");for(const d of h)b(d)?y(d):(o.if((0,e.propertyInData)(o,l,d,u.opts.ownProperties)),y(d),u.allErrors||o.else().var(_,!0),o.endIf()),i.it.definedProperties.add(d),i.ok(_);function b(d){return u.opts.useDefaults&&!u.compositeRule&&a[d].default!==void 0}function y(d){i.subschema({keyword:"properties",schemaProp:d,dataProp:d},_)}}};return Hn.default=s,
Hn}var Fn={},gl;function vy(){if(gl)return Fn;gl=1,Object.defineProperty(Fn,"__esModule",{value:!0});const t=Qe(),e=he(),r=_e(),n=_e(),s={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:o,schema:a,data:c,parentSchema:l,it:u}=i,{opts:f}=u,h=(0,t.allSchemaProperties)(a),_=h.filter($=>(0,r.alwaysValidSchema)(u,a[$]));if(h.length===0||_.length===h.length&&(!u.opts.unevaluated||u.props===!0))return;const b=f.strictSchema&&!f.allowMatchingProperties&&l.properties,y=o.name(
"valid");u.props!==!0&&!(u.props instanceof e.Name)&&(u.props=(0,n.evaluatedPropsToName)(o,u.props));const{props:d}=u;g();function g(){for(const $ of h)b&&p($),u.allErrors?m($):(o.var(y,!0),m($),o.if(y))}function p($){for(const v in b)new RegExp($).test(v)&&(0,r.checkStrictMode)(u,`property ${v} matches pattern ${$} (use allowMatchingProperties)`)}function m($){o.forIn("key",c,v=>{o.if((0,e._)`${(0,t.usePattern)(i,$)}.test(${v})`,()=>{const w=_.includes($);w||i.subschema({keyword:"patternPropert\
ies",schemaProp:$,dataProp:v,dataPropType:n.Type.Str},y),u.opts.unevaluated&&d!==!0?o.assign((0,e._)`${d}[${v}]`,!0):!w&&!u.allErrors&&o.if((0,e.not)(y),()=>o.break())})})}}};return Fn.default=s,Fn}var Vn={},yl;function by(){if(yl)return Vn;yl=1,Object.defineProperty(Vn,"__esModule",{value:!0});const t=_e(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:s,it:i}=r;if((0,t.alwaysValidSchema)(i,s)){r.fail();return}const o=n.name("valid");r.subschema({keyword:"\
not",compositeRule:!0,createErrors:!1,allErrors:!1},o),r.failResult(o,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return Vn.default=e,Vn}var zn={},_l;function wy(){if(_l)return zn;_l=1,Object.defineProperty(zn,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Qe().validateUnion,error:{message:"must match a schema in anyOf"}};return zn.default=e,zn}var Gn={},$l;function Ey(){if($l)return Gn;$l=1,Object.defineProperty(Gn,"__esModule",{value:!0});
const t=he(),e=_e(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:s})=>(0,t._)`{passingSchemas: ${s.passing}}`},code(s){const{gen:i,schema:o,parentSchema:a,it:c}=s;if(!Array.isArray(o))throw new Error("ajv implementation error");if(c.opts.discriminator&&a.discriminator)return;const l=o,u=i.let("valid",!1),f=i.let("passing",null),h=i.name("_valid");s.setParams({passing:f}),i.block(_),s.result(u,()=>s.reset(),()=>s.error(
!0));function _(){l.forEach((b,y)=>{let d;(0,e.alwaysValidSchema)(c,b)?i.var(h,!0):d=s.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},h),y>0&&i.if((0,t._)`${h} && ${u}`).assign(u,!1).assign(f,(0,t._)`[${f}, ${y}]`).else(),i.if(h,()=>{i.assign(u,!0),i.assign(f,y),d&&s.mergeEvaluated(d,t.Name)})})}}};return Gn.default=n,Gn}var Bn={},vl;function Sy(){if(vl)return Bn;vl=1,Object.defineProperty(Bn,"__esModule",{value:!0});const t=_e(),e={keyword:"allOf",schemaType:"array",code(r){const{gen:n,
schema:s,it:i}=r;if(!Array.isArray(s))throw new Error("ajv implementation error");const o=n.name("valid");s.forEach((a,c)=>{if((0,t.alwaysValidSchema)(i,a))return;const l=r.subschema({keyword:"allOf",schemaProp:c},o);r.ok(o),r.mergeEvaluated(l)})}};return Bn.default=e,Bn}var Wn={},bl;function Ry(){if(bl)return Wn;bl=1,Object.defineProperty(Wn,"__esModule",{value:!0});const t=he(),e=_e(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>(0,t.str)`must match "${i.
ifClause}" schema`,params:({params:i})=>(0,t._)`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:o,parentSchema:a,it:c}=i;a.then===void 0&&a.else===void 0&&(0,e.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const l=s(c,"then"),u=s(c,"else");if(!l&&!u)return;const f=o.let("valid",!0),h=o.name("_valid");if(_(),i.reset(),l&&u){const y=o.let("ifClause");i.setParams({ifClause:y}),o.if(h,b("then",y),b("else",y))}else l?o.if(h,b("then")):o.if((0,t.not)(h),b("else"));i.pass(f,()=>i.
error(!0));function _(){const y=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);i.mergeEvaluated(y)}function b(y,d){return()=>{const g=i.subschema({keyword:y},h);o.assign(f,h),i.mergeValidEvaluated(g,f),d?o.assign(d,(0,t._)`${y}`):i.setParams({ifClause:y})}}}};function s(i,o){const a=i.schema[o];return a!==void 0&&!(0,e.alwaysValidSchema)(i,a)}return Wn.default=n,Wn}var Kn={},wl;function Ay(){if(wl)return Kn;wl=1,Object.defineProperty(Kn,"__esModule",{value:!0});const t=_e(),
e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:s}){n.if===void 0&&(0,t.checkStrictMode)(s,`"${r}" without "if" is ignored`)}};return Kn.default=e,Kn}var El;function Sl(){if(El)return kn;El=1,Object.defineProperty(kn,"__esModule",{value:!0});const t=il(),e=my(),r=al(),n=gy(),s=yy(),i=Xi(),o=_y(),a=pl(),c=$y(),l=vy(),u=by(),f=wy(),h=Ey(),_=Sy(),b=Ry(),y=Ay();function d(g=!1){const p=[u.default,f.default,h.default,_.default,b.default,y.default,o.default,
a.default,i.default,c.default,l.default];return g?p.push(e.default,n.default):p.push(t.default,r.default),p.push(s.default),p}return kn.default=d,kn}var Yn={},rr={},Rl;function Al(){if(Rl)return rr;Rl=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.dynamicAnchor=void 0;const t=he(),e=Xe(),r=yn(),n=Wi(),s={keyword:"$dynamicAnchor",schemaType:"string",code:a=>i(a,a.schema)};function i(a,c){const{gen:l,it:u}=a;u.schemaEnv.root.dynamicAnchors[c]=!0;const f=(0,t._)`${e.default.dynamicAnchors}${(0,t.
getProperty)(c)}`,h=u.errSchemaPath==="#"?u.validateName:o(a);l.if((0,t._)`!${f}`,()=>l.assign(f,h))}rr.dynamicAnchor=i;function o(a){const{schemaEnv:c,schema:l,self:u}=a.it,{root:f,baseId:h,localRefs:_,meta:b}=c.root,{schemaId:y}=u.opts,d=new r.SchemaEnv({schema:l,schemaId:y,root:f,baseId:h,localRefs:_,meta:b});return r.compileSchema.call(u,d),(0,n.getValidate)(a,d)}return rr.default=s,rr}var nr={},Ol;function Cl(){if(Ol)return nr;Ol=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.dynamicRef=
void 0;const t=he(),e=Xe(),r=Wi(),n={keyword:"$dynamicRef",schemaType:"string",code:i=>s(i,i.schema)};function s(i,o){const{gen:a,keyword:c,it:l}=i;if(o[0]!=="#")throw new Error(`"${c}" only supports hash fragment reference`);const u=o.slice(1);if(l.allErrors)f();else{const _=a.let("valid",!1);f(_),i.ok(_)}function f(_){if(l.schemaEnv.root.dynamicAnchors[u]){const b=a.let("_v",(0,t._)`${e.default.dynamicAnchors}${(0,t.getProperty)(u)}`);a.if(b,h(b,_),h(l.validateName,_))}else h(l.validateName,_)()}
function h(_,b){return b?()=>a.block(()=>{(0,r.callRef)(i,_),a.let(b,!0)}):()=>(0,r.callRef)(i,_)}}return nr.dynamicRef=s,nr.default=n,nr}var Xn={},Pl;function Oy(){if(Pl)return Xn;Pl=1,Object.defineProperty(Xn,"__esModule",{value:!0});const t=Al(),e=_e(),r={keyword:"$recursiveAnchor",schemaType:"boolean",code(n){n.schema?(0,t.dynamicAnchor)(n,""):(0,e.checkStrictMode)(n.it,"$recursiveAnchor: false is ignored")}};return Xn.default=r,Xn}var Jn={},Il;function Cy(){if(Il)return Jn;Il=1,Object.defineProperty(
Jn,"__esModule",{value:!0});const t=Cl(),e={keyword:"$recursiveRef",schemaType:"string",code:r=>(0,t.dynamicRef)(r,r.schema)};return Jn.default=e,Jn}var Tl;function Py(){if(Tl)return Yn;Tl=1,Object.defineProperty(Yn,"__esModule",{value:!0});const t=Al(),e=Cl(),r=Oy(),n=Cy(),s=[t.default,e.default,r.default,n.default];return Yn.default=s,Yn}var Qn={},Zn={},Nl;function Iy(){if(Nl)return Zn;Nl=1,Object.defineProperty(Zn,"__esModule",{value:!0});const t=Xi(),e={keyword:"dependentRequired",type:"obje\
ct",schemaType:"object",error:t.error,code:r=>(0,t.validatePropertyDeps)(r)};return Zn.default=e,Zn}var es={},jl;function Ty(){if(jl)return es;jl=1,Object.defineProperty(es,"__esModule",{value:!0});const t=Xi(),e={keyword:"dependentSchemas",type:"object",schemaType:"object",code:r=>(0,t.validateSchemaDeps)(r)};return es.default=e,es}var ts={},Ll;function Ny(){if(Ll)return ts;Ll=1,Object.defineProperty(ts,"__esModule",{value:!0});const t=_e(),e={keyword:["maxContains","minContains"],type:"array",
schemaType:"number",code({keyword:r,parentSchema:n,it:s}){n.contains===void 0&&(0,t.checkStrictMode)(s,`"${r}" without "contains" is ignored`)}};return ts.default=e,ts}var kl;function jy(){if(kl)return Qn;kl=1,Object.defineProperty(Qn,"__esModule",{value:!0});const t=Iy(),e=Ty(),r=Ny(),n=[t.default,e.default,r.default];return Qn.default=n,Qn}var rs={},ns={},Dl;function Ly(){if(Dl)return ns;Dl=1,Object.defineProperty(ns,"__esModule",{value:!0});const t=he(),e=_e(),r=Xe(),s={keyword:"unevaluatedPr\
operties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:i})=>(0,t._)`{unevaluatedProperty: ${i.unevaluatedProperty}}`},code(i){const{gen:o,schema:a,data:c,errsCount:l,it:u}=i;if(!l)throw new Error("ajv implementation error");const{allErrors:f,props:h}=u;h instanceof t.Name?o.if((0,t._)`${h} !== true`,()=>o.forIn("key",c,d=>o.if(b(h,d),()=>_(d)))):h!==!0&&o.forIn("key",c,d=>h===void 0?_(d):o.if(y(h,d),()=>_(d))),
u.props=!0,i.ok((0,t._)`${l} === ${r.default.errors}`);function _(d){if(a===!1){i.setParams({unevaluatedProperty:d}),i.error(),f||o.break();return}if(!(0,e.alwaysValidSchema)(u,a)){const g=o.name("valid");i.subschema({keyword:"unevaluatedProperties",dataProp:d,dataPropType:e.Type.Str},g),f||o.if((0,t.not)(g),()=>o.break())}}function b(d,g){return(0,t._)`!${d} || !${d}[${g}]`}function y(d,g){const p=[];for(const m in d)d[m]===!0&&p.push((0,t._)`${g} !== ${m}`);return(0,t.and)(...p)}}};return ns.default=
s,ns}var ss={},xl;function ky(){if(xl)return ss;xl=1,Object.defineProperty(ss,"__esModule",{value:!0});const t=he(),e=_e(),n={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{gen:i,schema:o,data:a,it:c}=s,l=c.items||0;if(l===!0)return;const u=i.const("len",(0,t._)`${a}.length`);if(o===!1)s.setParams({len:l}),s.fail((0,t._)`${u} > ${l}`);else if(typeof o==
"object"&&!(0,e.alwaysValidSchema)(c,o)){const h=i.var("valid",(0,t._)`${u} <= ${l}`);i.if((0,t.not)(h),()=>f(h,l)),s.ok(h)}c.items=!0;function f(h,_){i.forRange("i",_,u,b=>{s.subschema({keyword:"unevaluatedItems",dataProp:b,dataPropType:e.Type.Num},h),c.allErrors||i.if((0,t.not)(h),()=>i.break())})}}};return ss.default=n,ss}var Ml;function Dy(){if(Ml)return rs;Ml=1,Object.defineProperty(rs,"__esModule",{value:!0});const t=Ly(),e=ky(),r=[t.default,e.default];return rs.default=r,rs}var is={},os={},
ql;function xy(){if(ql)return os;ql=1,Object.defineProperty(os,"__esModule",{value:!0});const t=he(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,t._)`{format: ${n}}`},code(n,s){const{gen:i,data:o,$data:a,schema:c,schemaCode:l,it:u}=n,{opts:f,errSchemaPath:h,schemaEnv:_,self:b}=u;if(!f.validateFormats)return;a?y():d();function y(){const g=i.scopeValue("formats",{ref:b.formats,
code:f.code.formats}),p=i.const("fDef",(0,t._)`${g}[${l}]`),m=i.let("fType"),$=i.let("format");i.if((0,t._)`typeof ${p} == "object" && !(${p} instanceof RegExp)`,()=>i.assign(m,(0,t._)`${p}.type || "string"`).assign($,(0,t._)`${p}.validate`),()=>i.assign(m,(0,t._)`"string"`).assign($,p)),n.fail$data((0,t.or)(v(),w()));function v(){return f.strictSchema===!1?t.nil:(0,t._)`${l} && !${$}`}function w(){const S=_.$async?(0,t._)`(${p}.async ? await ${$}(${o}) : ${$}(${o}))`:(0,t._)`${$}(${o})`,I=(0,t.
_)`(typeof ${$} == "function" ? ${S} : ${$}.test(${o}))`;return(0,t._)`${$} && ${$} !== true && ${m} === ${s} && !${I}`}}function d(){const g=b.formats[c];if(!g){v();return}if(g===!0)return;const[p,m,$]=w(g);p===s&&n.pass(S());function v(){if(f.strictSchema===!1){b.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${c}" ignored in schema at path "${h}"`}}function w(I){const F=I instanceof RegExp?(0,t.regexpCode)(I):f.code.formats?(0,t._)`${f.code.formats}${(0,t.getProperty)(
c)}`:void 0,B=i.scopeValue("formats",{key:c,ref:I,code:F});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,t._)`${B}.validate`]:["string",I,B]}function S(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!_.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${o})`}return typeof m=="function"?(0,t._)`${$}(${o})`:(0,t._)`${$}.test(${o})`}}}};return os.default=r,os}var Ul;function Hl(){if(Ul)return is;Ul=1,Object.defineProperty(
is,"__esModule",{value:!0});const e=[xy().default];return is.default=e,is}var Vt={},Fl;function Vl(){return Fl||(Fl=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.contentVocabulary=Vt.metadataVocabulary=void 0,Vt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Vt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Vt}var zl;function My(){if(zl)return $n;zl=1,Object.defineProperty($n,"__esModule",{value:!0});const t=Vu(),
e=nl(),r=Sl(),n=Py(),s=jy(),i=Dy(),o=Hl(),a=Vl(),c=[n.default,t.default,e.default,(0,r.default)(!0),o.default,a.metadataVocabulary,a.contentVocabulary,s.default,i.default];return $n.default=c,$n}var as={},Nr={},Gl;function qy(){if(Gl)return Nr;Gl=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(Nr.DiscrError=t={})),Nr}var Bl;function Wl(){if(Bl)return as;Bl=1,Object.defineProperty(as,"__esModule",{value:!0});const t=he(),
e=qy(),r=yn(),n=Ir(),s=_e(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:c}})=>a===e.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:a,tag:c,tagName:l}})=>(0,t._)`{error: ${a}, tag: ${l}, tagValue: ${c}}`},code(a){const{gen:c,data:l,schema:u,parentSchema:f,it:h}=a,{oneOf:_}=f;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const b=u.
propertyName;if(typeof b!="string")throw new Error("discriminator: requires propertyName");if(u.mapping)throw new Error("discriminator: mapping is not supported");if(!_)throw new Error("discriminator: requires oneOf keyword");const y=c.let("valid",!1),d=c.const("tag",(0,t._)`${l}${(0,t.getProperty)(b)}`);c.if((0,t._)`typeof ${d} == "string"`,()=>g(),()=>a.error(!1,{discrError:e.DiscrError.Tag,tag:d,tagName:b})),a.ok(y);function g(){const $=m();c.if(!1);for(const v in $)c.elseIf((0,t._)`${d} === ${v}`),
c.assign(y,p($[v]));c.else(),a.error(!1,{discrError:e.DiscrError.Mapping,tag:d,tagName:b}),c.endIf()}function p($){const v=c.name("valid"),w=a.subschema({keyword:"oneOf",schemaProp:$},v);return a.mergeEvaluated(w,t.Name),v}function m(){var $;const v={},w=I(f);let S=!0;for(let k=0;k<_.length;k++){let M=_[k];if(M?.$ref&&!(0,s.schemaHasRulesButRef)(M,h.self.RULES)){const D=M.$ref;if(M=r.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,D),M instanceof r.SchemaEnv&&(M=M.schema),M===void 0)throw new n.
default(h.opts.uriResolver,h.baseId,D)}const j=($=M?.properties)===null||$===void 0?void 0:$[b];if(typeof j!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${b}"`);S=S&&(w||I(M)),F(j,k)}if(!S)throw new Error(`discriminator: "${b}" must be required`);return v;function I({required:k}){return Array.isArray(k)&&k.includes(b)}function F(k,M){if(k.const)B(k.const,M);else if(k.enum)for(const j of k.enum)B(j,M);else throw new Error(`discriminator:\
 "properties/${b}" must have "const" or "enum"`)}function B(k,M){if(typeof k!="string"||k in v)throw new Error(`discriminator: "${b}" values must be unique strings`);v[k]=M}}}};return as.default=o,as}var cs={};const Kl="https://json-schema.org/draft/2020-12/schema",Yl="https://json-schema.org/draft/2020-12/schema",Xl={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"http\
s://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},Jl="meta",Ql="Core and Validation specifications meta-schema",Zl=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],ef=["object","boolean"],
tf="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",rf={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{
anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},Uy={$schema:Kl,$id:Yl,$vocabulary:Xl,$dynamicAnchor:Jl,title:Ql,allOf:Zl,type:ef,$comment:tf,properties:rf},Hy={__proto__:null,
$comment:tf,$dynamicAnchor:Jl,$id:Yl,$schema:Kl,$vocabulary:Xl,allOf:Zl,default:Uy,properties:rf,title:Ql,type:ef},Fy=nt(Hy),nf="https://json-schema.org/draft/2020-12/schema",sf="https://json-schema.org/draft/2020-12/meta/applicator",of={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},af="meta",cf="Applicator vocabulary meta-schema",uf=["object","boolean"],lf={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"\
#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs\
/schemaArray"},not:{$dynamicRef:"#meta"}},ff={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},Vy={$schema:nf,$id:sf,$vocabulary:of,$dynamicAnchor:af,title:cf,type:uf,properties:lf,$defs:ff},zy={__proto__:null,$defs:ff,$dynamicAnchor:af,$id:sf,$schema:nf,$vocabulary:of,default:Vy,properties:lf,title:cf,type:uf},Gy=nt(zy),df="https://json-schema.org/draft/2020-12/schema",hf="https://json-schema.org/draft/2020-12/meta/unevaluated",pf={"https://json-schema.org/draft/2020-12/vocab/\
unevaluated":!0},mf="meta",gf="Unevaluated applicator vocabulary meta-schema",yf=["object","boolean"],_f={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},By={$schema:df,$id:hf,$vocabulary:pf,$dynamicAnchor:mf,title:gf,type:yf,properties:_f},Wy={__proto__:null,$dynamicAnchor:mf,$id:hf,$schema:df,$vocabulary:pf,default:By,properties:_f,title:gf,type:yf},Ky=nt(Wy),$f="https://json-schema.org/draft/2020-12/schema",vf="https://json-schema.org/draft/2020-12/meta/con\
tent",bf={"https://json-schema.org/draft/2020-12/vocab/content":!0},wf="meta",Ef="Content vocabulary meta-schema",Sf=["object","boolean"],Rf={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},Yy={$schema:$f,$id:vf,$vocabulary:bf,$dynamicAnchor:wf,title:Ef,type:Sf,properties:Rf},Xy={__proto__:null,$dynamicAnchor:wf,$id:vf,$schema:$f,$vocabulary:bf,default:Yy,properties:Rf,title:Ef,type:Sf},Jy=nt(Xy),Af="https://json-schema.org/draft/2020-12/sche\
ma",Of="https://json-schema.org/draft/2020-12/meta/core",Cf={"https://json-schema.org/draft/2020-12/vocab/core":!0},Pf="meta",If="Core vocabulary meta-schema",Tf=["object","boolean"],Nf={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{
type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},jf={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},Qy={$schema:Af,$id:Of,$vocabulary:Cf,$dynamicAnchor:Pf,title:If,type:Tf,properties:Nf,$defs:jf},Zy={__proto__:null,$defs:jf,$dynamicAnchor:Pf,$id:Of,
$schema:Af,$vocabulary:Cf,default:Qy,properties:Nf,title:If,type:Tf},e_=nt(Zy),Lf="https://json-schema.org/draft/2020-12/schema",kf="https://json-schema.org/draft/2020-12/meta/format-annotation",Df={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},xf="meta",Mf="Format vocabulary meta-schema for annotation results",qf=["object","boolean"],Uf={format:{type:"string"}},t_={$schema:Lf,$id:kf,$vocabulary:Df,$dynamicAnchor:xf,title:Mf,type:qf,properties:Uf},r_={__proto__:null,$dynamicAnchor:xf,
$id:kf,$schema:Lf,$vocabulary:Df,default:t_,properties:Uf,title:Mf,type:qf},n_=nt(r_),Hf="https://json-schema.org/draft/2020-12/schema",Ff="https://json-schema.org/draft/2020-12/meta/meta-data",Vf={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},zf="meta",Gf="Meta-data vocabulary meta-schema",Bf=["object","boolean"],Wf={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},
examples:{type:"array",items:!0}},s_={$schema:Hf,$id:Ff,$vocabulary:Vf,$dynamicAnchor:zf,title:Gf,type:Bf,properties:Wf},i_={__proto__:null,$dynamicAnchor:zf,$id:Ff,$schema:Hf,$vocabulary:Vf,default:s_,properties:Wf,title:Gf,type:Bf},o_=nt(i_),Kf="https://json-schema.org/draft/2020-12/schema",Yf="https://json-schema.org/draft/2020-12/meta/validation",Xf={"https://json-schema.org/draft/2020-12/vocab/validation":!0},Jf="meta",Qf="Validation vocabulary meta-schema",Zf=["object","boolean"],ed={type:{
anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{
$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},td={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"\
#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},a_={$schema:Kf,$id:Yf,$vocabulary:Xf,$dynamicAnchor:Jf,title:Qf,type:Zf,properties:ed,$defs:td},c_={__proto__:null,$defs:td,$dynamicAnchor:Jf,$id:Yf,$schema:Kf,$vocabulary:Xf,default:a_,properties:ed,title:Qf,type:Zf},u_=nt(c_);var rd;function l_(){if(rd)return cs;rd=1,Object.defineProperty(cs,"__esMo\
dule",{value:!0});const t=Fy,e=Gy,r=Ky,n=Jy,s=e_,i=n_,o=o_,a=u_,c=["/properties"];function l(u){return[t,e,r,n,s,f(this,i),o,f(this,a)].forEach(h=>this.addMetaSchema(h,void 0,!1)),this;function f(h,_){return u?h.$dataMetaSchema(_,c):_}}return cs.default=l,cs}var nd;function f_(){return nd||(nd=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv2020=void 0;const r=qu(),n=My(),s=Wl(),i=l_(),
o="https://json-schema.org/draft/2020-12/schema";class a extends r.default{constructor(_={}){super({..._,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:_,meta:b}=this.opts;b&&(i.default.call(this,_),this.refs["http://json-schema.org/schema"]=o)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||
(this.getSchema(o)?o:void 0)}}e.Ajv2020=a,t.exports=e=a,t.exports.Ajv2020=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var c=Pr();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var l=he();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(
e,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var u=mn();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return u.default}});var f=Ir();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return f.default}})}(cn,cn.exports)),cn.exports}var d_=f_(),us={exports:{}},Ji={},sd;function h_(){
return sd||(sd=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(k,M){return{validate:k,compare:M}}t.fullFormats={date:e(i,o),time:e(c(!0),l),"date-time":e(h(!0),_),"iso-time":e(c(),u),"iso-date-time":e(h(),b),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:g,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,
"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,
email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,
regex:B,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:w},int64:{type:"number",validate:S},float:{type:"number",validate:I},double:{type:"number",validate:I},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,
o),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,l),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,_),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,b),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,
email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(k){return k%4===0&&(k%100!==0||k%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(k){const M=n.exec(k);if(!M)return!1;const j=+M[1],D=+M[2],U=+M[3];return D>=1&&D<=12&&U>=1&&U<=(D===2&&r(j)?29:s[D])}function o(k,M){if(k&&M)return k>M?1:k<M?-1:0}const a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;
function c(k){return function(j){const D=a.exec(j);if(!D)return!1;const U=+D[1],Y=+D[2],G=+D[3],J=D[4],se=D[5]==="-"?-1:1,H=+(D[6]||0),A=+(D[7]||0);if(H>23||A>59||k&&!J)return!1;if(U<=23&&Y<=59&&G<60)return!0;const V=Y-A*se,x=U-H*se-(V<0?1:0);return(x===23||x===-1)&&(V===59||V===-1)&&G<61}}function l(k,M){if(!(k&&M))return;const j=new Date("2020-01-01T"+k).valueOf(),D=new Date("2020-01-01T"+M).valueOf();if(j&&D)return j-D}function u(k,M){if(!(k&&M))return;const j=a.exec(k),D=a.exec(M);if(j&&D)return k=
j[1]+j[2]+j[3],M=D[1]+D[2]+D[3],k>M?1:k<M?-1:0}const f=/t|\s/i;function h(k){const M=c(k);return function(D){const U=D.split(f);return U.length===2&&i(U[0])&&M(U[1])}}function _(k,M){if(!(k&&M))return;const j=new Date(k).valueOf(),D=new Date(M).valueOf();if(j&&D)return j-D}function b(k,M){if(!(k&&M))return;const[j,D]=k.split(f),[U,Y]=M.split(f),G=o(j,U);if(G!==void 0)return G||l(D,Y)}const y=/\/|:/,d=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;
function g(k){return y.test(k)&&d.test(k)}const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(k){return p.lastIndex=0,p.test(k)}const $=-2147483648,v=2**31-1;function w(k){return Number.isInteger(k)&&k<=v&&k>=$}function S(k){return Number.isInteger(k)}function I(){return!0}const F=/[^\\]\\Z/;function B(k){if(F.test(k))return!1;try{return new RegExp(k),!0}catch{return!1}}}(Ji)),Ji}var Qi={},ls={exports:{}},fs={},id;function p_(){if(id)return fs;id=1,Object.defineProperty(
fs,"__esModule",{value:!0});const t=Vu(),e=nl(),r=Sl(),n=Hl(),s=Vl(),i=[t.default,e.default,(0,r.default)(),n.default,s.metadataVocabulary,s.contentVocabulary];return fs.default=i,fs}const od="http://json-schema.org/draft-07/schema#",ad="http://json-schema.org/draft-07/schema#",cd="Core schema meta-schema",ud={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},
simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ld=["object","boolean"],fd={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},
maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolea\
n",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"\
object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/def\
initions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},m_={$schema:od,$id:ad,title:cd,definitions:ud,type:ld,properties:fd,default:!0},g_={__proto__:null,$id:ad,$schema:od,default:m_,definitions:ud,properties:fd,title:cd,type:ld},y_=nt(g_);var dd;function __(){return dd||(dd=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=qu(),n=p_(),s=Wl(),
i=y_,o=["/properties"],a="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(b,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||
(this.getSchema(a)?a:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var l=Pr();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var u=he();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,
"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=mn();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=Ir();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}(ls,ls.exports)),ls.exports}var hd;function $_(){return hd||(hd=1,function(t){Object.
defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=__(),r=he(),n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},i={message:({keyword:a,schemaCode:c})=>(0,r.str)`should be ${s[a].okStr} ${c}`,params:({keyword:a,schemaCode:c})=>(0,r._)`{comparison: ${s[a].okStr}, limit: ${c}}`};t.formatLimitDefinition=
{keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:i,code(a){const{gen:c,data:l,schemaCode:u,keyword:f,it:h}=a,{opts:_,self:b}=h;if(!_.validateFormats)return;const y=new e.KeywordCxt(h,b.RULES.all.format.definition,"format");y.$data?d():g();function d(){const m=c.scopeValue("formats",{ref:b.formats,code:_.code.formats}),$=c.const("fmt",(0,r._)`${m}[${y.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${$} != "object"`,(0,r._)`${$} instanceof RegExp`,(0,r._)`typeof ${$}.compare != "function"`,
p($)))}function g(){const m=y.schema,$=b.formats[m];if(!$||$===!0)return;if(typeof $!="object"||$ instanceof RegExp||typeof $.compare!="function")throw new Error(`"${f}": format "${m}" does not define "compare" function`);const v=c.scopeValue("formats",{key:m,ref:$,code:_.code.formats?(0,r._)`${_.code.formats}${(0,r.getProperty)(m)}`:void 0});a.fail$data(p(v))}function p(m){return(0,r._)`${m}.compare(${l}, ${u}) ${s[f].fail} 0`}},dependencies:["format"]};const o=a=>(a.addKeyword(t.formatLimitDefinition),
a);t.default=o}(Qi)),Qi}var pd;function v_(){return pd||(pd=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=h_(),n=$_(),s=he(),i=new s.Name("fullFormats"),o=new s.Name("fastFormats"),a=(l,u={keywords:!0})=>{if(Array.isArray(u))return c(l,u,r.fullFormats,i),l;const[f,h]=u.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,i],_=u.formats||r.formatNames;return c(l,_,f,h),u.keywords&&(0,n.default)(l),l};a.get=(l,u="full")=>{const h=(u==="fast"?r.fastFormats:r.fullFormats)[l];if(!h)
throw new Error(`Unknown format "${l}"`);return h};function c(l,u,f,h){var _,b;(_=(b=l.opts.code).formats)!==null&&_!==void 0||(b.formats=(0,s._)`require("ajv-formats/dist/formats").${h}`);for(const y of u)l.addFormat(y,f[y])}t.exports=e=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}(us,us.exports)),us.exports}var b_=v_();const w_=Dr(b_),E_=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(t,r),i=Object.getOwnPropertyDescriptor(
e,r);!S_(s,i)&&n||Object.defineProperty(t,r,i)},S_=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},R_=(t,e)=>{const r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},A_=(t,e)=>`/* Wrapped ${t}*/
${e}`,O_=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),C_=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),P_=(t,e,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=A_.bind(null,n,e.toString());Object.defineProperty(s,"name",C_);const{writable:i,enumerable:o,configurable:a}=O_;Object.defineProperty(t,"toString",{value:s,writable:i,enumerable:o,configurable:a})};function I_(t,e,{ignoreNonConfigurable:r=!1}={}){const{name:n}=t;for(const s of Reflect.ownKeys(e))E_(t,
e,s,r);return R_(t,e),P_(t,e,n),t}const md=(t,e={})=>{if(typeof t!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof t}\``);const{wait:r=0,maxWait:n=Number.POSITIVE_INFINITY,before:s=!1,after:i=!0}=e;if(r<0||n<0)throw new RangeError("`wait` and `maxWait` must not be negative.");if(!s&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,a,c;const l=function(...u){const f=this,h=()=>{o=void 0,a&&(clearTimeout(a),a=
void 0),i&&(c=t.apply(f,u))},_=()=>{a=void 0,o&&(clearTimeout(o),o=void 0),i&&(c=t.apply(f,u))},b=s&&!o;return clearTimeout(o),o=setTimeout(h,r),n>0&&n!==Number.POSITIVE_INFINITY&&!a&&(a=setTimeout(_,n)),b&&(c=t.apply(f,u)),c};return I_(l,t),l.cancel=()=>{o&&(clearTimeout(o),o=void 0),a&&(clearTimeout(a),a=void 0)},l};var ds={exports:{}},Zi,gd;function hs(){if(gd)return Zi;gd=1;const t="2.0.0",e=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,s=e-6;return Zi={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:n,
MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Zi}var eo,yd;function ps(){return yd||(yd=1,eo=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{}),eo}var _d;function jr(){return _d||(_d=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,
MAX_LENGTH:s}=hs(),i=ps();e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],l=e.safeSrc=[],u=e.t={};let f=0;const h="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",s],[h,n]],b=d=>{for(const[g,p]of _)d=d.split(`${g}*`).join(`${g}{0,${p}}`).split(`${g}+`).join(`${g}{1,${p}}`);return d},y=(d,g,p)=>{const m=b(g),$=f++;i(d,$,g),u[d]=$,c[$]=g,l[$]=m,o[$]=new RegExp(g,p?"g":void 0),a[$]=new RegExp(m,p?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",
`\\d*[a-zA-Z-]${h}*`),y("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),y("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.
PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${h}+`),y("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),y("FULL",`^${c[u.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),y("LOOSE",`^${c[u.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRAN\
GEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),y("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}\
$`),y("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),y("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",c[u.COERCE],!0),y("COERCERTLFULL",c[u.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",y("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}\
$`),y("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",y("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace=
"$1$2$3",y("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(ds,ds.exports)),ds.exports}var to,$d;function ro(){if($d)return to;$d=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return to=n=>n?typeof n!="object"?t:n:e,to}var no,vd;function bd(){if(vd)return no;
vd=1;const t=/^[0-9]+$/,e=(n,s)=>{const i=t.test(n),o=t.test(s);return i&&o&&(n=+n,s=+s),n===s?0:i&&!o?-1:o&&!i?1:n<s?-1:1};return no={compareIdentifiers:e,rcompareIdentifiers:(n,s)=>e(s,n)},no}var so,wd;function Le(){if(wd)return so;wd=1;const t=ps(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:r}=hs(),{safeRe:n,safeSrc:s,t:i}=jr(),o=ro(),{compareIdentifiers:a}=bd();class c{constructor(u,f){if(f=o(f),u instanceof c){if(u.loose===!!f.loose&&u.includePrerelease===!!f.includePrerelease)return u;u=u.version}else if(typeof u!=
"string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",u,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const h=u.trim().match(f.loose?n[i.LOOSE]:n[i.FULL]);if(!h)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+h[1],this.minor=+h[2],this.patch=+h[3],this.major>r||this.major<0)throw new TypeError("Invalid major versi\
on");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");h[4]?this.prerelease=h[4].split(".").map(_=>{if(/^[0-9]+$/.test(_)){const b=+_;if(b>=0&&b<r)return b}return _}):this.prerelease=[],this.build=h[5]?h[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){
return this.version}compare(u){if(t("SemVer.compare",this.version,this.options,u),!(u instanceof c)){if(typeof u=="string"&&u===this.version)return 0;u=new c(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof c||(u=new c(u,this.options)),a(this.major,u.major)||a(this.minor,u.minor)||a(this.patch,u.patch)}comparePre(u){if(u instanceof c||(u=new c(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.
prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let f=0;do{const h=this.prerelease[f],_=u.prerelease[f];if(t("prerelease compare",f,h,_),h===void 0&&_===void 0)return 0;if(_===void 0)return 1;if(h===void 0)return-1;if(h===_)continue;return a(h,_)}while(++f)}compareBuild(u){u instanceof c||(u=new c(u,this.options));let f=0;do{const h=this.build[f],_=u.build[f];if(t("build compare",f,h,_),h===void 0&&_===void 0)return 0;if(_===void 0)return 1;
if(h===void 0)return-1;if(h===_)continue;return a(h,_)}while(++f)}inc(u,f,h){if(u.startsWith("pre")){if(!f&&h===!1)throw new Error("invalid increment argument: identifier is empty");if(f){const _=new RegExp(`^${this.options.loose?s[i.PRERELEASELOOSE]:s[i.PRERELEASE]}$`),b=`-${f}`.match(_);if(!b||b[1]!==f)throw new Error(`invalid identifier: ${f}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,h);break;case"preminor":this.prerelease.length=
0,this.patch=0,this.minor++,this.inc("pre",f,h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,h),this.inc("pre",f,h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,h),this.inc("pre",f,h);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];
break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const _=Number(h)?1:0;if(this.prerelease.length===0)this.prerelease=[_];else{let b=this.prerelease.length;for(;--b>=0;)typeof this.prerelease[b]=="number"&&(this.prerelease[b]++,b=-2);if(b===-1){if(f===this.prerelease.join(".")&&h===!1)throw new Error("invalid increment argument: identifier alre\
ady exists");this.prerelease.push(_)}}if(f){let b=[f,_];h===!1&&(b=[f]),a(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=b):this.prerelease=b}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return so=c,so}var io,Ed;function sr(){if(Ed)return io;Ed=1;const t=Le();return io=(r,n,s=!1)=>{if(r instanceof t)return r;try{return new t(r,n)}catch(i){if(!s)return null;throw i}},
io}var oo,Sd;function T_(){if(Sd)return oo;Sd=1;const t=sr();return oo=(r,n)=>{const s=t(r,n);return s?s.version:null},oo}var ao,Rd;function N_(){if(Rd)return ao;Rd=1;const t=sr();return ao=(r,n)=>{const s=t(r.trim().replace(/^[=v]+/,""),n);return s?s.version:null},ao}var co,Ad;function j_(){if(Ad)return co;Ad=1;const t=Le();return co=(r,n,s,i,o)=>{typeof s=="string"&&(o=i,i=s,s=void 0);try{return new t(r instanceof t?r.version:r,s).inc(n,i,o).version}catch{return null}},co}var uo,Od;function L_(){
if(Od)return uo;Od=1;const t=sr();return uo=(r,n)=>{const s=t(r,null,!0),i=t(n,null,!0),o=s.compare(i);if(o===0)return null;const a=o>0,c=a?s:i,l=a?i:s,u=!!c.prerelease.length;if(!!l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(l.compareMain(c)===0)return l.minor&&!l.patch?"minor":"patch"}const h=u?"pre":"";return s.major!==i.major?h+"major":s.minor!==i.minor?h+"minor":s.patch!==i.patch?h+"patch":"prerelease"},uo}var lo,Cd;function k_(){if(Cd)return lo;Cd=1;const t=Le();return lo=
(r,n)=>new t(r,n).major,lo}var fo,Pd;function D_(){if(Pd)return fo;Pd=1;const t=Le();return fo=(r,n)=>new t(r,n).minor,fo}var ho,Id;function x_(){if(Id)return ho;Id=1;const t=Le();return ho=(r,n)=>new t(r,n).patch,ho}var po,Td;function M_(){if(Td)return po;Td=1;const t=sr();return po=(r,n)=>{const s=t(r,n);return s&&s.prerelease.length?s.prerelease:null},po}var mo,Nd;function Ze(){if(Nd)return mo;Nd=1;const t=Le();return mo=(r,n,s)=>new t(r,s).compare(new t(n,s)),mo}var go,jd;function q_(){if(jd)
return go;jd=1;const t=Ze();return go=(r,n,s)=>t(n,r,s),go}var yo,Ld;function U_(){if(Ld)return yo;Ld=1;const t=Ze();return yo=(r,n)=>t(r,n,!0),yo}var _o,kd;function $o(){if(kd)return _o;kd=1;const t=Le();return _o=(r,n,s)=>{const i=new t(r,s),o=new t(n,s);return i.compare(o)||i.compareBuild(o)},_o}var vo,Dd;function H_(){if(Dd)return vo;Dd=1;const t=$o();return vo=(r,n)=>r.sort((s,i)=>t(s,i,n)),vo}var bo,xd;function F_(){if(xd)return bo;xd=1;const t=$o();return bo=(r,n)=>r.sort((s,i)=>t(i,s,n)),
bo}var wo,Md;function ms(){if(Md)return wo;Md=1;const t=Ze();return wo=(r,n,s)=>t(r,n,s)>0,wo}var Eo,qd;function So(){if(qd)return Eo;qd=1;const t=Ze();return Eo=(r,n,s)=>t(r,n,s)<0,Eo}var Ro,Ud;function Hd(){if(Ud)return Ro;Ud=1;const t=Ze();return Ro=(r,n,s)=>t(r,n,s)===0,Ro}var Ao,Fd;function Vd(){if(Fd)return Ao;Fd=1;const t=Ze();return Ao=(r,n,s)=>t(r,n,s)!==0,Ao}var Oo,zd;function Co(){if(zd)return Oo;zd=1;const t=Ze();return Oo=(r,n,s)=>t(r,n,s)>=0,Oo}var Po,Gd;function Io(){if(Gd)return Po;
Gd=1;const t=Ze();return Po=(r,n,s)=>t(r,n,s)<=0,Po}var To,Bd;function Wd(){if(Bd)return To;Bd=1;const t=Hd(),e=Vd(),r=ms(),n=Co(),s=So(),i=Io();return To=(a,c,l,u)=>{switch(c){case"===":return typeof a=="object"&&(a=a.version),typeof l=="object"&&(l=l.version),a===l;case"!==":return typeof a=="object"&&(a=a.version),typeof l=="object"&&(l=l.version),a!==l;case"":case"=":case"==":return t(a,l,u);case"!=":return e(a,l,u);case">":return r(a,l,u);case">=":return n(a,l,u);case"<":return s(a,l,u);case"\
<=":return i(a,l,u);default:throw new TypeError(`Invalid operator: ${c}`)}},To}var No,Kd;function V_(){if(Kd)return No;Kd=1;const t=Le(),e=sr(),{safeRe:r,t:n}=jr();return No=(i,o)=>{if(i instanceof t)return i;if(typeof i=="number"&&(i=String(i)),typeof i!="string")return null;o=o||{};let a=null;if(!o.rtl)a=i.match(o.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);else{const _=o.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let b;for(;(b=_.exec(i))&&(!a||a.index+a[0].length!==i.length);)(!a||
b.index+b[0].length!==a.index+a[0].length)&&(a=b),_.lastIndex=b.index+b[1].length+b[2].length;_.lastIndex=-1}if(a===null)return null;const c=a[2],l=a[3]||"0",u=a[4]||"0",f=o.includePrerelease&&a[5]?`-${a[5]}`:"",h=o.includePrerelease&&a[6]?`+${a[6]}`:"";return e(`${c}.${l}.${u}${f}${h}`,o)},No}var jo,Yd;function z_(){if(Yd)return jo;Yd=1;class t{constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.
map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(r,n)}return this}}return jo=t,jo}var Lo,Xd;function et(){if(Xd)return Lo;Xd=1;const t=/\s+/g;class e{constructor(U,Y){if(Y=s(Y),U instanceof e)return U.loose===!!Y.loose&&U.includePrerelease===!!Y.includePrerelease?U:new e(U.raw,Y);if(U instanceof i)return this.raw=U.value,this.set=[[U]],this.formatted=void 0,this;if(this.options=Y,this.loose=!!Y.loose,
this.includePrerelease=!!Y.includePrerelease,this.raw=U.trim().replace(t," "),this.set=this.raw.split("||").map(G=>this.parseRange(G.trim())).filter(G=>G.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const G=this.set[0];if(this.set=this.set.filter(J=>!y(J[0])),this.set.length===0)this.set=[G];else if(this.set.length>1){for(const J of this.set)if(J.length===1&&d(J[0])){this.set=[J];break}}}this.formatted=void 0}get range(){if(this.formatted===
void 0){this.formatted="";for(let U=0;U<this.set.length;U++){U>0&&(this.formatted+="||");const Y=this.set[U];for(let G=0;G<Y.length;G++)G>0&&(this.formatted+=" "),this.formatted+=Y[G].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(U){const G=((this.options.includePrerelease&&_)|(this.options.loose&&b))+":"+U,J=n.get(G);if(J)return J;const se=this.options.loose,H=se?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];U=U.replace(H,M(this.options.includePrerelease)),
o("hyphen replace",U),U=U.replace(c[l.COMPARATORTRIM],u),o("comparator trim",U),U=U.replace(c[l.TILDETRIM],f),o("tilde trim",U),U=U.replace(c[l.CARETTRIM],h),o("caret trim",U);let A=U.split(" ").map(R=>p(R,this.options)).join(" ").split(/\s+/).map(R=>k(R,this.options));se&&(A=A.filter(R=>(o("loose invalid filter",R,this.options),!!R.match(c[l.COMPARATORLOOSE])))),o("range list",A);const V=new Map,x=A.map(R=>new i(R,this.options));for(const R of x){if(y(R))return[R];V.set(R.value,R)}V.size>1&&V.has(
"")&&V.delete("");const E=[...V.values()];return n.set(G,E),E}intersects(U,Y){if(!(U instanceof e))throw new TypeError("a Range is required");return this.set.some(G=>g(G,Y)&&U.set.some(J=>g(J,Y)&&G.every(se=>J.every(H=>se.intersects(H,Y)))))}test(U){if(!U)return!1;if(typeof U=="string")try{U=new a(U,this.options)}catch{return!1}for(let Y=0;Y<this.set.length;Y++)if(j(this.set[Y],U,this.options))return!0;return!1}}Lo=e;const r=z_(),n=new r,s=ro(),i=gs(),o=ps(),a=Le(),{safeRe:c,t:l,comparatorTrimReplace:u,
tildeTrimReplace:f,caretTrimReplace:h}=jr(),{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:b}=hs(),y=D=>D.value==="<0.0.0-0",d=D=>D.value==="",g=(D,U)=>{let Y=!0;const G=D.slice();let J=G.pop();for(;Y&&G.length;)Y=G.every(se=>J.intersects(se,U)),J=G.pop();return Y},p=(D,U)=>(o("comp",D,U),D=w(D,U),o("caret",D),D=$(D,U),o("tildes",D),D=I(D,U),o("xrange",D),D=B(D,U),o("stars",D),D),m=D=>!D||D.toLowerCase()==="x"||D==="*",$=(D,U)=>D.trim().split(/\s+/).map(Y=>v(Y,U)).join(" "),v=(D,U)=>{const Y=U.loose?c[l.
TILDELOOSE]:c[l.TILDE];return D.replace(Y,(G,J,se,H,A)=>{o("tilde",D,G,J,se,H,A);let V;return m(J)?V="":m(se)?V=`>=${J}.0.0 <${+J+1}.0.0-0`:m(H)?V=`>=${J}.${se}.0 <${J}.${+se+1}.0-0`:A?(o("replaceTilde pr",A),V=`>=${J}.${se}.${H}-${A} <${J}.${+se+1}.0-0`):V=`>=${J}.${se}.${H} <${J}.${+se+1}.0-0`,o("tilde return",V),V})},w=(D,U)=>D.trim().split(/\s+/).map(Y=>S(Y,U)).join(" "),S=(D,U)=>{o("caret",D,U);const Y=U.loose?c[l.CARETLOOSE]:c[l.CARET],G=U.includePrerelease?"-0":"";return D.replace(Y,(J,se,H,A,V)=>{
o("caret",D,J,se,H,A,V);let x;return m(se)?x="":m(H)?x=`>=${se}.0.0${G} <${+se+1}.0.0-0`:m(A)?se==="0"?x=`>=${se}.${H}.0${G} <${se}.${+H+1}.0-0`:x=`>=${se}.${H}.0${G} <${+se+1}.0.0-0`:V?(o("replaceCaret pr",V),se==="0"?H==="0"?x=`>=${se}.${H}.${A}-${V} <${se}.${H}.${+A+1}-0`:x=`>=${se}.${H}.${A}-${V} <${se}.${+H+1}.0-0`:x=`>=${se}.${H}.${A}-${V} <${+se+1}.0.0-0`):(o("no pr"),se==="0"?H==="0"?x=`>=${se}.${H}.${A}${G} <${se}.${H}.${+A+1}-0`:x=`>=${se}.${H}.${A}${G} <${se}.${+H+1}.0-0`:x=`>=${se}.${H}\
.${A} <${+se+1}.0.0-0`),o("caret return",x),x})},I=(D,U)=>(o("replaceXRanges",D,U),D.split(/\s+/).map(Y=>F(Y,U)).join(" ")),F=(D,U)=>{D=D.trim();const Y=U.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return D.replace(Y,(G,J,se,H,A,V)=>{o("xRange",D,G,J,se,H,A,V);const x=m(se),E=x||m(H),R=E||m(A),C=R;return J==="="&&C&&(J=""),V=U.includePrerelease?"-0":"",x?J===">"||J==="<"?G="<0.0.0-0":G="*":J&&C?(E&&(H=0),A=0,J===">"?(J=">=",E?(se=+se+1,H=0,A=0):(H=+H+1,A=0)):J==="<="&&(J="<",E?se=+se+1:H=+H+1),J==="<"&&
(V="-0"),G=`${J+se}.${H}.${A}${V}`):E?G=`>=${se}.0.0${V} <${+se+1}.0.0-0`:R&&(G=`>=${se}.${H}.0${V} <${se}.${+H+1}.0-0`),o("xRange return",G),G})},B=(D,U)=>(o("replaceStars",D,U),D.trim().replace(c[l.STAR],"")),k=(D,U)=>(o("replaceGTE0",D,U),D.trim().replace(c[U.includePrerelease?l.GTE0PRE:l.GTE0],"")),M=D=>(U,Y,G,J,se,H,A,V,x,E,R,C)=>(m(G)?Y="":m(J)?Y=`>=${G}.0.0${D?"-0":""}`:m(se)?Y=`>=${G}.${J}.0${D?"-0":""}`:H?Y=`>=${Y}`:Y=`>=${Y}${D?"-0":""}`,m(x)?V="":m(E)?V=`<${+x+1}.0.0-0`:m(R)?V=`<${x}.${+E+
1}.0-0`:C?V=`<=${x}.${E}.${R}-${C}`:D?V=`<${x}.${E}.${+R+1}-0`:V=`<=${V}`,`${Y} ${V}`.trim()),j=(D,U,Y)=>{for(let G=0;G<D.length;G++)if(!D[G].test(U))return!1;if(U.prerelease.length&&!Y.includePrerelease){for(let G=0;G<D.length;G++)if(o(D[G].semver),D[G].semver!==i.ANY&&D[G].semver.prerelease.length>0){const J=D[G].semver;if(J.major===U.major&&J.minor===U.minor&&J.patch===U.patch)return!0}return!1}return!0};return Lo}var ko,Jd;function gs(){if(Jd)return ko;Jd=1;const t=Symbol("SemVer ANY");class e{static get ANY(){
return t}constructor(u,f){if(f=r(f),u instanceof e){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const f=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],h=u.match(f);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=
""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new c(this.
value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.
semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}ko=e;const r=ro(),{safeRe:n,t:s}=jr(),i=Wd(),o=ps(),a=Le(),c=et();return ko}var Do,Qd;function ys(){if(Qd)return Do;Qd=1;const t=et();return Do=(r,n,s)=>{try{n=new t(n,s)}catch{return!1}return n.test(r)},Do}var xo,Zd;function G_(){if(Zd)return xo;Zd=1;const t=et();return xo=(r,n)=>new t(r,n).set.map(s=>s.map(i=>i.value).join(" ").trim().split(" ")),xo}var Mo,eh;function B_(){if(eh)return Mo;eh=1;const t=Le(),e=et();
return Mo=(n,s,i)=>{let o=null,a=null,c=null;try{c=new e(s,i)}catch{return null}return n.forEach(l=>{c.test(l)&&(!o||a.compare(l)===-1)&&(o=l,a=new t(o,i))}),o},Mo}var qo,th;function W_(){if(th)return qo;th=1;const t=Le(),e=et();return qo=(n,s,i)=>{let o=null,a=null,c=null;try{c=new e(s,i)}catch{return null}return n.forEach(l=>{c.test(l)&&(!o||a.compare(l)===1)&&(o=l,a=new t(o,i))}),o},qo}var Uo,rh;function K_(){if(rh)return Uo;rh=1;const t=Le(),e=et(),r=ms();return Uo=(s,i)=>{s=new e(s,i);let o=new t(
"0.0.0");if(s.test(o)||(o=new t("0.0.0-0"),s.test(o)))return o;o=null;for(let a=0;a<s.set.length;++a){const c=s.set[a];let l=null;c.forEach(u=>{const f=new t(u.semver.version);switch(u.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!l||r(f,l))&&(l=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${u.operator}`)}}),l&&(!o||r(o,l))&&(o=l)}return o&&s.test(o)?o:null},Uo}var Ho,nh;function Y_(){if(nh)return Ho;
nh=1;const t=et();return Ho=(r,n)=>{try{return new t(r,n).range||"*"}catch{return null}},Ho}var Fo,sh;function Vo(){if(sh)return Fo;sh=1;const t=Le(),e=gs(),{ANY:r}=e,n=et(),s=ys(),i=ms(),o=So(),a=Io(),c=Co();return Fo=(u,f,h,_)=>{u=new t(u,_),f=new n(f,_);let b,y,d,g,p;switch(h){case">":b=i,y=a,d=o,g=">",p=">=";break;case"<":b=o,y=c,d=i,g="<",p="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(u,f,_))return!1;for(let m=0;m<f.set.length;++m){const $=f.set[m];let v=null,
w=null;if($.forEach(S=>{S.semver===r&&(S=new e(">=0.0.0")),v=v||S,w=w||S,b(S.semver,v.semver,_)?v=S:d(S.semver,w.semver,_)&&(w=S)}),v.operator===g||v.operator===p||(!w.operator||w.operator===g)&&y(u,w.semver))return!1;if(w.operator===p&&d(u,w.semver))return!1}return!0},Fo}var zo,ih;function X_(){if(ih)return zo;ih=1;const t=Vo();return zo=(r,n,s)=>t(r,n,">",s),zo}var Go,oh;function J_(){if(oh)return Go;oh=1;const t=Vo();return Go=(r,n,s)=>t(r,n,"<",s),Go}var Bo,ah;function Q_(){if(ah)return Bo;ah=
1;const t=et();return Bo=(r,n,s)=>(r=new t(r,s),n=new t(n,s),r.intersects(n,s)),Bo}var Wo,ch;function Z_(){if(ch)return Wo;ch=1;const t=ys(),e=Ze();return Wo=(r,n,s)=>{const i=[];let o=null,a=null;const c=r.sort((h,_)=>e(h,_,s));for(const h of c)t(h,n,s)?(a=h,o||(o=h)):(a&&i.push([o,a]),a=null,o=null);o&&i.push([o,null]);const l=[];for(const[h,_]of i)h===_?l.push(h):!_&&h===c[0]?l.push("*"):_?h===c[0]?l.push(`<=${_}`):l.push(`${h} - ${_}`):l.push(`>=${h}`);const u=l.join(" || "),f=typeof n.raw==
"string"?n.raw:String(n);return u.length<f.length?u:n},Wo}var Ko,uh;function e0(){if(uh)return Ko;uh=1;const t=et(),e=gs(),{ANY:r}=e,n=ys(),s=Ze(),i=(f,h,_={})=>{if(f===h)return!0;f=new t(f,_),h=new t(h,_);let b=!1;e:for(const y of f.set){for(const d of h.set){const g=c(y,d,_);if(b=b||g!==null,g)continue e}if(b)return!1}return!0},o=[new e(">=0.0.0-0")],a=[new e(">=0.0.0")],c=(f,h,_)=>{if(f===h)return!0;if(f.length===1&&f[0].semver===r){if(h.length===1&&h[0].semver===r)return!0;_.includePrerelease?
f=o:f=a}if(h.length===1&&h[0].semver===r){if(_.includePrerelease)return!0;h=a}const b=new Set;let y,d;for(const I of f)I.operator===">"||I.operator===">="?y=l(y,I,_):I.operator==="<"||I.operator==="<="?d=u(d,I,_):b.add(I.semver);if(b.size>1)return null;let g;if(y&&d){if(g=s(y.semver,d.semver,_),g>0)return null;if(g===0&&(y.operator!==">="||d.operator!=="<="))return null}for(const I of b){if(y&&!n(I,String(y),_)||d&&!n(I,String(d),_))return null;for(const F of h)if(!n(I,String(F),_))return!1;return!0}
let p,m,$,v,w=d&&!_.includePrerelease&&d.semver.prerelease.length?d.semver:!1,S=y&&!_.includePrerelease&&y.semver.prerelease.length?y.semver:!1;w&&w.prerelease.length===1&&d.operator==="<"&&w.prerelease[0]===0&&(w=!1);for(const I of h){if(v=v||I.operator===">"||I.operator===">=",$=$||I.operator==="<"||I.operator==="<=",y){if(S&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===S.major&&I.semver.minor===S.minor&&I.semver.patch===S.patch&&(S=!1),I.operator===">"||I.operator===">="){
if(p=l(y,I,_),p===I&&p!==y)return!1}else if(y.operator===">="&&!n(y.semver,String(I),_))return!1}if(d){if(w&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===w.major&&I.semver.minor===w.minor&&I.semver.patch===w.patch&&(w=!1),I.operator==="<"||I.operator==="<="){if(m=u(d,I,_),m===I&&m!==d)return!1}else if(d.operator==="<="&&!n(d.semver,String(I),_))return!1}if(!I.operator&&(d||y)&&g!==0)return!1}return!(y&&$&&!d&&g!==0||d&&v&&!y&&g!==0||S||w)},l=(f,h,_)=>{if(!f)return h;const b=s(
f.semver,h.semver,_);return b>0?f:b<0||h.operator===">"&&f.operator===">="?h:f},u=(f,h,_)=>{if(!f)return h;const b=s(f.semver,h.semver,_);return b<0?f:b>0||h.operator==="<"&&f.operator==="<="?h:f};return Ko=i,Ko}var Yo,lh;function t0(){if(lh)return Yo;lh=1;const t=jr(),e=hs(),r=Le(),n=bd(),s=sr(),i=T_(),o=N_(),a=j_(),c=L_(),l=k_(),u=D_(),f=x_(),h=M_(),_=Ze(),b=q_(),y=U_(),d=$o(),g=H_(),p=F_(),m=ms(),$=So(),v=Hd(),w=Vd(),S=Co(),I=Io(),F=Wd(),B=V_(),k=gs(),M=et(),j=ys(),D=G_(),U=B_(),Y=W_(),G=K_(),
J=Y_(),se=Vo(),H=X_(),A=J_(),V=Q_(),x=Z_(),E=e0();return Yo={parse:s,valid:i,clean:o,inc:a,diff:c,major:l,minor:u,patch:f,prerelease:h,compare:_,rcompare:b,compareLoose:y,compareBuild:d,sort:g,rsort:p,gt:m,lt:$,eq:v,neq:w,gte:S,lte:I,cmp:F,coerce:B,Comparator:k,Range:M,satisfies:j,toComparators:D,maxSatisfying:U,minSatisfying:Y,minVersion:G,validRange:J,outside:se,gtr:H,ltr:A,intersects:V,simplifyRange:x,subset:E,SemVer:r,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.
RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},Yo}var Xo=t0();const ir=Dr(Xo),r0=Object.prototype.toString,n0="[object Uint8Array]",s0="[object ArrayBuffer]";function fh(t,e,r){return t?t.constructor===e?!0:r0.call(t)===r:!1}function dh(t){return fh(t,Uint8Array,n0)}function i0(t){return fh(t,ArrayBuffer,s0)}function o0(t){return dh(t)||i0(t)}function a0(t){if(!dh(t))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof t}\``)}function c0(t){
if(!o0(t))throw new TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof t}\``)}function hh(t,e){if(t.length===0)return new Uint8Array(0);e??=t.reduce((s,i)=>s+i.length,0);const r=new Uint8Array(e);let n=0;for(const s of t)a0(s),r.set(s,n),n+=s.length;return r}const ph={utf8:new globalThis.TextDecoder("utf8")};function mh(t,e="utf8"){return c0(t),ph[e]??=new globalThis.TextDecoder(e),ph[e].decode(t)}function u0(t){if(typeof t!="string")throw new TypeError(`Expected \`string\`, got\
 \`${typeof t}\``)}const l0=new globalThis.TextEncoder;function Jo(t){return u0(t),l0.encode(t)}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));const f0=w_.default,gh="aes-256-cbc",or=()=>Object.create(null),d0=t=>t!=null,h0=(t,e)=>{const r=new Set(["undefined","symbol","function"]),n=typeof e;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${t}\` is not allowed as it's not supported by JSON`)},_s="__internal__",Qo=`${_s}.migrations.version`;class p0{path;events;#n;#t;#e;#r={};constructor(e={}){
const r={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...e};if(!r.cwd){if(!r.projectName)throw new Error("Please specify the `projectName` option.");r.cwd=Og(r.projectName,{suffix:r.projectSuffix}).config}if(this.#e=r,r.schema??r.ajvOptions??r.rootSchema){if(r.schema&&typeof r.schema!="object")throw new TypeError("The `schema` option must be an object.");const o=new d_.Ajv2020({allErrors:!0,useDefaults:!0,
...r.ajvOptions});f0(o);const a={...r.rootSchema,type:"object",properties:r.schema};this.#n=o.compile(a);for(const[c,l]of Object.entries(r.schema??{}))l?.default&&(this.#r[c]=l.default)}r.defaults&&(this.#r={...this.#r,...r.defaults}),r.serialize&&(this._serialize=r.serialize),r.deserialize&&(this._deserialize=r.deserialize),this.events=new EventTarget,this.#t=r.encryptionKey;const n=r.fileExtension?`.${r.fileExtension}`:"";this.path=me.resolve(r.cwd,`${r.configName??"config"}${n}`);const s=this.
store,i=Object.assign(or(),r.defaults,s);if(r.migrations){if(!r.projectVersion)throw new Error("Please specify the `projectVersion` option.");this._migrate(r.migrations,r.projectVersion,r.beforeEachMigration)}this._validate(i);try{mp.deepEqual(s,i)}catch{this.store=i}r.watch&&this._watch()}get(e,r){if(this.#e.accessPropertiesByDotNotation)return this._get(e,r);const{store:n}=this;return e in n?n[e]:r}set(e,r){if(typeof e!="string"&&typeof e!="object")throw new TypeError(`Expected \`key\` to be of \
type \`string\` or \`object\`, got ${typeof e}`);if(typeof e!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(e))throw new TypeError(`Please don't use the ${_s} key, as it's used to manage this module internal operations.`);const{store:n}=this,s=(i,o)=>{h0(i,o),this.#e.accessPropertiesByDotNotation?Xc(n,i,o):n[i]=o};if(typeof e=="object"){const i=e;for(const[o,a]of Object.entries(i))s(o,a)}else s(e,r);this.store=n}has(e){return this.#e.accessPropertiesByDotNotation?
Eg(this.store,e):e in this.store}reset(...e){for(const r of e)d0(this.#r[r])&&this.set(r,this.#r[r])}delete(e){const{store:r}=this;this.#e.accessPropertiesByDotNotation?wg(r,e):delete r[e],this.store=r}clear(){this.store=or();for(const e of Object.keys(this.#r))this.reset(e)}onDidChange(e,r){if(typeof e!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof e}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);
return this._handleChange(()=>this.get(e),r)}onDidAnyChange(e){if(typeof e!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof e}`);return this._handleChange(()=>this.store,e)}get size(){return Object.keys(this.store).length}get store(){try{const e=pe.readFileSync(this.path,this.#t?null:"utf8"),r=this._encryptData(e),n=this._deserialize(r);return this._validate(n),Object.assign(or(),n)}catch(e){if(e?.code==="ENOENT")return this._ensureDirectory(),or();
if(this.#e.clearInvalidConfig&&e.name==="SyntaxError")return or();throw e}}set store(e){this._ensureDirectory(),this._validate(e),this._write(e),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[e,r]of Object.entries(this.store))yield[e,r]}_encryptData(e){if(!this.#t)return typeof e=="string"?e:mh(e);try{const r=e.slice(0,16),n=dr.pbkdf2Sync(this.#t,r.toString(),1e4,32,"sha512"),s=dr.createDecipheriv(gh,n,r),i=e.slice(17),o=typeof i=="string"?Jo(i):i;return mh(hh([s.update(
o),s.final()]))}catch{}return e.toString()}_handleChange(e,r){let n=e();const s=()=>{const i=n,o=e();pp(o,i)||(n=o,r.call(this,o,i))};return this.events.addEventListener("change",s),()=>{this.events.removeEventListener("change",s)}}_deserialize=e=>JSON.parse(e);_serialize=e=>JSON.stringify(e,void 0,"	");_validate(e){if(!this.#n||this.#n(e)||!this.#n.errors)return;const n=this.#n.errors.map(({instancePath:s,message:i=""})=>`\`${s.slice(1)}\` ${i}`);throw new Error("Config schema violation: "+n.join(
"; "))}_ensureDirectory(){pe.mkdirSync(me.dirname(this.path),{recursive:!0})}_write(e){let r=this._serialize(e);if(this.#t){const n=dr.randomBytes(16),s=dr.pbkdf2Sync(this.#t,n.toString(),1e4,32,"sha512"),i=dr.createCipheriv(gh,s,n);r=hh([n,Jo(":"),i.update(Jo(r)),i.final()])}if(Se.env.SNAP)pe.writeFileSync(this.path,r,{mode:this.#e.configFileMode});else try{tu(this.path,r,{mode:this.#e.configFileMode})}catch(n){if(n?.code==="EXDEV"){pe.writeFileSync(this.path,r,{mode:this.#e.configFileMode});return}
throw n}}_watch(){this._ensureDirectory(),pe.existsSync(this.path)||this._write(or()),Se.platform==="win32"?pe.watch(this.path,{persistent:!1},md(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100})):pe.watchFile(this.path,{persistent:!1},md(()=>{this.events.dispatchEvent(new Event("change"))},{wait:5e3}))}_migrate(e,r,n){let s=this._get(Qo,"0.0.0");const i=Object.keys(e).filter(a=>this._shouldPerformMigration(a,s,r));let o={...this.store};for(const a of i)try{n&&n(this,{fromVersion:s,
toVersion:a,finalVersion:r,versions:i});const c=e[a];c?.(this),this._set(Qo,a),s=a,o={...this.store}}catch(c){throw this.store=o,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${c}`)}(this._isVersionInRangeFormat(s)||!ir.eq(s,r))&&this._set(Qo,r)}_containsReservedKey(e){return typeof e=="object"&&Object.keys(e)[0]===_s?!0:typeof e!="string"?!1:this.#e.accessPropertiesByDotNotation?!!e.startsWith(`${_s}.`):!1}_isVersionInRangeFormat(e){
return ir.clean(e)===null}_shouldPerformMigration(e,r,n){return this._isVersionInRangeFormat(e)?r!=="0.0.0"&&ir.satisfies(r,e)?!1:ir.satisfies(n,e):!(ir.lte(e,r)||ir.gt(e,n))}_get(e,r){return bg(this.store,e,r)}_set(e,r){const{store:n}=this;Xc(n,e,r),this.store=n}}class yh extends Error{response;request;options;constructor(e,r,n){const s=e.status||e.status===0?e.status:"",i=e.statusText||"",o=`${s} ${i}`.trim(),a=o?`status code ${o}`:"an unknown error";super(`Request failed with ${a}: ${r.method}\
 ${r.url}`),this.name="HTTPError",this.response=e,this.request=r,this.options=n}}class _h extends Error{request;constructor(e){super(`Request timed out: ${e.method} ${e.url}`),this.name="TimeoutError",this.request=e}}const $h=(()=>{let t=!1,e=!1;const r=typeof globalThis.ReadableStream=="function",n=typeof globalThis.Request=="function";if(r&&n)try{e=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Co\
ntent-Type")}catch(s){if(s instanceof Error&&s.message==="unsupported BodyInit type")return!1;throw s}return t&&!e})(),m0=typeof globalThis.AbortController=="function",g0=typeof globalThis.ReadableStream=="function",y0=typeof globalThis.FormData=="function",vh=["get","post","put","patch","head","delete"],_0={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},Zo=2147483647,$0=new TextEncoder().encode("------WebKitFormBoundaryaxpyiPgbbPti10Rw").length,
bh=Symbol("stop"),v0={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,onUploadProgress:!0,fetch:!0},b0={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},w0=t=>{if(!t)return 0;if(t instanceof FormData){let e=0;for(const[r,n]of t)e+=$0,e+=new TextEncoder().encode(`Content-Dis\
position: form-data; name="${r}"`).length,e+=typeof n=="string"?new TextEncoder().encode(n).length:n.size;return e}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength;if(typeof t=="string")return new TextEncoder().encode(t).length;if(t instanceof URLSearchParams)return new TextEncoder().encode(t.toString()).length;if("byteLength"in t)return t.byteLength;if(typeof t=="object"&&t!==null)try{const e=JSON.stringify(t);return new TextEncoder().encode(e).length}catch{return 0}
return 0},E0=(t,e)=>{const r=Number(t.headers.get("content-length"))||0;let n=0;return t.status===204?(e&&e({percent:1,totalBytes:r,transferredBytes:n},new Uint8Array),new Response(null,{status:t.status,statusText:t.statusText,headers:t.headers})):new Response(new ReadableStream({async start(s){const i=t.body.getReader();e&&e({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array);async function o(){const{done:a,value:c}=await i.read();if(a){s.close();return}if(e){n+=c.byteLength;const l=r===
0?0:n/r;e({percent:l,transferredBytes:n,totalBytes:r},c)}s.enqueue(c),await o()}await o()}}),{status:t.status,statusText:t.statusText,headers:t.headers})},S0=(t,e)=>{const r=w0(t.body);let n=0;return new Request(t,{duplex:"half",body:new ReadableStream({async start(s){const i=t.body instanceof ReadableStream?t.body.getReader():new Response("").body.getReader();async function o(){const{done:a,value:c}=await i.read();if(a){e&&e({percent:1,transferredBytes:n,totalBytes:Math.max(r,n)},new Uint8Array),
s.close();return}n+=c.byteLength;let l=r===0?0:n/r;(r<n||l===1)&&(l=.99),e&&e({percent:Number(l.toFixed(2)),transferredBytes:n,totalBytes:r},c),s.enqueue(c),await o()}await o()}})})},Lr=t=>t!==null&&typeof t=="object",$s=(...t)=>{for(const e of t)if((!Lr(e)||Array.isArray(e))&&e!==void 0)throw new TypeError("The `options` argument must be an object");return ea({},...t)},wh=(t={},e={})=>{const r=new globalThis.Headers(t),n=e instanceof globalThis.Headers,s=new globalThis.Headers(e);for(const[i,o]of s.
entries())n&&o==="undefined"||o===void 0?r.delete(i):r.set(i,o);return r};function vs(t,e,r){return Object.hasOwn(e,r)&&e[r]===void 0?[]:ea(t[r]??[],e[r]??[])}const Eh=(t={},e={})=>({beforeRequest:vs(t,e,"beforeRequest"),beforeRetry:vs(t,e,"beforeRetry"),afterResponse:vs(t,e,"afterResponse"),beforeError:vs(t,e,"beforeError")}),ea=(...t)=>{let e={},r={},n={};for(const s of t)if(Array.isArray(s))Array.isArray(e)||(e=[]),e=[...e,...s];else if(Lr(s)){for(let[i,o]of Object.entries(s))Lr(o)&&i in e&&(o=
ea(e[i],o)),e={...e,[i]:o};Lr(s.hooks)&&(n=Eh(n,s.hooks),e.hooks=n),Lr(s.headers)&&(r=wh(r,s.headers),e.headers=r)}return e},R0=t=>vh.includes(t)?t.toUpperCase():t,A0=["get","put","head","delete","options","trace"],O0=[408,413,429,500,502,503,504],C0=[413,429,503],Sh={limit:2,methods:A0,statusCodes:O0,afterStatusCodes:C0,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:t=>.3*2**(t-1)*1e3},P0=(t={})=>{if(typeof t=="number")return{...Sh,limit:t};if(t.methods&&!Array.
isArray(t.methods))throw new Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");return{...Sh,...t}};async function I0(t,e,r,n){return new Promise((s,i)=>{const o=setTimeout(()=>{r&&r.abort(),i(new _h(t))},n.timeout);n.fetch(t,e).then(s).catch(i).then(()=>{clearTimeout(o)})})}async function T0(t,{signal:e}){return new Promise((r,n)=>{e&&(e.throwIfAborted(),e.addEventListener("abort",s,{once:!0}));function s(){
clearTimeout(i),n(e.reason)}const i=setTimeout(()=>{e?.removeEventListener("abort",s),r()},t)})}const N0=(t,e)=>{const r={};for(const n in e)!(n in b0)&&!(n in v0)&&!(n in t)&&(r[n]=e[n]);return r};class Es{static create(e,r){const n=new Es(e,r),s=async()=>{if(typeof n._options.timeout=="number"&&n._options.timeout>Zo)throw new RangeError(`The \`timeout\` option cannot be greater than ${Zo}`);await Promise.resolve();let a=await n._fetch();for(const c of n._options.hooks.afterResponse){const l=await c(
n.request,n._options,n._decorateResponse(a.clone()));l instanceof globalThis.Response&&(a=l)}if(n._decorateResponse(a),!a.ok&&n._options.throwHttpErrors){let c=new yh(a,n.request,n._options);for(const l of n._options.hooks.beforeError)c=await l(c);throw c}if(n.request.bodyUsed||await n.request.body?.cancel(),n._options.onDownloadProgress){if(typeof n._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!g0)throw new Error("Streams a\
re not supported in your environment. `ReadableStream` is missing.");return E0(a.clone(),n._options.onDownloadProgress)}return a},o=n._options.retry.methods.includes(n.request.method.toLowerCase())?n._retry(s):s();for(const[a,c]of Object.entries(_0))o[a]=async()=>{n.request.headers.set("accept",n.request.headers.get("accept")||c);const l=await o;if(a==="json"){if(l.status===204||(await l.clone().arrayBuffer()).byteLength===0)return"";if(r.parseJson)return r.parseJson(await l.text())}return l[a]()};
return o}request;abortController;_retryCount=0;_input;_options;constructor(e,r={}){if(this._input=e,this._options={...r,headers:wh(this._input.headers,r.headers),hooks:Eh({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},r.hooks),method:R0(r.method??this._input.method??"GET"),prefixUrl:String(r.prefixUrl||""),retry:P0(r.retry),throwHttpErrors:r.throwHttpErrors!==!1,timeout:r.timeout??1e4,fetch:r.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof
URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(m0){const n=this._options.signal??this._input.signal;this.abortController=new globalThis.AbortController,
this._options.signal=n?AbortSignal.any([n,this.abortController.signal]):this.abortController.signal}if($h&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=this._options.stringifyJson?.(this._options.json)??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const s="?"+(typeof this._options.
searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),i=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,s);(y0&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(i,{...this.request}),this._options)}if(this._options.
onUploadProgress){if(typeof this._options.onUploadProgress!="function")throw new TypeError("The `onUploadProgress` option must be a function");if(!$h)throw new Error("Request streams are not supported in your environment. The `duplex` option for `Request` is not available.");this.request.body&&(this.request=S0(this.request,this._options.onUploadProgress))}}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount>this._options.retry.limit||e instanceof _h)throw e;if(e instanceof yh){if(!this.
_options.retry.statusCodes.includes(e.response.status))throw e;const n=e.response.headers.get("Retry-After")??e.response.headers.get("RateLimit-Reset")??e.response.headers.get("X-RateLimit-Reset")??e.response.headers.get("X-Rate-Limit-Reset");if(n&&this._options.retry.afterStatusCodes.includes(e.response.status)){let s=Number(n)*1e3;Number.isNaN(s)?s=Date.parse(n)-Date.now():s>=Date.parse("2024-01-01")&&(s-=Date.now());const i=this._options.retry.maxRetryAfter??s;return s<i?s:i}if(e.response.status===
413)throw e}const r=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,r)}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(r){const n=Math.min(this._calculateRetryDelay(r),Zo);if(this._retryCount<1)throw r;await T0(n,{signal:this._options.signal});for(const s of this._options.hooks.beforeRetry)if(await s({request:this.request,options:this._options,error:r,
retryCount:this._retryCount})===bh)return;return this._retry(e)}}async _fetch(){for(const n of this._options.hooks.beforeRequest){const s=await n(this.request,this._options);if(s instanceof Request){this.request=s;break}if(s instanceof Response)return s}const e=N0(this.request,this._options),r=this.request;return this.request=r.clone(),this._options.timeout===!1?this._options.fetch(r,e):I0(r,e,this.abortController,this._options)}}const ta=t=>{const e=(r,n)=>Es.create(r,$s(t,n));for(const r of vh)
e[r]=(n,s)=>Es.create(n,$s(t,s,{method:r}));return e.create=r=>ta($s(r)),e.extend=r=>(typeof r=="function"&&(r=r(t??{})),ta($s(t,r))),e.stop=bh,e},j0=ta(),bs=Object.create(null),kr=t=>globalThis.process?.env||import.meta.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(t?bs:globalThis),Rt=new Proxy(bs,{get(t,e){return kr()[e]??bs[e]},has(t,e){const r=kr();return e in r||e in bs},set(t,e,r){const n=kr(!0);return n[e]=r,!0},deleteProperty(t,e){if(!e)return!1;const r=kr(!0);return delete r[e],
!0},ownKeys(){const t=kr(!0);return Object.keys(t)}}),Rh=typeof process<"u"&&process.env&&process.env.NODE_ENV||"",L0=[["APPVEYOR"],["AWS_AMPLIFY","AWS_APP_ID",{ci:!0}],["AZURE_PIPELINES","SYSTEM_TEAMFOUNDATIONCOLLECTIONURI"],["AZURE_STATIC","INPUT_AZURE_STATIC_WEB_APPS_API_TOKEN"],["APPCIRCLE","AC_APPCIRCLE"],["BAMBOO","bamboo_planKey"],["BITBUCKET","BITBUCKET_COMMIT"],["BITRISE","BITRISE_IO"],["BUDDY","BUDDY_WORKSPACE_ID"],["BUILDKITE"],["CIRCLE","CIRCLECI"],["CIRRUS","CIRRUS_CI"],["CLOUDFLARE\
_PAGES","CF_PAGES",{ci:!0}],["CLOUDFLARE_WORKERS","WORKERS_CI",{ci:!0}],["CODEBUILD","CODEBUILD_BUILD_ARN"],["CODEFRESH","CF_BUILD_ID"],["DRONE"],["DRONE","DRONE_BUILD_EVENT"],["DSARI"],["GITHUB_ACTIONS"],["GITLAB","GITLAB_CI"],["GITLAB","CI_MERGE_REQUEST_ID"],["GOCD","GO_PIPELINE_LABEL"],["LAYERCI"],["HUDSON","HUDSON_URL"],["JENKINS","JENKINS_URL"],["MAGNUM"],["NETLIFY"],["NETLIFY","NETLIFY_LOCAL",{ci:!1}],["NEVERCODE"],["RENDER"],["SAIL","SAILCI"],["SEMAPHORE"],["SCREWDRIVER"],["SHIPPABLE"],["\
SOLANO","TDDIUM"],["STRIDER"],["TEAMCITY","TEAMCITY_VERSION"],["TRAVIS"],["VERCEL","NOW_BUILDER"],["VERCEL","VERCEL",{ci:!1}],["VERCEL","VERCEL_ENV",{ci:!1}],["APPCENTER","APPCENTER_BUILD_ID"],["CODESANDBOX","CODESANDBOX_SSE",{ci:!1}],["CODESANDBOX","CODESANDBOX_HOST",{ci:!1}],["STACKBLITZ"],["STORMKIT"],["CLEAVR"],["ZEABUR"],["CODESPHERE","CODESPHERE_APP_ID",{ci:!0}],["RAILWAY","RAILWAY_PROJECT_ID"],["RAILWAY","RAILWAY_SERVICE_ID"],["DENO-DEPLOY","DENO_DEPLOYMENT_ID"],["FIREBASE_APP_HOSTING","F\
IREBASE_APP_HOSTING",{ci:!0}]];function k0(){if(globalThis.process?.env)for(const t of L0){const e=t[1]||t[0];if(globalThis.process?.env[e])return{name:t[0].toLowerCase(),...t[2]}}return globalThis.process?.env?.SHELL==="/bin/jsh"&&globalThis.process?.versions?.webcontainer?{name:"stackblitz",ci:!1}:{name:"",ci:!1}}const Ah=k0();Ah.name;function zt(t){return t?t!=="false":!1}const D0=globalThis.process?.platform||"",Oh=zt(Rt.CI)||Ah.ci!==!1,Ch=zt(globalThis.process?.stdout&&globalThis.process?.stdout.
isTTY);zt(Rt.DEBUG);const x0=Rh==="test"||zt(Rt.TEST),M0=zt(Rt.MINIMAL)||Oh||x0||!Ch,q0=/^win/i.test(D0);!zt(Rt.NO_COLOR)&&(zt(Rt.FORCE_COLOR)||(Ch||q0)&&Rt.TERM);const U0=(globalThis.process?.versions?.node||"").replace(/^v/,"")||null;Number(U0?.split(".")[0]);const H0=globalThis.process||Object.create(null),Ph={versions:{}};new Proxy(H0,{get(t,e){if(e==="env")return Rt;if(e in t)return t[e];if(e in Ph)return Ph[e]}});const F0=globalThis.process?.release?.name==="node",V0=!!globalThis.Bun||!!globalThis.
process?.versions?.bun,z0=!!globalThis.Deno,G0=!!globalThis.fastly,B0=!!globalThis.Netlify,W0=!!globalThis.EdgeRuntime,K0=globalThis.navigator?.userAgent==="Cloudflare-Workers",Y0=[[B0,"netlify"],[W0,"edge-light"],[K0,"workerd"],[G0,"fastly"],[z0,"deno"],[V0,"bun"],[F0,"node"]];function X0(){const t=Y0.find(e=>e[0]);if(t)return{name:t[1]}}const J0=X0();J0?.name;const ra=new p0({projectName:qh,serialize:t=>Gt.stringify(t,null,2),deserialize:t=>Gt.parse(t)}),Q0=1e3*60*60*24,Ih="check-update";function Z0(){
if(M0||Rh===Ih)return;const t=ra.get("lastUpdateCheck"),e=ra.get("latestVersion");if(Uh(e)||Hh(t)||t+Q0<Date.now())try{oa("likec4",["check-update"],{stdio:"ignore",preferLocal:!0,detached:!0,env:{NODE_ENV:Ih}}).catch(()=>{})}catch{}e&&Xo.gt(e,Bt)&&At(["Update available: ",K.dim(Bt),K.reset(" \u2192 "),K.green(e)].join(""))}async function e$(){try{const t=await t$();xs(t,"No version found in latest npm"),ra.set({lastUpdateCheck:Date.now(),latestVersion:t}),Xo.gt(t,Bt)?At(["Update available: ",K.dim(
Bt),K.reset(" \u2192 "),K.green(t)].join("")):At(K.dim("Up to date: ")+" "+K.green(Bt))}catch(t){ct.error(Ss(t))}}async function t$(){return(await j0("https://registry.npmjs.org/likec4/latest",{headers:{accept:"application/vnd.npm.install-v1+json; q=1.0, application/json; q=0.8, */*"},keepalive:!0}).json()).version}async function r$(t,e,r){const n=".ts";e=e??ye(t.workspace,"likec4.generated"+n),ur(e)!==n&&(e=e+n),await ut(Ot(e),{recursive:!0});const s=await t.diagrams(),i=Wm([...s]);await Pt(e,i),
r.info(`${K.dim("generated")} ${gt(process.cwd(),e)}`)}async function n$(t,e,r){await ut(e,{recursive:!0}),r.info(`${K.dim("format")} ${K.green("dot")}`),r.info(`${K.dim("outdir")} ${e}`);const n=new Set,s=await t.viewsService.computedViews();let i=0;for(const o of s)try{const a=await t.viewsService.layouter.dot(o),c=o.relativePath??"";c!==""&&!n.has(c)&&(await ut(ye(e,c),{recursive:!0}),n.add(c));const l=ye(e,c,o.id+".dot");await Pt(l,a),r.info(`${K.dim("generated")} ${gt(process.cwd(),l)}`),i++}catch(a){
ct.error(`error while generating ${o.id}`,{error:a})}i>0&&r.info(`${K.dim("total")} ${i} files`)}async function s$(t,e,r,n){await ut(r,{recursive:!0}),n.info(`${K.dim("format")} ${K.green(e)}`),n.info(`${K.dim("outdir")} ${r}`);let s,i;switch(e){case"d2":s=".d2",i=ap;break;case"mermaid":s=".mmd",i=op;break;default:wa(e)}const o=new Set,a=await t.diagrams();let c=0;for(const l of a)try{let u=l.relativePath??".";u.includes("/")?u=u.slice(0,u.lastIndexOf("/")):u=".",u!==""&&!o.has(u)&&(await ut(ye(
r,u),{recursive:!0}),o.add(u));const f=ye(r,u,l.id+s),h=i(l);await Pt(f,h),n.info(`${K.dim("generated")} ${gt(process.cwd(),f)}`),c++}catch(u){n.error(`error while generating ${l.id}`,{error:u})}c>0&&n.info(`${K.dim("total")} ${c} files`)}async function ws({path:t,useDotBin:e,...r}){const n=tt("c4:codegen"),s=ar(n),i=await rt.fromWorkspace(t,{logger:"vite",graphviz:e?"binary":"wasm"});if(i.ensureSingleProject(),(await i.viewsService.computedViews()).length===0)throw n.warn("no views found"),process.
exitCode=1,new Error("no views found");switch(r.format){case"views":{await r$(i,r.outfile,n);break}case"dot":{await n$(i,r.outdir??t,n);break}case"d2":case"mermaid":{await s$(i,r.format,r.outdir??t,n);break}default:wa(r)}s.stopAndLog()}async function i$({path:t,useDotBin:e,outfile:r}){const n=tt("c4:codegen"),s=ar(n),i=await rt.fromWorkspace(t,{logger:"vite",graphviz:e?"binary":"wasm"});i.ensureSingleProject(),n.info(`${K.dim("format")} ${K.green("model")}`);const o=await i.layoutedModel();for(const f of o.
views())f.$view.hasLayoutDrift&&n.warn(K.yellow("drift detected, manual layout can not be applied, view:")+" "+K.red(f.id));let a=ye(i.workspace,"likec4-model.ts");if(r&&(a=Is(r)?r:ye(r),Ct(r)&&(await Ns(r)).isDirectory()))throw new Error(`output file is a directory: ${r}`);const c=xr(a);n.info(`${K.dim("filename")} ${c}`);const l=ur(c).toLocaleLowerCase();if(![".ts",".mts",".cts"].includes(l))throw n.error(`output file ${r} has extension "${l}"`),new Error(`output file ${r} must be a .ts, .mts \
or .cts file`);const u=Ot(a);n.info(`${K.dim("outdir")} ${u}`),await ut(u,{recursive:!0}),await Pt(a,Gm(o),{encoding:"utf-8"}),At(Rs(`
    ${K.dim("Source with LikeC4Model generated:")}
      ${gt(As(),a)}

    ${K.dim("How to use:")}
      ${K.underline("https://likec4.dev/tooling/code-generation/model/")}
  `).trim(),{padding:2,borderColor:"green",borderStyle:"round"}),s.stopAndLog()}async function o$({languageServices:t,outDir:e,filename:r="likec4-react.mjs"}){const n=ni,s=ii();return n.info(`${K.cyan("likec4 app root")} ${K.dim(s)}`),n.info(K.cyan("outDir")+" "+K.dim(e)),{customLogger:n,root:s,configFile:!1,clearScreen:!1,publicDir:!1,mode:"production",resolve:{conditions:["production"],alias:ci()},esbuild:{banner:`'use client'
`+si.banner,footer:si.footer,jsx:"transform",jsxDev:!1,jsxSideEffects:!1,minifyIdentifiers:!1,minifySyntax:!1,minifyWhitespace:!1,tsconfigRaw:{compilerOptions:{target:"ES2022",useDefineForClassFields:!0,verbatimModuleSyntax:!0,jsx:"react-jsx"}}},build:{outDir:e,emptyOutDir:!1,sourcemap:!1,minify:!1,target:"es2022",copyPublicDir:!1,chunkSizeWarningLimit:ai,lib:{entry:"react/likec4.tsx",fileName(i,o){return r},formats:["es"]},rollupOptions:{output:{compact:!1,exports:"named"},external:["likec4/rea\
ct","likec4/model","react","react-dom","react/jsx-runtime","react/jsx-dev-runtime","react-dom/client",/likec4\/icons\/.*/],onwarn(i,o){i.code!=="SOURCEMAP_ERROR"&&o(i)}}},plugins:[js({}),ks({languageServices:t.languageServices,useOverviewGraph:!1})]}}async function a$({path:t,useDotBin:e,outfile:r}){await Ar();const n=tt("c4:codegen"),s=ar(n),i=await rt.fromWorkspace(t,{logger:"vite",graphviz:e?"binary":"wasm"});i.ensureSingleProject(),n.info(`${K.dim("format")} ${K.green("react")}`);const o=await i.
diagrams();if(o.length===0)throw process.exitCode=1,new Error("no views found");o.forEach(_=>{_.hasLayoutDrift&&n.warn(K.yellow("drift detected, manual layout can not be applied, view:")+" "+K.red(_.id))});let a=ye(i.workspace,"likec4-views.js");if(r&&(a=Is(r)?r:ye(r),Ct(r)&&(await Ns(r)).isDirectory()))throw new Error(`output file is a directory: ${r}`);const c=Ot(a);n.info(`${K.dim("outdir")} ${c}`);const l=xr(a);n.info(`${K.dim("filename")} ${l}`);const u=ur(l).toLocaleLowerCase();if(![".js",
".mjs",".jsx"].includes(u))throw n.error(`output file ${r} has extension "${u}"`),new Error(`output file ${r} must be a .js, .jsx or .mjs`);const f=await o$({languageServices:i,outDir:c,filename:l});await fr({...f,logLevel:"warn"});const h=await i.layoutedModel();await Pt(ye(c,xr(a,u)+(u===".mjs"?".d.mts":".d.ts")),Km(h)),At(Rs(`
    ${K.dim("Source generated:")}
      ${gt(As(),a)}

    ${K.dim("How to use:")}
      ${K.underline("https://likec4.dev/tooling/code-generation/react/")}
  `),{padding:2,borderColor:"green",borderStyle:"round"}),s.stopAndLog()}async function c$({path:t,useDotBin:e,webcomponentPrefix:r="likec4",outfile:n}){await Ar();const s=tt("c4:codegen"),i=ar(s),o=await rt.fromWorkspace(t,{logger:"vite",graphviz:e?"binary":"wasm"});o.ensureSingleProject(),s.info(`${K.dim("format")} ${K.green("webcomponent")}`);const a=await o.diagrams();if(!la(a,1))throw s.warn("no views found"),process.exitCode=1,new Error("no views found");a.forEach(b=>{b.hasLayoutDrift&&s.warn(
K.yellow("drift detected, manual layout can not be applied, view:")+" "+K.red(b.id))});let c=ye(o.workspace,"likec4-views.js");if(n&&(c=Is(n)?n:ye(n),Ct(n)&&(await Ns(n)).isDirectory()))throw new Error(`output file is a directory: ${n}`);at.debug(`${K.dim("outfilepath")} ${c}`);const l=xr(c);at.debug(`${K.dim("filename")} ${l}`);const u=ur(l).toLocaleLowerCase();if(u!==".js"&&u!==".mjs")throw at.warn(`output file ${n} has extension "${u}"`),new Error(`output file ${n} must be a .js or .mjs`);const f=await oi();
at.debug(`${K.dim("created temp public")} ${f}`);const h=await Pi({languageServices:o,outDir:f,filename:l,webcomponentPrefix:r,base:"/"});at.debug(`${K.dim("vite build webcomponent")}`),await fr({...h,logLevel:"warn"});const _=ye(f,l);if(!Ct(_))throw new Error(`output file not found: ${_}`);await ut(Ot(c),{recursive:!0}),await sp(_,c),s.info(`${K.dim("generated")} ${c}`),at.debug(`${K.dim("remove temp public")}`),await ip(f,{recursive:!0,force:!0}),At(Rs(`
    ${K.dim("Webcomponents generated to:")}
     ${gt(As(),c)}

    ${K.dim("Setup and usage instructions:")}
     ${K.blue("https://likec4.dev/tooling/code-generation/webcomponent/")}
  `)),i.stopAndLog()}const u$={command:"codegen <command> [path]",aliases:["generate","gen"],describe:"Generate various artifacts from LikeC4 sources",builder:t=>t.positional("path",Sr).command("react [path]","generate react component to render likec4 view",e=>e.option("outfile",{alias:"o",type:"string",desc:"<file> path to output file (.jsx, .mjs or .js)",normalize:!0,coerce:He}).option("use-dot",Ye),async e=>{await a$({useDotBin:e.useDotBin,path:e.path,outfile:e.outfile})}).command({command:"w\
ebcomponent [path]",aliases:["wc","webcomp"],describe:"generate js with webcomponents",builder:e=>e.option("outfile",{alias:"o",type:"string",desc:"<file> path to output file (.mjs or .js)",normalize:!0,coerce:He}).option("webcomponent-prefix",ri).option("use-dot",Ye),handler:async e=>{await c$({useDotBin:e.useDotBin,path:e.path,outfile:e.outfile,webcomponentPrefix:e.webcomponentPrefix})}}).command({command:"model [path]",aliases:["ts"],describe:"generate LikeC4Model (.ts)",builder:e=>e.option("\
outfile",{alias:"o",type:"string",desc:"<file> path to output file (.ts)",normalize:!0,coerce:He}).option("use-dot",Ye),handler:async e=>{await i$({path:e.path,useDotBin:e.useDotBin,outfile:e.outfile})}}).command({command:"views-data [path]",aliases:["views"],describe:"generate likec4 views data (.ts)",builder:e=>e.option("outfile",{alias:"o",type:"string",desc:"<file> output .ts file",normalize:!0,coerce:He}).option("use-dot",Ye),handler:async e=>{await ws({format:"views",path:e.path,useDotBin:e.
useDotBin,outfile:e.outfile})}}).command({command:"dot [path]",describe:"generate graphviz files (.dot)",builder:e=>e.option("outdir",Zr).option("use-dot",Ye),handler:async e=>{await ws({format:"dot",path:e.path,useDotBin:e.useDotBin,outdir:e.outdir})}}).command({command:"d2 [path]",describe:"generate D2 files (.d2)",builder:e=>e.option("outdir",Zr).option("use-dot",Ye),handler:async e=>{await ws({format:"d2",path:e.path,useDotBin:e.useDotBin,outdir:e.outdir})}}).command({command:"mermaid [path]",
aliases:["mmd"],describe:"generate Mermaid files (.mmd)",builder:e=>e.option("outdir",Zr).option("use-dot",Ye),handler:async e=>{await ws({format:"mermaid",useDotBin:e.useDotBin,path:e.path,outdir:e.outdir})}}).epilog(`${K.bold("Examples:")}
  likec4 gen react -o dist/likec4-views.mjs ./src/likec4
  likec4 gen model -o likec4-model.ts
  likec4 gen webcomponent -o likec4.js --webcomponent-prefix c4 --use-dot-bin ./src
  likec4 gen views-data -o ./src/likec4-data.ts
  likec4 gen ts --outfile ../likec4.ts
  likec4 gen mmd --outdir assets/
  likec4 gen dot -o out .
`),handler:()=>{}};async function l$({path:t,useDotBin:e,outfile:r}){const n=tt("c4:export"),s=ar(n),i=await rt.fromWorkspace(t,{logger:"vite",graphviz:e?"binary":"wasm"});i.ensureSingleProject();const o=await i.layoutedModel();ur(r)!==".json"&&(r=r+".json"),await ut(Ot(r),{recursive:!0});const a=JSON.stringify(o.$model,null,2);await Pt(r,a),n.info(`${K.dim("generated")} ${gt(process.cwd(),r)}`),s.stopAndLog("\u2713 export in ")}const f$={command:"export <format> [path]",describe:"Export to imag\
es or JSON",builder:t=>t.usage(`${K.bold("Usage:")} $0 export <format> [path]`).positional("path",Sr).command({command:"png [path]",describe:"export views to PNG",builder:e=>e.option("output",Zr).option("theme",{choices:["light","dark"],desc:"color-scheme to use, default is light"}).option("flat",{boolean:!0,type:"boolean",desc:"flatten all images in output directory ignoring sources structure"}).option("use-dot",Ye).options({filter:{alias:"f",array:!0,string:!0,desc:`include views with ids matc\
hing given patterns
multiple patterns are combined with OR`},ignore:{boolean:!0,alias:"i",desc:"continue if export fails for some views"},timeout:{type:"number",alias:"t",desc:"timeout for playwright",default:10},"max-attempts":{type:"number",desc:"max attempts to export failing view, 1 means no retry",default:3},"server-url":{type:"string",desc:"use this url instead of starting new likec4 server"},"chromium-sandbox":{boolean:!0,desc:`enable/disable chromium sandbox
see Playwright docs`,default:!1}}).epilog(`${K.bold("Examples:")}
  ${K.green("$0 export png")}
    ${K.gray("Search for likec4 files in current directory and output PNG next to sources")}

  ${K.green("$0 export png --theme dark -o ./png src/likec4")}
    ${K.gray("Search for likec4 files in src/likec4 and output PNG with dark theme to png folder")}

  ${K.green('$0 export png -f "team1*" -f "team2*" --flat -o ./png src/likec4')}
    ${K.gray("Export views matching team1* or team2* only")}
`),handler:async e=>{xs(e.timeout>=1,"timeout must be >= 1"),xs(e["max-attempts"]>=1,"max-attempts must be >= 1"),await Ar(),await Bc({path:e.path,useDotBin:e.useDotBin,output:e.output,timeoutMs:e.timeout*1e3,maxAttempts:e.maxAttempts,ignore:e.ignore===!0,outputType:e.flat?"flat":"relative",serverUrl:e.serverUrl,theme:e.theme??"light",filter:e.filter,chromiumSandbox:e["chromium-sandbox"]})}}).command({command:"json [path]",describe:"export model to JSON",builder:e=>e.option("outfile",{alias:"o",
type:"string",desc:"<file> output .json file",default:"likec4.json",normalize:!0,coerce:ye}).option("use-dot",Ye).epilog(`${K.bold("Examples:")}
  ${K.green("$0 export json")}
    ${K.gray("Search for likec4 files in current directory and output JSON to likec4.json")}

  ${K.green("$0 export json -o ./generated/likec4.json src/likec4 ")}
    ${K.gray("Search for likec4 files in src/likec4 and output JSON to generated/likec4.json")}
`),handler:async e=>{await l$({path:e.path,useDotBin:e.useDotBin,outfile:e.outfile})}}).updateStrings({"Commands:":K.bold("Formats:")}),handler:()=>{}};async function d$(t){const{isDev:e,...r}=await Ci({...t,likec4AssetsDir:"",webcomponentPrefix:void 0}),n=await Ti({port:on(62001,62010)}),s=t?.open??!1;return await up({...r,mode:"production",preview:{host:t.listen??"127.0.0.1",allowedHosts:!0,port:n,open:s}})}async function h$({path:t,output:e,base:r,listen:n}){const s=await rt.fromWorkspace(t,{
logger:"vite"}),i=await d$({base:r,languageServices:s,outputDir:e,open:!0,listen:n});Uc(i)}const p$={command:"preview [path]",describe:"Start local server to preview production build",builder:t=>t.positional("path",{type:"string",desc:`Directory with LikeC4 source files
if not specified search in current directory`,normalize:!0}).options({output:{alias:"o",type:"string",desc:"output directory from production build",normalize:!0},base:{type:"string",desc:"base url the app is being served from"},listen:{alias:"l",type:"string",desc:"ip address of the network interface to listen on"}}).coerce(["path","output"],He).default("path",He("."),".").default("listen","127.0.0.1","localhost"),async handler(t){await h$(t)}};async function m$({path:t,useDotBin:e,webcomponentPrefix:r,
useHashHistory:n,useOverview:s=!1,base:i,listen:o}){process.env.NODE_ENV="development";const a=await rt.fromWorkspace(t,{graphviz:e?"binary":"wasm"}),c=await Mr(cr(qr(),".likec4-assets-")),l=await zc({buildWebcomponent:!0,hmr:!0,base:i,webcomponentPrefix:r,languageServices:a,useHashHistory:n,useOverviewGraph:s,likec4AssetsDir:c,listen:o});if(l.config.logger.clearScreen("info"),Uc(l),!s)return;const u=await a.diagrams();if(la(u,1)){const f=tt("c4:export"),h=qc(l);if(!h){f.error("no preview server\
 url");return}f.info(K.cyan("wait 5sec before generating previews")),await Ea(5e3);try{await Gc({serverUrl:h,logger:f,views:u,theme:"light",output:c,outputType:"flat"}),await Ea(1e3),f.info(K.yellow("Note: changes in sources do not trigger preview updates, restart is required"))}catch(_){f.error(K.red("Failed to generate previews")),f.error(_)}}else l.config.logger.warn("no views found, no previews generated")}const g$={command:"start [path]",aliases:["serve","dev"],describe:"Start local dev ser\
ver to preview LikeC4 views",builder:t=>t.positional("path",Sr).option("base",uc).option("webcomponent-prefix",ri).option("use-hash-history",cc).option("use-overview",lc).option("use-dot",Ye).option("listen",_m),handler:async t=>{await Ar(),await m$({path:t.path,useDotBin:t["use-dot"],base:t.base,useOverview:t["use-overview"]??!1,webcomponentPrefix:t["webcomponent-prefix"],useHashHistory:t["use-hash-history"],listen:t.listen})}};async function y$({path:t,ignoreLayout:e}){const r=await rt.fromWorkspace(
t,{logger:"vite"}),n=tt("c4:views");let s=!0;return s=await i(r)&&s,s=(e||await o(r,n))&&s,s?0:fa(1);function i(a){return a.getErrors().length===0}async function o(a,c){const l=await a.diagrams();let u=!1;for(const f of l)f.hasLayoutDrift===!0&&(u=!0,c.error(K.red(`Layout drift detected on view '${f.id}' at ${ye(t,f.relativePath??".")}`)));return!u}}const _$={command:"validate [path]",aliases:[],describe:"Validate model syntax and manual layout",builder:t=>t.positional("path",Sr).option("ignore-\
layout",{alias:["skip-layout"],boolean:!0,default:!1,description:"do not validate layout of views"}),handler:async t=>{await y$({path:t.path,ignoreLayout:t["ignore-layout"]})}};Fh({sinks:{console:Vh()},loggers:[{category:"likec4",sinks:["console"],lowestLevel:"info"}]});async function $$(){return Z0(),await gm(kp(Bh)).scriptName("likec4").usage("Usage: $0 <command>").command(g$).command($g).command(u$).command(f$).command(p$).command(_$).command({command:"check-update",describe:"Check for update\
s",handler:async()=>{await e$()}}).help("help").version(Bt).alias("v","version").alias("h","help").demandCommand(1,"Please run with valid command").strict().recommendCommands().showHelpOnFail(!0,"Something is wrong, run with --help").updateStrings({"Options:":K.bold("Options:"),"Positionals:":K.bold("Arguments:"),"Commands:":K.bold("Commands:"),"Examples:":K.bold("Examples:")}).wrap(ca(Gh.columns-20,{min:80,max:120})).parseAsync()}$$().catch(()=>{fa(1)}),process.on("unhandledRejection",t=>{console.
error("Unhandled rejection",t)});
